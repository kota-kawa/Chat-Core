"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["scripts_entries_prompt_share_ts"],{

/***/ "./scripts/components/popup_menu.ts":
/*!******************************************!*\
  !*** ./scripts/components/popup_menu.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n// components/popup_menu.ts\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = '\\n  <style>\\n    /* ============\\n       Reset / Base\\n       ============ */\\n    * {\\n      box-sizing: border-box;\\n      margin: 0;\\n      padding: 0;\\n    }\\n\\n    /* ============\\n       Hidden Checkbox\\n       ============ */\\n    input[type=\"checkbox\"] {\\n      display: none;\\n    }\\n\\n    /* ============\\n       Common Button Styles\\n       ============ */\\n    .btn {\\n      border: none;\\n      border-radius: 50%;\\n      width: 50px;\\n      height: 50px;\\n      cursor: pointer;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      transition: transform 0.3s ease, box-shadow 0.3s ease;\\n      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);\\n      position: relative;\\n    }\\n    .btn:hover {\\n      transform: scale(1.1);\\n      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);\\n    }\\n    .btn svg {\\n      width: 24px;\\n      height: 24px;\\n      fill: #fff;\\n      transition: transform 0.3s ease;\\n    }\\n\\n    /* ============\\n       Action Menu Wrapper\\n       ============ */\\n    .actions-menu {\\n      position: fixed;\\n      bottom: 40px;\\n      right: 40px;\\n      width: 60px;\\n      height: 60px;\\n      animation: popIn 0.6s ease;\\n      z-index: 9999;\\n    }\\n\\n    :host([data-context=\"chat\"]) .actions-menu {\\n      display: none;\\n    }\\n\\n    :host([data-context=\"non-chat\"]) .actions-menu {\\n      bottom: 40px; /* Align with floating prompt button on desktop */\\n    }\\n\\n    @keyframes popIn {\\n      0% {\\n        transform: scale(0.5) rotate(0deg);\\n        opacity: 0;\\n      }\\n      80% {\\n        transform: scale(1.05) rotate(360deg);\\n        opacity: 1;\\n      }\\n      100% {\\n        transform: scale(1) rotate(360deg);\\n        opacity: 1;\\n      }\\n    }\\n\\n    /* ============\\n       Menu Button (Large)\\n       ============ */\\n    .btn--menu {\\n      width: 60px;\\n      height: 60px;\\n      background: linear-gradient(135deg, #56ab2f, #a8e063);\\n      z-index: 1;\\n    }\\n    .btn--menu:after,\\n    .btn--menu:before,\\n    .btn--menu span {\\n      content: \"\";\\n      position: absolute;\\n      width: 25px;\\n      height: 3px;\\n      background: #fff;\\n      transition: transform 0.2s ease;\\n    }\\n    .btn--menu span {\\n      top: 50%;\\n      left: 50%;\\n      transform: translate(-50%, -50%);\\n    }\\n    .btn--menu:after {\\n      top: 50%;\\n      left: 50%;\\n      transform: translate(-50%, calc(-50% - 8px));\\n    }\\n    .btn--menu:before {\\n      top: 50%;\\n      left: 50%;\\n      transform: translate(-50%, calc(-50% + 8px));\\n    }\\n\\n    /* ============\\n       Action Buttons\\n       ============ */\\n    .btn--share {\\n      background: linear-gradient(135deg, #3498db, #2980b9);\\n    }\\n    .btn--star {\\n      background: linear-gradient(135deg, #2ecc71, #27ae60);\\n    }\\n    .btn--comment {\\n      background: linear-gradient(135deg, #f1c40f, #f39c12);\\n    }\\n\\n    /* ============\\n       ボタンの配置\\n       ============ */\\n    .actions-menu .btn {\\n      position: absolute;\\n      top: 8px;\\n      left: 8px;\\n      opacity: 0;\\n      transform: scale(0) rotate(0deg);\\n    }\\n    .actions-menu .btn--menu {\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 60px;\\n      height: 60px;\\n      opacity: 1;\\n      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);\\n      transform: none;\\n    }\\n\\n    /* ============\\n       チェックが入ったら各アイコンが展開\\n       ============ */\\n    #actionMenuButton:checked + .actions-menu > .btn {\\n      opacity: 1;\\n      transform: scale(1) rotate(360deg);\\n      transition: all 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);\\n    }\\n\\n    /* 展開位置 */\\n    #actionMenuButton:checked + .actions-menu > .btn--share {\\n      top: -80px;\\n      left: 0px;\\n    }\\n    #actionMenuButton:checked + .actions-menu > .btn--star {\\n      top: -60px;\\n      left: -60px;\\n    }\\n    #actionMenuButton:checked + .actions-menu > .btn--comment {\\n      top: 0px;\\n      left: -80px;\\n    }\\n\\n    /* ============\\n       ハンバーガー変形\\n       ============ */\\n    #actionMenuButton:checked + .actions-menu .btn--menu:after {\\n      transform: translate(-50%, -50%) rotate(45deg);\\n    }\\n    #actionMenuButton:checked + .actions-menu .btn--menu:before {\\n      transform: translate(-50%, -50%) rotate(-45deg);\\n    }\\n    #actionMenuButton:checked + .actions-menu .btn--menu span {\\n      transform: translate(-50%, -50%) scale(0);\\n    }\\n\\n    /* ============\\n       ホバーアニメーション\\n       ============ */\\n    .btn--share:hover svg { transform: rotate(-20deg) scale(1.2); }\\n    .btn--star:hover svg  { transform: rotate(20deg)  scale(1.2); }\\n    .btn--comment:hover svg { transform: rotate(-20deg) scale(1.2); }\\n  \\n  \\n  /* スマホ表示時の調整（画面幅768px以下） - プロンプト投稿ボタンと同じサイズに */\\n    @media (max-width: 768px) {\\n      /* メニュー全体の位置とサイズ */\\n      .actions-menu {\\n        right: 20px;    /* プロンプト投稿ボタンの位置に合わせて調整 */\\n        width: 56px;    /* プロンプト投稿ボタンと同じサイズに */\\n        height: 56px;   /* プロンプト投稿ボタンと同じサイズに */\\n      }\\n\\n      :host([data-context=\"chat\"]) .actions-menu {\\n        bottom: 100px;  /* チャット入力フォームから十分離して配置 */\\n      }\\n\\n      :host([data-context=\"non-chat\"]) .actions-menu {\\n        bottom: 20px;   /* プロンプト投稿ボタンと同じ高さに配置 */\\n      }\\n      /* ハンバーガーボタンをプロンプト投稿ボタンと完全に同じサイズに */\\n      .actions-menu .btn--menu {\\n        width: 56px !important;\\n        height: 56px !important;\\n      }\\n      /* 他のボタンのサイズ */\\n      .actions-menu .btn:not(.btn--menu) {\\n        width: 45px;\\n        height: 45px;\\n      }\\n      /* アイコンサイズ調整 */\\n      .btn svg {\\n        width: 20px;\\n        height: 20px;\\n      }\\n      \\n    }\\n\\n    /* 非常に小さな画面での調整（画面幅480px以下） - プロンプト投稿ボタンと完全に同じサイズに */\\n    @media (max-width: 480px) {\\n      /* メニュー全体のサイズをプロンプト投稿ボタンに完全に合わせて調整 */\\n      .actions-menu {\\n        bottom: 90px;   /* 入力フォームから十分離して配置 */\\n        right: 15px;    /* プロンプト投稿ボタンの位置に合わせて調整 */\\n        width: 50px;    /* プロンプト投稿ボタンと同じサイズに */\\n        height: 50px;   /* プロンプト投稿ボタンと同じサイズに */\\n      }\\n      /* ハンバーガーボタンをプロンプト投稿ボタンと完全に同じサイズに */\\n      .actions-menu .btn--menu {\\n        width: 50px !important;\\n        height: 50px !important;\\n      }\\n      /* 他のボタンのサイズをより小さく */\\n      .actions-menu .btn:not(.btn--menu) {\\n        width: 40px;\\n        height: 40px;\\n      }\\n      /* アイコンもさらに縮小 */\\n      .btn svg {\\n        width: 18px;\\n        height: 18px;\\n      }\\n\\n      :host([data-context=\"chat\"]) .actions-menu {\\n        bottom: 90px;   /* チャット入力フォームから十分離して配置 */\\n      }\\n\\n      :host([data-context=\"non-chat\"]) .actions-menu {\\n        bottom: 15px;   /* プロンプト投稿ボタンと同じ高さに配置 */\\n      }\\n\\n    }\\n\\n    </style>\\n\\n  <!-- チェックボックス（メニュー開閉用） -->\\n  <input type=\"checkbox\" id=\"actionMenuButton\" />\\n\\n  <!-- アクションメニュー本体 -->\\n  <div class=\"actions-menu\">\\n    <button class=\"btn btn--share\" onclick=\"location.href=\\'/prompt_share\\'\" title=\"シェア\">\\n      <svg viewBox=\"0 0 24 24\">\\n        <path d=\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.048 3.048 0 0 0 0-1.39l7.13-4.17A3 3 0 1 0 14 5a3 3 0 0 0 .05.52l-7.14 4.18a3 3 0 1 0 0 4.6l7.14 4.18c-.03.17-.05.34-.05.52a3 3 0 1 0 3-2.92Z\" />\\n      </svg>\\n    </button>\\n    <button class=\"btn btn--star\" onclick=\"location.href=\\'/\\'\" title=\"スター\">\\n      <svg viewBox=\"0 0 24 24\">\\n        <path d=\"M12,17.27L18.18,21L16.54,13.97 L22,9.24L14.81,8.62L12,2 L9.19,8.62L2,9.24L7.45,13.97 L5.82,21L12,17.27Z\" />\\n      </svg>\\n    </button>\\n    <button class=\"btn btn--comment\" onclick=\"location.href=\\'/memo\\'\" title=\"メモ\">\\n      <svg viewBox=\"0 0 24 24\">\\n        <path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9l7-7V5a2 2 0 0 0-2-2Zm-5 14v-5h5l-5 5Z\" />\\n      </svg>\\n    </button>\\n    <label for=\"actionMenuButton\" class=\"btn btn--menu\"><span></span></label>\\n  </div>\\n';\nclass ActionMenu extends HTMLElement {\n    updateMenuSize() {\n        const chatContainer = document.getElementById(\"chat-container\");\n        const isInChatMode = Boolean(chatContainer && chatContainer.style.display === \"flex\");\n        // CSSカスタムプロパティでコンテキストを設定\n        if (isInChatMode) {\n            this.setAttribute(\"data-context\", \"chat\");\n        } else {\n            this.setAttribute(\"data-context\", \"non-chat\");\n        }\n    }\n    observeScreenChanges() {\n        const chatContainer = document.getElementById(\"chat-container\");\n        if (chatContainer) {\n            // MutationObserverでchat-containerのstyle変化を監視\n            const observer = new MutationObserver(()=>{\n                this.updateMenuSize();\n            });\n            observer.observe(chatContainer, {\n                attributes: true,\n                attributeFilter: [\n                    \"style\"\n                ]\n            });\n        }\n        // 定期的にもチェック（念のため）\n        setInterval(()=>{\n            this.updateMenuSize();\n        }, 1000);\n    }\n    constructor(){\n        super();\n        const shadow = this.attachShadow({\n            mode: \"open\"\n        });\n        shadow.appendChild(template.content.cloneNode(true));\n        this.toggle = shadow.querySelector(\"#actionMenuButton\");\n        //  メニュー外クリックで自動クローズ\n        if (this.toggle) {\n            document.addEventListener(\"click\", (e)=>{\n                var _this_toggle;\n                // メニューが開いていて，クリック先がこのコンポーネント外なら閉じる\n                if (((_this_toggle = this.toggle) === null || _this_toggle === void 0 ? void 0 : _this_toggle.checked) && !e.composedPath().includes(this)) {\n                    this.toggle.checked = false;\n                }\n            });\n        }\n        // チャット画面かどうかを検出して適切なサイズを適用\n        this.updateMenuSize();\n        // 画面の変化を監視\n        this.observeScreenChanges();\n    }\n}\nif (!customElements.get(\"action-menu\")) {\n    customElements.define(\"action-menu\", ActionMenu);\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2NvbXBvbmVudHMvcG9wdXBfbWVudS50cyIsIm1hcHBpbmdzIjoiO0FBQUEsMkJBQTJCO0FBQzNCLE1BQU1BLFdBQVdDLFNBQVNDLGFBQWEsQ0FBQztBQUN4Q0YsU0FBU0csU0FBUyxHQUFJO0FBaVN0QixNQUFNQyxtQkFBbUJDO0lBMEJ2QkMsaUJBQWlCO1FBQ2YsTUFBTUMsZ0JBQWdCTixTQUFTTyxjQUFjLENBQUM7UUFDOUMsTUFBTUMsZUFBZUMsUUFBUUgsaUJBQWlCLGNBQStCSSxLQUFLLENBQUNDLE9BQU8sS0FBSztRQUUvRix5QkFBeUI7UUFDekIsSUFBSUgsY0FBYztZQUNoQixJQUFJLENBQUNJLFlBQVksQ0FBQyxnQkFBZ0I7UUFDcEMsT0FBTztZQUNMLElBQUksQ0FBQ0EsWUFBWSxDQUFDLGdCQUFnQjtRQUNwQztJQUNGO0lBRUFDLHVCQUF1QjtRQUNyQixNQUFNUCxnQkFBZ0JOLFNBQVNPLGNBQWMsQ0FBQztRQUM5QyxJQUFJRCxlQUFlO1lBQ2pCLDZDQUE2QztZQUM3QyxNQUFNUSxXQUFXLElBQUlDLGlCQUFpQjtnQkFDcEMsSUFBSSxDQUFDVixjQUFjO1lBQ3JCO1lBQ0FTLFNBQVNFLE9BQU8sQ0FBQ1YsZUFBZTtnQkFDOUJXLFlBQVk7Z0JBQ1pDLGlCQUFpQjtvQkFBQztpQkFBUTtZQUM1QjtRQUNGO1FBRUEsa0JBQWtCO1FBQ2xCQyxZQUFZO1lBQ1YsSUFBSSxDQUFDZCxjQUFjO1FBQ3JCLEdBQUc7SUFDTDtJQXBEQWUsYUFBYztRQUNaLEtBQUs7UUFDTCxNQUFNQyxTQUFTLElBQUksQ0FBQ0MsWUFBWSxDQUFDO1lBQUVDLE1BQU07UUFBTztRQUNoREYsT0FBT0csV0FBVyxDQUFDekIsU0FBUzBCLE9BQU8sQ0FBQ0MsU0FBUyxDQUFDO1FBRTlDLElBQUksQ0FBQ0MsTUFBTSxHQUFHTixPQUFPTyxhQUFhLENBQUM7UUFFbkMsb0JBQW9CO1FBQ3BCLElBQUksSUFBSSxDQUFDRCxNQUFNLEVBQUU7WUFDZjNCLFNBQVM2QixnQkFBZ0IsQ0FBQyxTQUFTLENBQUNDO29CQUU5QjtnQkFESixtQ0FBbUM7Z0JBQ25DLElBQUkscUJBQUksQ0FBQ0gsTUFBTSxjQUFYLGdEQUFhSSxPQUFPLEtBQUksQ0FBQ0QsRUFBRUUsWUFBWSxHQUFHQyxRQUFRLENBQUMsSUFBSSxHQUFHO29CQUM1RCxJQUFJLENBQUNOLE1BQU0sQ0FBQ0ksT0FBTyxHQUFHO2dCQUN4QjtZQUNGO1FBQ0Y7UUFFQSwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDMUIsY0FBYztRQUNuQixXQUFXO1FBQ1gsSUFBSSxDQUFDUSxvQkFBb0I7SUFDM0I7QUFnQ0Y7QUFFQSxJQUFJLENBQUNxQixlQUFlQyxHQUFHLENBQUMsZ0JBQWdCO0lBQ3RDRCxlQUFlRSxNQUFNLENBQUMsZUFBZWpDO0FBQ3ZDO0FBRVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc2NyaXB0cy9jb21wb25lbnRzL3BvcHVwX21lbnUudHM/MTViMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL3BvcHVwX21lbnUudHNcbmNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xudGVtcGxhdGUuaW5uZXJIVE1MID0gYFxuICA8c3R5bGU+XG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAgUmVzZXQgLyBCYXNlXG4gICAgICAgPT09PT09PT09PT09ICovXG4gICAgKiB7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgcGFkZGluZzogMDtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT1cbiAgICAgICBIaWRkZW4gQ2hlY2tib3hcbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0ge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT1cbiAgICAgICBDb21tb24gQnV0dG9uIFN0eWxlc1xuICAgICAgID09PT09PT09PT09PSAqL1xuICAgIC5idG4ge1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZSwgYm94LXNoYWRvdyAwLjNzIGVhc2U7XG4gICAgICBib3gtc2hhZG93OiAwIDVweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5idG46aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xuICAgICAgYm94LXNoYWRvdzogMCA4cHggMzBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgfVxuICAgIC5idG4gc3ZnIHtcbiAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgZmlsbDogI2ZmZjtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2U7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAgQWN0aW9uIE1lbnUgV3JhcHBlclxuICAgICAgID09PT09PT09PT09PSAqL1xuICAgIC5hY3Rpb25zLW1lbnUge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgYm90dG9tOiA0MHB4O1xuICAgICAgcmlnaHQ6IDQwcHg7XG4gICAgICB3aWR0aDogNjBweDtcbiAgICAgIGhlaWdodDogNjBweDtcbiAgICAgIGFuaW1hdGlvbjogcG9wSW4gMC42cyBlYXNlO1xuICAgICAgei1pbmRleDogOTk5OTtcbiAgICB9XG5cbiAgICA6aG9zdChbZGF0YS1jb250ZXh0PVwiY2hhdFwiXSkgLmFjdGlvbnMtbWVudSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cblxuICAgIDpob3N0KFtkYXRhLWNvbnRleHQ9XCJub24tY2hhdFwiXSkgLmFjdGlvbnMtbWVudSB7XG4gICAgICBib3R0b206IDQwcHg7IC8qIEFsaWduIHdpdGggZmxvYXRpbmcgcHJvbXB0IGJ1dHRvbiBvbiBkZXNrdG9wICovXG4gICAgfVxuXG4gICAgQGtleWZyYW1lcyBwb3BJbiB7XG4gICAgICAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KSByb3RhdGUoMGRlZyk7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB9XG4gICAgICA4MCUge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpIHJvdGF0ZSgzNjBkZWcpO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgfVxuICAgICAgMTAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDM2MGRlZyk7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAgTWVudSBCdXR0b24gKExhcmdlKVxuICAgICAgID09PT09PT09PT09PSAqL1xuICAgIC5idG4tLW1lbnUge1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNTZhYjJmLCAjYThlMDYzKTtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgfVxuICAgIC5idG4tLW1lbnU6YWZ0ZXIsXG4gICAgLmJ0bi0tbWVudTpiZWZvcmUsXG4gICAgLmJ0bi0tbWVudSBzcGFuIHtcbiAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMjVweDtcbiAgICAgIGhlaWdodDogM3B4O1xuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2U7XG4gICAgfVxuICAgIC5idG4tLW1lbnUgc3BhbiB7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIH1cbiAgICAuYnRuLS1tZW51OmFmdGVyIHtcbiAgICAgIHRvcDogNTAlO1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgY2FsYygtNTAlIC0gOHB4KSk7XG4gICAgfVxuICAgIC5idG4tLW1lbnU6YmVmb3JlIHtcbiAgICAgIHRvcDogNTAlO1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgY2FsYygtNTAlICsgOHB4KSk7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAgQWN0aW9uIEJ1dHRvbnNcbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICAuYnRuLS1zaGFyZSB7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMzQ5OGRiLCAjMjk4MGI5KTtcbiAgICB9XG4gICAgLmJ0bi0tc3RhciB7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMmVjYzcxLCAjMjdhZTYwKTtcbiAgICB9XG4gICAgLmJ0bi0tY29tbWVudCB7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjFjNDBmLCAjZjM5YzEyKTtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT1cbiAgICAgICDjg5zjgr/jg7Pjga7phY3nva5cbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICAuYWN0aW9ucy1tZW51IC5idG4ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiA4cHg7XG4gICAgICBsZWZ0OiA4cHg7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoMGRlZyk7XG4gICAgfVxuICAgIC5hY3Rpb25zLW1lbnUgLmJ0bi0tbWVudSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgYm94LXNoYWRvdzogMCA1cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICB0cmFuc2Zvcm06IG5vbmU7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAg44OB44Kn44OD44Kv44GM5YWl44Gj44Gf44KJ5ZCE44Ki44Kk44Kz44Oz44GM5bGV6ZaLXG4gICAgICAgPT09PT09PT09PT09ICovXG4gICAgI2FjdGlvbk1lbnVCdXR0b246Y2hlY2tlZCArIC5hY3Rpb25zLW1lbnUgPiAuYnRuIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgzNjBkZWcpO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNnMgY3ViaWMtYmV6aWVyKDAuNjQ1LCAwLjA0NSwgMC4zNTUsIDEpO1xuICAgIH1cblxuICAgIC8qIOWxlemWi+S9jee9riAqL1xuICAgICNhY3Rpb25NZW51QnV0dG9uOmNoZWNrZWQgKyAuYWN0aW9ucy1tZW51ID4gLmJ0bi0tc2hhcmUge1xuICAgICAgdG9wOiAtODBweDtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICB9XG4gICAgI2FjdGlvbk1lbnVCdXR0b246Y2hlY2tlZCArIC5hY3Rpb25zLW1lbnUgPiAuYnRuLS1zdGFyIHtcbiAgICAgIHRvcDogLTYwcHg7XG4gICAgICBsZWZ0OiAtNjBweDtcbiAgICB9XG4gICAgI2FjdGlvbk1lbnVCdXR0b246Y2hlY2tlZCArIC5hY3Rpb25zLW1lbnUgPiAuYnRuLS1jb21tZW50IHtcbiAgICAgIHRvcDogMHB4O1xuICAgICAgbGVmdDogLTgwcHg7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAg44OP44Oz44OQ44O844Ks44O85aSJ5b2iXG4gICAgICAgPT09PT09PT09PT09ICovXG4gICAgI2FjdGlvbk1lbnVCdXR0b246Y2hlY2tlZCArIC5hY3Rpb25zLW1lbnUgLmJ0bi0tbWVudTphZnRlciB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoNDVkZWcpO1xuICAgIH1cbiAgICAjYWN0aW9uTWVudUJ1dHRvbjpjaGVja2VkICsgLmFjdGlvbnMtbWVudSAuYnRuLS1tZW51OmJlZm9yZSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoLTQ1ZGVnKTtcbiAgICB9XG4gICAgI2FjdGlvbk1lbnVCdXR0b246Y2hlY2tlZCArIC5hY3Rpb25zLW1lbnUgLmJ0bi0tbWVudSBzcGFuIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDApO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIOODm+ODkOODvOOCouODi+ODoeODvOOCt+ODp+ODs1xuICAgICAgID09PT09PT09PT09PSAqL1xuICAgIC5idG4tLXNoYXJlOmhvdmVyIHN2ZyB7IHRyYW5zZm9ybTogcm90YXRlKC0yMGRlZykgc2NhbGUoMS4yKTsgfVxuICAgIC5idG4tLXN0YXI6aG92ZXIgc3ZnICB7IHRyYW5zZm9ybTogcm90YXRlKDIwZGVnKSAgc2NhbGUoMS4yKTsgfVxuICAgIC5idG4tLWNvbW1lbnQ6aG92ZXIgc3ZnIHsgdHJhbnNmb3JtOiByb3RhdGUoLTIwZGVnKSBzY2FsZSgxLjIpOyB9XG4gIFxuICBcbiAgLyog44K544Oe44Ob6KGo56S65pmC44Gu6Kq/5pW077yI55S76Z2i5bmFNzY4cHjku6XkuIvvvIkgLSDjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgajlkIzjgZjjgrXjgqTjgrrjgasgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgIC8qIOODoeODi+ODpeODvOWFqOS9k+OBruS9jee9ruOBqOOCteOCpOOCuiAqL1xuICAgICAgLmFjdGlvbnMtbWVudSB7XG4gICAgICAgIHJpZ2h0OiAyMHB4OyAgICAvKiDjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7Pjga7kvY3nva7jgavlkIjjgo/jgZvjgaboqr/mlbQgKi9cbiAgICAgICAgd2lkdGg6IDU2cHg7ICAgIC8qIOODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBqOWQjOOBmOOCteOCpOOCuuOBqyAqL1xuICAgICAgICBoZWlnaHQ6IDU2cHg7ICAgLyog44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5ZCM44GY44K144Kk44K644GrICovXG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtkYXRhLWNvbnRleHQ9XCJjaGF0XCJdKSAuYWN0aW9ucy1tZW51IHtcbiAgICAgICAgYm90dG9tOiAxMDBweDsgIC8qIOODgeODo+ODg+ODiOWFpeWKm+ODleOCqeODvOODoOOBi+OCieWNgeWIhumbouOBl+OBpumFjee9riAqL1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZGF0YS1jb250ZXh0PVwibm9uLWNoYXRcIl0pIC5hY3Rpb25zLW1lbnUge1xuICAgICAgICBib3R0b206IDIwcHg7ICAgLyog44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5ZCM44GY6auY44GV44Gr6YWN572uICovXG4gICAgICB9XG4gICAgICAvKiDjg4/jg7Pjg5Djg7zjgqzjg7zjg5zjgr/jg7PjgpLjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgajlrozlhajjgavlkIzjgZjjgrXjgqTjgrrjgasgKi9cbiAgICAgIC5hY3Rpb25zLW1lbnUgLmJ0bi0tbWVudSB7XG4gICAgICAgIHdpZHRoOiA1NnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogNTZweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLyog5LuW44Gu44Oc44K/44Oz44Gu44K144Kk44K6ICovXG4gICAgICAuYWN0aW9ucy1tZW51IC5idG46bm90KC5idG4tLW1lbnUpIHtcbiAgICAgICAgd2lkdGg6IDQ1cHg7XG4gICAgICAgIGhlaWdodDogNDVweDtcbiAgICAgIH1cbiAgICAgIC8qIOOCouOCpOOCs+ODs+OCteOCpOOCuuiqv+aVtCAqL1xuICAgICAgLmJ0biBzdmcge1xuICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgfVxuICAgICAgXG4gICAgfVxuXG4gICAgLyog6Z2e5bi444Gr5bCP44GV44Gq55S76Z2i44Gn44Gu6Kq/5pW077yI55S76Z2i5bmFNDgwcHjku6XkuIvvvIkgLSDjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgajlrozlhajjgavlkIzjgZjjgrXjgqTjgrrjgasgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICAgIC8qIOODoeODi+ODpeODvOWFqOS9k+OBruOCteOCpOOCuuOCkuODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBq+WujOWFqOOBq+WQiOOCj+OBm+OBpuiqv+aVtCAqL1xuICAgICAgLmFjdGlvbnMtbWVudSB7XG4gICAgICAgIGJvdHRvbTogOTBweDsgICAvKiDlhaXlipvjg5Xjgqnjg7zjg6DjgYvjgonljYHliIbpm6LjgZfjgabphY3nva4gKi9cbiAgICAgICAgcmlnaHQ6IDE1cHg7ICAgIC8qIOODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBruS9jee9ruOBq+WQiOOCj+OBm+OBpuiqv+aVtCAqL1xuICAgICAgICB3aWR0aDogNTBweDsgICAgLyog44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5ZCM44GY44K144Kk44K644GrICovXG4gICAgICAgIGhlaWdodDogNTBweDsgICAvKiDjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgajlkIzjgZjjgrXjgqTjgrrjgasgKi9cbiAgICAgIH1cbiAgICAgIC8qIOODj+ODs+ODkOODvOOCrOODvOODnOOCv+ODs+OCkuODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBqOWujOWFqOOBq+WQjOOBmOOCteOCpOOCuuOBqyAqL1xuICAgICAgLmFjdGlvbnMtbWVudSAuYnRuLS1tZW51IHtcbiAgICAgICAgd2lkdGg6IDUwcHggIWltcG9ydGFudDtcbiAgICAgICAgaGVpZ2h0OiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAvKiDku5bjga7jg5zjgr/jg7Pjga7jgrXjgqTjgrrjgpLjgojjgorlsI/jgZXjgY8gKi9cbiAgICAgIC5hY3Rpb25zLW1lbnUgLmJ0bjpub3QoLmJ0bi0tbWVudSkge1xuICAgICAgICB3aWR0aDogNDBweDtcbiAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgfVxuICAgICAgLyog44Ki44Kk44Kz44Oz44KC44GV44KJ44Gr57iu5bCPICovXG4gICAgICAuYnRuIHN2ZyB7XG4gICAgICAgIHdpZHRoOiAxOHB4O1xuICAgICAgICBoZWlnaHQ6IDE4cHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtkYXRhLWNvbnRleHQ9XCJjaGF0XCJdKSAuYWN0aW9ucy1tZW51IHtcbiAgICAgICAgYm90dG9tOiA5MHB4OyAgIC8qIOODgeODo+ODg+ODiOWFpeWKm+ODleOCqeODvOODoOOBi+OCieWNgeWIhumbouOBl+OBpumFjee9riAqL1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZGF0YS1jb250ZXh0PVwibm9uLWNoYXRcIl0pIC5hY3Rpb25zLW1lbnUge1xuICAgICAgICBib3R0b206IDE1cHg7ICAgLyog44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5ZCM44GY6auY44GV44Gr6YWN572uICovXG4gICAgICB9XG5cbiAgICB9XG5cbiAgICA8L3N0eWxlPlxuXG4gIDwhLS0g44OB44Kn44OD44Kv44Oc44OD44Kv44K577yI44Oh44OL44Ol44O86ZaL6ZaJ55So77yJIC0tPlxuICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJhY3Rpb25NZW51QnV0dG9uXCIgLz5cblxuICA8IS0tIOOCouOCr+OCt+ODp+ODs+ODoeODi+ODpeODvOacrOS9kyAtLT5cbiAgPGRpdiBjbGFzcz1cImFjdGlvbnMtbWVudVwiPlxuICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLS1zaGFyZVwiIG9uY2xpY2s9XCJsb2NhdGlvbi5ocmVmPScvcHJvbXB0X3NoYXJlJ1wiIHRpdGxlPVwi44K344Kn44KiXCI+XG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xOCAxNi4wOGMtLjc2IDAtMS40NC4zLTEuOTYuNzdMOC45MSAxMi43YTMuMDQ4IDMuMDQ4IDAgMCAwIDAtMS4zOWw3LjEzLTQuMTdBMyAzIDAgMSAwIDE0IDVhMyAzIDAgMCAwIC4wNS41MmwtNy4xNCA0LjE4YTMgMyAwIDEgMCAwIDQuNmw3LjE0IDQuMThjLS4wMy4xNy0uMDUuMzQtLjA1LjUyYTMgMyAwIDEgMCAzLTIuOTJaXCIgLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLS1zdGFyXCIgb25jbGljaz1cImxvY2F0aW9uLmhyZWY9Jy8nXCIgdGl0bGU9XCLjgrnjgr/jg7xcIj5cbiAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICA8cGF0aCBkPVwiTTEyLDE3LjI3TDE4LjE4LDIxTDE2LjU0LDEzLjk3IEwyMiw5LjI0TDE0LjgxLDguNjJMMTIsMiBMOS4xOSw4LjYyTDIsOS4yNEw3LjQ1LDEzLjk3IEw1LjgyLDIxTDEyLDE3LjI3WlwiIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0tY29tbWVudFwiIG9uY2xpY2s9XCJsb2NhdGlvbi5ocmVmPScvbWVtbydcIiB0aXRsZT1cIuODoeODolwiPlxuICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgIDxwYXRoIGQ9XCJNMTkgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmg5bDctN1Y1YTIgMiAwIDAgMC0yLTJabS01IDE0di01aDVsLTUgNVpcIiAvPlxuICAgICAgPC9zdmc+XG4gICAgPC9idXR0b24+XG4gICAgPGxhYmVsIGZvcj1cImFjdGlvbk1lbnVCdXR0b25cIiBjbGFzcz1cImJ0biBidG4tLW1lbnVcIj48c3Bhbj48L3NwYW4+PC9sYWJlbD5cbiAgPC9kaXY+XG5gO1xuXG5jbGFzcyBBY3Rpb25NZW51IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBwcml2YXRlIHRvZ2dsZTogSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIHNoYWRvdy5hcHBlbmRDaGlsZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLnRvZ2dsZSA9IHNoYWRvdy5xdWVyeVNlbGVjdG9yKFwiI2FjdGlvbk1lbnVCdXR0b25cIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG5cbiAgICAvLyAg44Oh44OL44Ol44O85aSW44Kv44Oq44OD44Kv44Gn6Ieq5YuV44Kv44Ot44O844K6XG4gICAgaWYgKHRoaXMudG9nZ2xlKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgLy8g44Oh44OL44Ol44O844GM6ZaL44GE44Gm44GE44Gm77yM44Kv44Oq44OD44Kv5YWI44GM44GT44Gu44Kz44Oz44Od44O844ON44Oz44OI5aSW44Gq44KJ6ZaJ44GY44KLXG4gICAgICAgIGlmICh0aGlzLnRvZ2dsZT8uY2hlY2tlZCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyh0aGlzKSkge1xuICAgICAgICAgIHRoaXMudG9nZ2xlLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g44OB44Oj44OD44OI55S76Z2i44GL44Gp44GG44GL44KS5qSc5Ye644GX44Gm6YGp5YiH44Gq44K144Kk44K644KS6YGp55SoXG4gICAgdGhpcy51cGRhdGVNZW51U2l6ZSgpO1xuICAgIC8vIOeUu+mdouOBruWkieWMluOCkuebo+imllxuICAgIHRoaXMub2JzZXJ2ZVNjcmVlbkNoYW5nZXMoKTtcbiAgfVxuXG4gIHVwZGF0ZU1lbnVTaXplKCkge1xuICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXQtY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IGlzSW5DaGF0TW9kZSA9IEJvb2xlYW4oY2hhdENvbnRhaW5lciAmJiAoY2hhdENvbnRhaW5lciBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9PT0gXCJmbGV4XCIpO1xuXG4gICAgLy8gQ1NT44Kr44K544K/44Og44OX44Ot44OR44OG44Kj44Gn44Kz44Oz44OG44Kt44K544OI44KS6Kit5a6aXG4gICAgaWYgKGlzSW5DaGF0TW9kZSkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRleHRcIiwgXCJjaGF0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImRhdGEtY29udGV4dFwiLCBcIm5vbi1jaGF0XCIpO1xuICAgIH1cbiAgfVxuXG4gIG9ic2VydmVTY3JlZW5DaGFuZ2VzKCkge1xuICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXQtY29udGFpbmVyXCIpO1xuICAgIGlmIChjaGF0Q29udGFpbmVyKSB7XG4gICAgICAvLyBNdXRhdGlvbk9ic2VydmVy44GnY2hhdC1jb250YWluZXLjga5zdHlsZeWkieWMluOCkuebo+imllxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlTWVudVNpemUoKTtcbiAgICAgIH0pO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjaGF0Q29udGFpbmVyLCB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wic3R5bGVcIl1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIOWumuacn+eahOOBq+OCguODgeOCp+ODg+OCr++8iOW/teOBruOBn+OCge+8iVxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlTWVudVNpemUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5pZiAoIWN1c3RvbUVsZW1lbnRzLmdldChcImFjdGlvbi1tZW51XCIpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcImFjdGlvbi1tZW51XCIsIEFjdGlvbk1lbnUpO1xufVxuXG5leHBvcnQge307XG4iXSwibmFtZXMiOlsidGVtcGxhdGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJBY3Rpb25NZW51IiwiSFRNTEVsZW1lbnQiLCJ1cGRhdGVNZW51U2l6ZSIsImNoYXRDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImlzSW5DaGF0TW9kZSIsIkJvb2xlYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJzZXRBdHRyaWJ1dGUiLCJvYnNlcnZlU2NyZWVuQ2hhbmdlcyIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlRmlsdGVyIiwic2V0SW50ZXJ2YWwiLCJjb25zdHJ1Y3RvciIsInNoYWRvdyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJhcHBlbmRDaGlsZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0b2dnbGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjaGVja2VkIiwiY29tcG9zZWRQYXRoIiwiaW5jbHVkZXMiLCJjdXN0b21FbGVtZW50cyIsImdldCIsImRlZmluZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/components/popup_menu.ts\n"));

/***/ }),

/***/ "./scripts/components/user_icon.ts":
/*!*****************************************!*\
  !*** ./scripts/components/user_icon.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n// components/user_icon.ts\n// ────────────────────────────────────────────────\n// 右上ユーザーアイコン  +  ドロップダウンメニュー\n//  - /api/user/profile で avatar_url / username を取得\n//  - 取得失敗時はデフォルト画像・空文字にフォールバック\n// ────────────────────────────────────────────────\nconst tpl = document.createElement(\"template\");\ntpl.innerHTML = '\\n  <style>\\n    :host {\\n      position: fixed;\\n      top: 10px;\\n      right: 10px;\\n      z-index: 10000;\\n      font-family: inherit;\\n      user-select: none;\\n    }\\n    .btn {\\n      background: transparent;\\n      border: none;\\n      cursor: pointer;\\n      padding: .5rem;\\n      border-radius: 50%;\\n      transition: background-color .15s;\\n      display: inline-flex;\\n      align-items: center;\\n      justify-content: center;\\n    }\\n    .btn:hover { background: rgba(0,0,0,.06); }\\n    .avatar {\\n      width: 2.2rem;\\n      height: 2.2rem;\\n      border-radius: 50%;\\n      object-fit: cover;\\n      display: block;\\n    }\\n    /* ホバー時にユーザー名ツールチップ */\\n    .btn:hover::after {\\n      content: attr(data-username);\\n      position: absolute;\\n      top: 105%;\\n      right: 0;\\n      padding: .25rem .6rem;\\n      background: #333;\\n      color: #fff;\\n      font-size: .75rem;\\n      border-radius: 4px;\\n      white-space: nowrap;\\n      pointer-events: none;\\n    }\\n    /* ▼ dropdown */\\n    .dropdown {\\n      position: absolute;\\n      top: 3rem;\\n      right: 0;\\n      background: #fff;\\n      border: 1px solid #ddd;\\n      border-radius: 6px;\\n      box-shadow: 0 2px 8px rgba(0,0,0,.1);\\n      min-width: 160px;\\n      display: none;\\n      flex-direction: column;\\n      overflow: hidden;\\n      animation: fade .15s ease-out;\\n    }\\n    @keyframes fade { from { opacity: 0; transform: translateY(-5px);}\\n                      to   { opacity: 1; transform: translateY(0);} }\\n    .item {\\n      padding: .6rem 1rem;\\n      font-size: .9rem;\\n      text-decoration: none;\\n      color: #333;\\n      display: flex;\\n      align-items: center;\\n      gap: .5rem;\\n      cursor: pointer;\\n    }\\n    .item:hover { background: #f5f5f5; }\\n  </style>\\n\\n  <button class=\"btn\" title=\"ユーザー\">\\n    <img class=\"avatar\" src=\"/static/user-icon.png\" alt=\"ユーザーアイコン\">\\n  </button>\\n\\n  <div class=\"dropdown\">\\n    <a class=\"item\" href=\"/settings\">⚙️ 設定</a>\\n    <a class=\"item\" href=\"/logout\">\\uD83D\\uDEAA ログアウト</a>\\n  </div>\\n';\nclass UserIcon extends HTMLElement {\n    connectedCallback() {\n        document.addEventListener(\"authstatechange\", this._handleAuthState);\n        if (typeof window.loggedIn !== \"undefined\") {\n            this._handleAuthStateInternal({\n                detail: {\n                    loggedIn: window.loggedIn\n                }\n            });\n        }\n    }\n    disconnectedCallback() {\n        document.removeEventListener(\"authstatechange\", this._handleAuthState);\n    }\n    _handleAuthStateInternal(evt) {\n        var _customEvent_detail;\n        const customEvent = evt;\n        const loggedIn = Boolean(customEvent === null || customEvent === void 0 ? void 0 : (_customEvent_detail = customEvent.detail) === null || _customEvent_detail === void 0 ? void 0 : _customEvent_detail.loggedIn);\n        if (loggedIn) {\n            if (!this._profileLoaded) {\n                this.loadProfile();\n            }\n        } else {\n            this._profileLoaded = false;\n            this.dropdown.style.display = \"none\";\n            this.avatarImg.src = \"/static/user-icon.png\";\n            this.avatarImg.alt = \"ユーザーアイコン\";\n            this.btn.removeAttribute(\"data-username\");\n        }\n    }\n    async loadProfile() {\n        try {\n            const res = await fetch(\"/api/user/profile\", {\n                credentials: \"same-origin\"\n            });\n            if (res.status === 401) {\n                // 未ログイン時は静かに何もしない\n                this._profileLoaded = false;\n                return;\n            }\n            if (!res.ok) throw new Error(\"status \".concat(res.status));\n            const data = await res.json();\n            const avatar = data.avatar_url || \"/static/user-icon.png\";\n            const name = data.username || \"\";\n            this.avatarImg.src = avatar;\n            // ツールチップにユーザー名\n            this.btn.setAttribute(\"data-username\", name);\n            // alt 属性にもセット\n            this.avatarImg.alt = name ? \"\".concat(name, \"のアイコン\") : \"ユーザーアイコン\";\n            this._profileLoaded = true;\n        } catch (err) {\n            console.warn(\"user_icon: profile load failed\", err);\n            this._profileLoaded = false;\n        }\n    }\n    constructor(){\n        super();\n        this._profileLoaded = false;\n        const root = this.attachShadow({\n            mode: \"open\"\n        });\n        root.append(tpl.content.cloneNode(true));\n        const btn = root.querySelector(\".btn\");\n        const dropdown = root.querySelector(\".dropdown\");\n        const avatarImg = root.querySelector(\".avatar\");\n        if (!btn || !dropdown || !avatarImg) {\n            throw new Error(\"user-icon template is missing required elements\");\n        }\n        this.btn = btn;\n        this.dropdown = dropdown;\n        this.avatarImg = avatarImg;\n        this._handleAuthState = this._handleAuthStateInternal.bind(this);\n        // ドロップダウン開閉\n        this.btn.addEventListener(\"click\", (e)=>{\n            e.stopPropagation();\n            this.dropdown.style.display = this.dropdown.style.display === \"flex\" ? \"none\" : \"flex\";\n        });\n        // 外側クリックで閉じる\n        document.addEventListener(\"click\", ()=>{\n            this.dropdown.style.display = \"none\";\n        });\n    }\n}\nif (!customElements.get(\"user-icon\")) {\n    customElements.define(\"user-icon\", UserIcon);\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2NvbXBvbmVudHMvdXNlcl9pY29uLnRzIiwibWFwcGluZ3MiOiI7QUFBQSwwQkFBMEI7QUFDMUIsbURBQW1EO0FBQ25ELDZCQUE2QjtBQUM3QixtREFBbUQ7QUFDbkQsK0JBQStCO0FBQy9CLG1EQUFtRDtBQUVuRCxNQUFNQSxNQUFNQyxTQUFTQyxhQUFhLENBQUM7QUFDbkNGLElBQUlHLFNBQVMsR0FBSTtBQW1GakIsTUFBTUMsaUJBQWlCQztJQXFDckJDLG9CQUFvQjtRQUNsQkwsU0FBU00sZ0JBQWdCLENBQUMsbUJBQW1CLElBQUksQ0FBQ0MsZ0JBQWdCO1FBQ2xFLElBQUksT0FBT0MsT0FBT0MsUUFBUSxLQUFLLGFBQWE7WUFDMUMsSUFBSSxDQUFDQyx3QkFBd0IsQ0FBQztnQkFBRUMsUUFBUTtvQkFBRUYsVUFBVUQsT0FBT0MsUUFBUTtnQkFBQztZQUFFO1FBQ3hFO0lBQ0Y7SUFFQUcsdUJBQXVCO1FBQ3JCWixTQUFTYSxtQkFBbUIsQ0FBQyxtQkFBbUIsSUFBSSxDQUFDTixnQkFBZ0I7SUFDdkU7SUFFUUcseUJBQXlCSSxHQUFXLEVBQUU7WUFFbkJDO1FBRHpCLE1BQU1BLGNBQWNEO1FBQ3BCLE1BQU1MLFdBQVdPLFFBQVFELHdCQUFBQSxtQ0FBQUEsc0JBQUFBLFlBQWFKLE1BQU0sY0FBbkJJLDBDQUFBQSxvQkFBcUJOLFFBQVE7UUFFdEQsSUFBSUEsVUFBVTtZQUNaLElBQUksQ0FBQyxJQUFJLENBQUNRLGNBQWMsRUFBRTtnQkFDeEIsSUFBSSxDQUFDQyxXQUFXO1lBQ2xCO1FBQ0YsT0FBTztZQUNMLElBQUksQ0FBQ0QsY0FBYyxHQUFHO1lBQ3RCLElBQUksQ0FBQ0UsUUFBUSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sR0FBRztZQUM5QixJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsR0FBRyxHQUFHO1lBQ3JCLElBQUksQ0FBQ0QsU0FBUyxDQUFDRSxHQUFHLEdBQUc7WUFDckIsSUFBSSxDQUFDQyxHQUFHLENBQUNDLGVBQWUsQ0FBQztRQUMzQjtJQUNGO0lBRUEsTUFBTVIsY0FBYztRQUNsQixJQUFJO1lBQ0YsTUFBTVMsTUFBTSxNQUFNQyxNQUFNLHFCQUFxQjtnQkFBRUMsYUFBYTtZQUFjO1lBQzFFLElBQUlGLElBQUlHLE1BQU0sS0FBSyxLQUFLO2dCQUN0QixrQkFBa0I7Z0JBQ2xCLElBQUksQ0FBQ2IsY0FBYyxHQUFHO2dCQUN0QjtZQUNGO1lBQ0EsSUFBSSxDQUFDVSxJQUFJSSxFQUFFLEVBQUUsTUFBTSxJQUFJQyxNQUFNLFVBQXFCLE9BQVhMLElBQUlHLE1BQU07WUFDakQsTUFBTUcsT0FBTyxNQUFNTixJQUFJTyxJQUFJO1lBRTNCLE1BQU1DLFNBQVNGLEtBQUtHLFVBQVUsSUFBSTtZQUNsQyxNQUFNQyxPQUFPSixLQUFLSyxRQUFRLElBQUk7WUFFOUIsSUFBSSxDQUFDaEIsU0FBUyxDQUFDQyxHQUFHLEdBQUdZO1lBQ3JCLGVBQWU7WUFDZixJQUFJLENBQUNWLEdBQUcsQ0FBQ2MsWUFBWSxDQUFDLGlCQUFpQkY7WUFDdkMsY0FBYztZQUNkLElBQUksQ0FBQ2YsU0FBUyxDQUFDRSxHQUFHLEdBQUdhLE9BQU8sR0FBUSxPQUFMQSxNQUFLLFdBQVM7WUFDN0MsSUFBSSxDQUFDcEIsY0FBYyxHQUFHO1FBQ3hCLEVBQUUsT0FBT3VCLEtBQUs7WUFDWkMsUUFBUUMsSUFBSSxDQUFDLGtDQUFrQ0Y7WUFDL0MsSUFBSSxDQUFDdkIsY0FBYyxHQUFHO1FBQ3hCO0lBQ0Y7SUFsRkEwQixhQUFjO1FBQ1osS0FBSzthQUpDMUIsaUJBQWlCO1FBS3ZCLE1BQU0yQixPQUFPLElBQUksQ0FBQ0MsWUFBWSxDQUFDO1lBQUVDLE1BQU07UUFBTztRQUM5Q0YsS0FBS0csTUFBTSxDQUFDaEQsSUFBSWlELE9BQU8sQ0FBQ0MsU0FBUyxDQUFDO1FBRWxDLE1BQU14QixNQUFNbUIsS0FBS00sYUFBYSxDQUFDO1FBQy9CLE1BQU0vQixXQUFXeUIsS0FBS00sYUFBYSxDQUFDO1FBQ3BDLE1BQU01QixZQUFZc0IsS0FBS00sYUFBYSxDQUFDO1FBRXJDLElBQUksQ0FBQ3pCLE9BQU8sQ0FBQ04sWUFBWSxDQUFDRyxXQUFXO1lBQ25DLE1BQU0sSUFBSVUsTUFBTTtRQUNsQjtRQUVBLElBQUksQ0FBQ1AsR0FBRyxHQUFHQTtRQUNYLElBQUksQ0FBQ04sUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUNHLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDZixnQkFBZ0IsR0FBRyxJQUFJLENBQUNHLHdCQUF3QixDQUFDeUMsSUFBSSxDQUFDLElBQUk7UUFFL0QsWUFBWTtRQUNaLElBQUksQ0FBQzFCLEdBQUcsQ0FBQ25CLGdCQUFnQixDQUFDLFNBQVMsQ0FBQzhDO1lBQ2xDQSxFQUFFQyxlQUFlO1lBQ2pCLElBQUksQ0FBQ2xDLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLEdBQ3pCLElBQUksQ0FBQ0YsUUFBUSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sS0FBSyxTQUFTLFNBQVM7UUFDdEQ7UUFDQSxhQUFhO1FBQ2JyQixTQUFTTSxnQkFBZ0IsQ0FBQyxTQUFTO1lBQ2pDLElBQUksQ0FBQ2EsUUFBUSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sR0FBRztRQUNoQztJQUNGO0FBdURGO0FBRUEsSUFBSSxDQUFDaUMsZUFBZUMsR0FBRyxDQUFDLGNBQWM7SUFDcENELGVBQWVFLE1BQU0sQ0FBQyxhQUFhckQ7QUFDckM7QUFFVSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zY3JpcHRzL2NvbXBvbmVudHMvdXNlcl9pY29uLnRzP2RkNmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29tcG9uZW50cy91c2VyX2ljb24udHNcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuLy8g5Y+z5LiK44Om44O844K244O844Ki44Kk44Kz44OzICArICDjg4njg63jg4Pjg5fjg4Djgqbjg7Pjg6Hjg4vjg6Xjg7xcbi8vICAtIC9hcGkvdXNlci9wcm9maWxlIOOBpyBhdmF0YXJfdXJsIC8gdXNlcm5hbWUg44KS5Y+W5b6XXG4vLyAgLSDlj5blvpflpLHmlZfmmYLjga/jg4fjg5Xjgqnjg6vjg4jnlLvlg4/jg7vnqbrmloflrZfjgavjg5Xjgqnjg7zjg6vjg5Djg4Pjgq9cbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuXG5jb25zdCB0cGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG50cGwuaW5uZXJIVE1MID0gYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAxMHB4O1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuICAgIC5idG4ge1xuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBwYWRkaW5nOiAuNXJlbTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjE1cztcbiAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cbiAgICAuYnRuOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMDYpOyB9XG4gICAgLmF2YXRhciB7XG4gICAgICB3aWR0aDogMi4ycmVtO1xuICAgICAgaGVpZ2h0OiAyLjJyZW07XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAvKiDjg5vjg5Djg7zmmYLjgavjg6bjg7zjgrbjg7zlkI3jg4Tjg7zjg6vjg4Hjg4Pjg5cgKi9cbiAgICAuYnRuOmhvdmVyOjphZnRlciB7XG4gICAgICBjb250ZW50OiBhdHRyKGRhdGEtdXNlcm5hbWUpO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxMDUlO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgICBwYWRkaW5nOiAuMjVyZW0gLjZyZW07XG4gICAgICBiYWNrZ3JvdW5kOiAjMzMzO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBmb250LXNpemU6IC43NXJlbTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB9XG4gICAgLyog4pa8IGRyb3Bkb3duICovXG4gICAgLmRyb3Bkb3duIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogM3JlbTtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLDAsMCwuMSk7XG4gICAgICBtaW4td2lkdGg6IDE2MHB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgYW5pbWF0aW9uOiBmYWRlIC4xNXMgZWFzZS1vdXQ7XG4gICAgfVxuICAgIEBrZXlmcmFtZXMgZmFkZSB7IGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7fVxuICAgICAgICAgICAgICAgICAgICAgIHRvICAgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7fSB9XG4gICAgLml0ZW0ge1xuICAgICAgcGFkZGluZzogLjZyZW0gMXJlbTtcbiAgICAgIGZvbnQtc2l6ZTogLjlyZW07XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgZ2FwOiAuNXJlbTtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgLml0ZW06aG92ZXIgeyBiYWNrZ3JvdW5kOiAjZjVmNWY1OyB9XG4gIDwvc3R5bGU+XG5cbiAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIHRpdGxlPVwi44Om44O844K244O8XCI+XG4gICAgPGltZyBjbGFzcz1cImF2YXRhclwiIHNyYz1cIi9zdGF0aWMvdXNlci1pY29uLnBuZ1wiIGFsdD1cIuODpuODvOOCtuODvOOCouOCpOOCs+ODs1wiPlxuICA8L2J1dHRvbj5cblxuICA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj5cbiAgICA8YSBjbGFzcz1cIml0ZW1cIiBocmVmPVwiL3NldHRpbmdzXCI+4pqZ77iPIOioreWumjwvYT5cbiAgICA8YSBjbGFzcz1cIml0ZW1cIiBocmVmPVwiL2xvZ291dFwiPvCfmqog44Ot44Kw44Ki44Km44OIPC9hPlxuICA8L2Rpdj5cbmA7XG5cbmNsYXNzIFVzZXJJY29uIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBwcml2YXRlIGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHByaXZhdGUgZHJvcGRvd246IEhUTUxEaXZFbGVtZW50O1xuICBwcml2YXRlIGF2YXRhckltZzogSFRNTEltYWdlRWxlbWVudDtcbiAgcHJpdmF0ZSBfcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9oYW5kbGVBdXRoU3RhdGU6IChldnQ/OiBFdmVudCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIHJvb3QuYXBwZW5kKHRwbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICBjb25zdCBidG4gPSByb290LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBjb25zdCBkcm9wZG93biA9IHJvb3QucXVlcnlTZWxlY3RvcihcIi5kcm9wZG93blwiKSBhcyBIVE1MRGl2RWxlbWVudCB8IG51bGw7XG4gICAgY29uc3QgYXZhdGFySW1nID0gcm9vdC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhclwiKSBhcyBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbDtcblxuICAgIGlmICghYnRuIHx8ICFkcm9wZG93biB8fCAhYXZhdGFySW1nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VyLWljb24gdGVtcGxhdGUgaXMgbWlzc2luZyByZXF1aXJlZCBlbGVtZW50c1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLmJ0biA9IGJ0bjtcbiAgICB0aGlzLmRyb3Bkb3duID0gZHJvcGRvd247XG4gICAgdGhpcy5hdmF0YXJJbWcgPSBhdmF0YXJJbWc7XG4gICAgdGhpcy5faGFuZGxlQXV0aFN0YXRlID0gdGhpcy5faGFuZGxlQXV0aFN0YXRlSW50ZXJuYWwuYmluZCh0aGlzKTtcblxuICAgIC8vIOODieODreODg+ODl+ODgOOCpuODs+mWi+mWiVxuICAgIHRoaXMuYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9XG4gICAgICAgIHRoaXMuZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9PT0gXCJmbGV4XCIgPyBcIm5vbmVcIiA6IFwiZmxleFwiO1xuICAgIH0pO1xuICAgIC8vIOWkluWBtOOCr+ODquODg+OCr+OBp+mWieOBmOOCi1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmRyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJhdXRoc3RhdGVjaGFuZ2VcIiwgdGhpcy5faGFuZGxlQXV0aFN0YXRlKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5sb2dnZWRJbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5faGFuZGxlQXV0aFN0YXRlSW50ZXJuYWwoeyBkZXRhaWw6IHsgbG9nZ2VkSW46IHdpbmRvdy5sb2dnZWRJbiB9IH0gYXMgQ3VzdG9tRXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhdXRoc3RhdGVjaGFuZ2VcIiwgdGhpcy5faGFuZGxlQXV0aFN0YXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZUF1dGhTdGF0ZUludGVybmFsKGV2dD86IEV2ZW50KSB7XG4gICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldnQgYXMgQ3VzdG9tRXZlbnQ8eyBsb2dnZWRJbj86IGJvb2xlYW4gfT4gfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgbG9nZ2VkSW4gPSBCb29sZWFuKGN1c3RvbUV2ZW50Py5kZXRhaWw/LmxvZ2dlZEluKTtcblxuICAgIGlmIChsb2dnZWRJbikge1xuICAgICAgaWYgKCF0aGlzLl9wcm9maWxlTG9hZGVkKSB7XG4gICAgICAgIHRoaXMubG9hZFByb2ZpbGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB0aGlzLmF2YXRhckltZy5zcmMgPSBcIi9zdGF0aWMvdXNlci1pY29uLnBuZ1wiO1xuICAgICAgdGhpcy5hdmF0YXJJbWcuYWx0ID0gXCLjg6bjg7zjgrbjg7zjgqLjgqTjgrPjg7NcIjtcbiAgICAgIHRoaXMuYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdXNlcm5hbWVcIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFByb2ZpbGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS91c2VyL3Byb2ZpbGVcIiwgeyBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiIH0pO1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAvLyDmnKrjg63jgrDjgqTjg7PmmYLjga/pnZnjgYvjgavkvZXjgoLjgZfjgarjgYRcbiAgICAgICAgdGhpcy5fcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgIGNvbnN0IGF2YXRhciA9IGRhdGEuYXZhdGFyX3VybCB8fCBcIi9zdGF0aWMvdXNlci1pY29uLnBuZ1wiO1xuICAgICAgY29uc3QgbmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgXCJcIjtcblxuICAgICAgdGhpcy5hdmF0YXJJbWcuc3JjID0gYXZhdGFyO1xuICAgICAgLy8g44OE44O844Or44OB44OD44OX44Gr44Om44O844K244O85ZCNXG4gICAgICB0aGlzLmJ0bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXVzZXJuYW1lXCIsIG5hbWUpO1xuICAgICAgLy8gYWx0IOWxnuaAp+OBq+OCguOCu+ODg+ODiFxuICAgICAgdGhpcy5hdmF0YXJJbWcuYWx0ID0gbmFtZSA/IGAke25hbWV944Gu44Ki44Kk44Kz44OzYCA6IFwi44Om44O844K244O844Ki44Kk44Kz44OzXCI7XG4gICAgICB0aGlzLl9wcm9maWxlTG9hZGVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcInVzZXJfaWNvbjogcHJvZmlsZSBsb2FkIGZhaWxlZFwiLCBlcnIpO1xuICAgICAgdGhpcy5fcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5pZiAoIWN1c3RvbUVsZW1lbnRzLmdldChcInVzZXItaWNvblwiKSkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ1c2VyLWljb25cIiwgVXNlckljb24pO1xufVxuXG5leHBvcnQge307XG4iXSwibmFtZXMiOlsidHBsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiVXNlckljb24iLCJIVE1MRWxlbWVudCIsImNvbm5lY3RlZENhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVBdXRoU3RhdGUiLCJ3aW5kb3ciLCJsb2dnZWRJbiIsIl9oYW5kbGVBdXRoU3RhdGVJbnRlcm5hbCIsImRldGFpbCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImN1c3RvbUV2ZW50IiwiQm9vbGVhbiIsIl9wcm9maWxlTG9hZGVkIiwibG9hZFByb2ZpbGUiLCJkcm9wZG93biIsInN0eWxlIiwiZGlzcGxheSIsImF2YXRhckltZyIsInNyYyIsImFsdCIsImJ0biIsInJlbW92ZUF0dHJpYnV0ZSIsInJlcyIsImZldGNoIiwiY3JlZGVudGlhbHMiLCJzdGF0dXMiLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJhdmF0YXIiLCJhdmF0YXJfdXJsIiwibmFtZSIsInVzZXJuYW1lIiwic2V0QXR0cmlidXRlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJjb25zdHJ1Y3RvciIsInJvb3QiLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiYXBwZW5kIiwiY29udGVudCIsImNsb25lTm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJiaW5kIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImN1c3RvbUVsZW1lbnRzIiwiZ2V0IiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/components/user_icon.ts\n"));

/***/ }),

/***/ "./scripts/entries/prompt_share.ts":
/*!*****************************************!*\
  !*** ./scripts/entries/prompt_share.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _prompt_share_prompt_share__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prompt_share/prompt_share */ \"./scripts/prompt_share/prompt_share.ts\");\n/* harmony import */ var _components_popup_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/popup_menu */ \"./scripts/components/popup_menu.ts\");\n/* harmony import */ var _components_user_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/user_icon */ \"./scripts/components/user_icon.ts\");\n\n\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2VudHJpZXMvcHJvbXB0X3NoYXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBc0M7QUFDSjtBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NjcmlwdHMvZW50cmllcy9wcm9tcHRfc2hhcmUudHM/ZTcxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuLi9wcm9tcHRfc2hhcmUvcHJvbXB0X3NoYXJlXCI7XG5pbXBvcnQgXCIuLi9jb21wb25lbnRzL3BvcHVwX21lbnVcIjtcbmltcG9ydCBcIi4uL2NvbXBvbmVudHMvdXNlcl9pY29uXCI7XG5cbmV4cG9ydCB7fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/entries/prompt_share.ts\n"));

/***/ }),

/***/ "./scripts/prompt_share/prompt_share.ts":
/*!**********************************************!*\
  !*** ./scripts/prompt_share/prompt_share.ts ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\nfunction initPromptSharePage() {\n    let attempt = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n    const promptContainer = document.querySelector(\".prompt-cards\");\n    if (!promptContainer) {\n        if (attempt < 10) {\n            requestAnimationFrame(()=>initPromptSharePage(attempt + 1));\n        }\n        return;\n    }\n    if (promptContainer.dataset.psInitialized === \"true\") {\n        return;\n    }\n    promptContainer.dataset.psInitialized = \"true\";\n    // ログイン状態の確認とUI切り替え\n    const userIcon = document.getElementById(\"userIcon\");\n    const authButtons = document.getElementById(\"auth-buttons\");\n    let isLoggedIn = false; // ログイン状態を保持\n    fetch(\"/api/current_user\").then((res)=>res.ok ? res.json() : {\n            logged_in: false\n        }).then((data)=>{\n        isLoggedIn = Boolean(data.logged_in);\n        if (data.logged_in) {\n            if (authButtons) authButtons.style.display = \"none\";\n            if (userIcon) userIcon.style.display = \"\";\n        } else {\n            if (authButtons) authButtons.style.display = \"\";\n            if (userIcon) userIcon.style.display = \"none\";\n            const loginBtn = document.getElementById(\"login-btn\");\n            if (loginBtn) loginBtn.onclick = ()=>window.location.href = \"/login\";\n        }\n    }).catch((err)=>{\n        console.error(\"Error checking login status:\", err);\n        if (authButtons) authButtons.style.display = \"\";\n        if (userIcon) userIcon.style.display = \"none\";\n    });\n    function closeAllDropdowns(exceptCard) {\n        const openMenus = document.querySelectorAll(\".prompt-actions-dropdown.is-open\");\n        openMenus.forEach((menu)=>{\n            var _menu_parentElement;\n            if (exceptCard && exceptCard.contains(menu)) {\n                return;\n            }\n            menu.classList.remove(\"is-open\");\n            const trigger = (_menu_parentElement = menu.parentElement) === null || _menu_parentElement === void 0 ? void 0 : _menu_parentElement.querySelector(\".meatball-menu\");\n            if (trigger) {\n                trigger.setAttribute(\"aria-expanded\", \"false\");\n            }\n            const parentCard = menu.closest(\".prompt-card\");\n            if (parentCard) {\n                parentCard.classList.remove(\"menu-open\");\n            }\n        });\n    }\n    if (document.body && document.body.dataset.psDropdownListener !== \"true\") {\n        document.body.dataset.psDropdownListener = \"true\";\n        document.addEventListener(\"click\", ()=>closeAllDropdowns());\n    }\n    const TITLE_CHAR_LIMIT = 17;\n    const CONTENT_CHAR_LIMIT = 160;\n    function truncateText(text, limit) {\n        const safeText = text || \"\";\n        const chars = Array.from(safeText);\n        return chars.length > limit ? chars.slice(0, limit).join(\"\") + \"...\" : safeText;\n    }\n    function truncateTitle(title) {\n        return truncateText(title, TITLE_CHAR_LIMIT);\n    }\n    function truncateContent(content) {\n        return truncateText(content, CONTENT_CHAR_LIMIT);\n    }\n    function updateBookmarkButtonState(button, isBookmarked) {\n        if (!button) return;\n        button.classList.toggle(\"bookmarked\", isBookmarked);\n        button.innerHTML = isBookmarked ? '<i class=\"bi bi-bookmark-fill\"></i>' : '<i class=\"bi bi-bookmark\"></i>';\n    }\n    function sendBookmarkRequest(method, payload) {\n        return fetch(\"/prompt_share/api/bookmark\", {\n            method,\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        }).then(async (response)=>{\n            const data = await response.json().catch(()=>({}));\n            if (!response.ok || data.error) {\n                throw new Error(data.error || \"操作に失敗しました。\");\n            }\n            return data;\n        });\n    }\n    function savePromptBookmark(prompt) {\n        return sendBookmarkRequest(\"POST\", {\n            title: prompt.title,\n            content: prompt.content,\n            input_examples: prompt.input_examples || \"\",\n            output_examples: prompt.output_examples || \"\"\n        });\n    }\n    function removePromptBookmark(prompt) {\n        return sendBookmarkRequest(\"DELETE\", {\n            title: prompt.title\n        });\n    }\n    function savePromptToList(prompt) {\n        var _prompt_id;\n        return fetch(\"/prompt_share/api/prompt_list\", {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                prompt_id: (_prompt_id = prompt.id) !== null && _prompt_id !== void 0 ? _prompt_id : null,\n                title: prompt.title,\n                category: prompt.category || \"\",\n                content: prompt.content,\n                input_examples: prompt.input_examples || \"\",\n                output_examples: prompt.output_examples || \"\"\n            })\n        }).then(async (response)=>{\n            const data = await response.json().catch(()=>({}));\n            if (!response.ok || data.error) {\n                throw new Error(data.error || \"操作に失敗しました。\");\n            }\n            return data;\n        });\n    }\n    function createPromptCardElement(prompt) {\n        const card = document.createElement(\"div\");\n        card.classList.add(\"prompt-card\");\n        if (prompt.category) {\n            card.setAttribute(\"data-category\", prompt.category);\n        }\n        const isBookmarked = Boolean(prompt.bookmarked);\n        const isSavedToList = Boolean(prompt.saved_to_list);\n        const bookmarkIcon = isBookmarked ? '<i class=\"bi bi-bookmark-fill\"></i>' : '<i class=\"bi bi-bookmark\"></i>';\n        const truncatedContent = truncateContent(prompt.content);\n        card.innerHTML = '\\n      <button class=\"meatball-menu\" type=\"button\" aria-label=\"その他の操作\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n        <i class=\"bi bi-three-dots\"></i>\\n      </button>\\n\\n      <div class=\"prompt-actions-dropdown\" role=\"menu\">\\n        <button class=\"dropdown-item\" type=\"button\" role=\"menuitem\" data-action=\"save-to-list\">プロンプトリストに保存</button>\\n        <button class=\"dropdown-item\" type=\"button\" role=\"menuitem\">ミュート</button>\\n        <button class=\"dropdown-item\" type=\"button\" role=\"menuitem\">報告する</button>\\n      </div>\\n\\n      <h3>'.concat(truncateTitle(prompt.title), '</h3>\\n      <p class=\"prompt-card__content\">').concat(truncatedContent, '</p>\\n\\n      <div class=\"prompt-meta\">\\n        <div class=\"prompt-meta-info\">\\n          <span>カテゴリ: ').concat(prompt.category, \"</span>\\n          <span>投稿者: \").concat(prompt.author, '</span>\\n        </div>\\n        <div class=\"prompt-actions\">\\n          <button class=\"prompt-action-btn comment-btn\" type=\"button\" aria-label=\"コメント\">\\n            <i class=\"bi bi-chat-dots\"></i>\\n          </button>\\n          <button class=\"prompt-action-btn like-btn\" type=\"button\" aria-label=\"いいね\">\\n            <i class=\"bi bi-heart\"></i>\\n          </button>\\n          <button class=\"prompt-action-btn bookmark-btn ').concat(isBookmarked ? \"bookmarked\" : \"\", '\" type=\"button\" aria-label=\"ブックマーク\">\\n            ').concat(bookmarkIcon, \"\\n          </button>\\n        </div>\\n      </div>\\n    \");\n        card.dataset.fullTitle = prompt.title || \"\";\n        card.dataset.fullContent = prompt.content || \"\";\n        card.dataset.savedToList = isSavedToList ? \"true\" : \"false\";\n        card.dataset.psBound = \"true\";\n        const bookmarkBtn = card.querySelector(\".bookmark-btn\");\n        if (bookmarkBtn) {\n            bookmarkBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n                if (!isLoggedIn) {\n                    alert(\"ブックマークするにはログインが必要です。\");\n                    return;\n                }\n                const shouldBookmark = !bookmarkBtn.classList.contains(\"bookmarked\");\n                bookmarkBtn.disabled = true;\n                const request = shouldBookmark ? savePromptBookmark(prompt) : removePromptBookmark(prompt);\n                request.then((result)=>{\n                    updateBookmarkButtonState(bookmarkBtn, shouldBookmark);\n                    prompt.bookmarked = shouldBookmark;\n                    if (result && result.message) {\n                        console.log(result.message);\n                    }\n                }).catch((err)=>{\n                    console.error(\"ブックマーク操作エラー:\", err);\n                    alert(\"ブックマークの更新中にエラーが発生しました。\");\n                }).finally(()=>{\n                    bookmarkBtn.disabled = false;\n                });\n            });\n            bookmarkBtn.dataset.bound = \"true\";\n        }\n        const commentBtn = card.querySelector(\".comment-btn\");\n        if (commentBtn) {\n            commentBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n            });\n        }\n        const likeBtn = card.querySelector(\".like-btn\");\n        if (likeBtn) {\n            likeBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n                likeBtn.classList.toggle(\"liked\");\n                const icon = likeBtn.querySelector(\"i\");\n                if (icon) {\n                    icon.classList.toggle(\"bi-heart\");\n                    icon.classList.toggle(\"bi-heart-fill\");\n                }\n            });\n        }\n        const meatballBtn = card.querySelector(\".meatball-menu\");\n        const dropdownMenu = card.querySelector(\".prompt-actions-dropdown\");\n        if (meatballBtn && dropdownMenu) {\n            meatballBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n                const willOpen = !dropdownMenu.classList.contains(\"is-open\");\n                closeAllDropdowns(card);\n                dropdownMenu.classList.toggle(\"is-open\", willOpen);\n                meatballBtn.setAttribute(\"aria-expanded\", willOpen ? \"true\" : \"false\");\n                card.classList.toggle(\"menu-open\", willOpen);\n            });\n            dropdownMenu.addEventListener(\"click\", (event)=>{\n                event.stopPropagation();\n            });\n            dropdownMenu.querySelectorAll(\".dropdown-item\").forEach((item)=>{\n                item.addEventListener(\"click\", (event)=>{\n                    event.stopPropagation();\n                    dropdownMenu.classList.remove(\"is-open\");\n                    meatballBtn.setAttribute(\"aria-expanded\", \"false\");\n                    card.classList.remove(\"menu-open\");\n                });\n            });\n            const saveMenuItem = dropdownMenu.querySelector('[data-action=\"save-to-list\"]');\n            if (saveMenuItem) {\n                saveMenuItem.addEventListener(\"click\", ()=>{\n                    if (!isLoggedIn) {\n                        alert(\"プロンプトを保存するにはログインが必要です。\");\n                        return;\n                    }\n                    if (prompt.saved_to_list) {\n                        alert(\"このプロンプトはすでにプロンプトリストに保存されています。\");\n                        return;\n                    }\n                    saveMenuItem.disabled = true;\n                    savePromptToList(prompt).then((result)=>{\n                        prompt.saved_to_list = true;\n                        card.dataset.savedToList = \"true\";\n                        if (result && result.message) {\n                            console.log(result.message);\n                        }\n                    }).catch((err)=>{\n                        console.error(\"プロンプト保存中にエラーが発生しました:\", err);\n                        alert(\"プロンプトリストへの保存中にエラーが発生しました。\");\n                    }).finally(()=>{\n                        saveMenuItem.disabled = false;\n                    });\n                });\n            }\n        }\n        card.addEventListener(\"click\", function(e) {\n            const target = e.target;\n            if ((target === null || target === void 0 ? void 0 : target.closest(\".prompt-action-btn\")) || (target === null || target === void 0 ? void 0 : target.closest(\".meatball-menu\"))) {\n                return;\n            }\n            closeAllDropdowns();\n            showPromptDetailModal(prompt);\n        });\n        return card;\n    }\n    // ------------------------------\n    // サーバーからプロンプト一覧を取得して表示する関数（Promise を返す）\n    // ------------------------------\n    function loadPrompts() {\n        return fetch(\"/prompt_share/api/prompts\").then((response)=>{\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            return response.json();\n        }).then((data)=>{\n            if (!promptContainer) {\n                return;\n            }\n            promptContainer.innerHTML = \"\"; // 既存のカードをクリア\n            if (data.prompts) {\n                data.prompts.forEach((prompt)=>{\n                    prompt.bookmarked = Boolean(prompt.bookmarked);\n                    prompt.saved_to_list = Boolean(prompt.saved_to_list);\n                    const card = createPromptCardElement(prompt);\n                    promptContainer.appendChild(card);\n                });\n            } else {\n                promptContainer.innerHTML = \"<p>プロンプトが見つかりませんでした。</p>\";\n            }\n        }).catch((err)=>{\n            console.error(\"プロンプト取得エラー:\", err);\n            if (promptContainer) {\n                promptContainer.innerHTML = \"<p>エラーが発生しました: \".concat(err.message, \"</p>\");\n            }\n        });\n    }\n    // 初回ロード時にプロンプト一覧を取得\n    loadPrompts();\n    // ------------------------------\n    // 静的プロンプトカードのイベントハンドラを追加（テスト用）\n    // ------------------------------\n    function setupStaticCardEvents() {\n        const staticCards = document.querySelectorAll(\".prompt-card\");\n        staticCards.forEach((card)=>{\n            if (card.dataset.psBound === \"true\") {\n                return;\n            }\n            const titleElem = card.querySelector(\"h3\");\n            if (titleElem) {\n                const fullTitle = titleElem.textContent || \"\";\n                titleElem.dataset.fullTitle = fullTitle;\n                titleElem.textContent = truncateTitle(fullTitle);\n            }\n            const contentElem = card.querySelector(\"p\");\n            if (contentElem) {\n                const fullContent = contentElem.textContent || \"\";\n                contentElem.dataset.fullContent = fullContent;\n                contentElem.textContent = truncateContent(fullContent);\n            }\n            const meta = card.querySelector(\".prompt-meta\");\n            if (meta && !meta.querySelector(\".prompt-meta-info\")) {\n                const spans = Array.from(meta.querySelectorAll(\"span\"));\n                const metaInfo = document.createElement(\"div\");\n                metaInfo.classList.add(\"prompt-meta-info\");\n                spans.forEach((span)=>metaInfo.appendChild(span));\n                meta.innerHTML = \"\";\n                meta.appendChild(metaInfo);\n            }\n            const commentBtn = card.querySelector(\".comment-btn\");\n            if (commentBtn) {\n                commentBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                });\n            }\n            const likeBtn = card.querySelector(\".like-btn\");\n            if (likeBtn) {\n                likeBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                    likeBtn.classList.toggle(\"liked\");\n                    const icon = likeBtn.querySelector(\"i\");\n                    if (icon) {\n                        icon.classList.toggle(\"bi-heart\");\n                        icon.classList.toggle(\"bi-heart-fill\");\n                    }\n                });\n            }\n            const meatballBtn = card.querySelector(\".meatball-menu\");\n            const dropdownMenu = card.querySelector(\".prompt-actions-dropdown\");\n            if (meatballBtn && dropdownMenu) {\n                meatballBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                    const willOpen = !dropdownMenu.classList.contains(\"is-open\");\n                    closeAllDropdowns(card);\n                    dropdownMenu.classList.toggle(\"is-open\", willOpen);\n                    meatballBtn.setAttribute(\"aria-expanded\", willOpen ? \"true\" : \"false\");\n                    card.classList.toggle(\"menu-open\", willOpen);\n                });\n                dropdownMenu.addEventListener(\"click\", (event)=>{\n                    event.stopPropagation();\n                });\n                dropdownMenu.querySelectorAll(\".dropdown-item\").forEach((item)=>{\n                    item.addEventListener(\"click\", (event)=>{\n                        event.stopPropagation();\n                        dropdownMenu.classList.remove(\"is-open\");\n                        meatballBtn.setAttribute(\"aria-expanded\", \"false\");\n                        card.classList.remove(\"menu-open\");\n                    });\n                });\n            }\n            const bookmarkBtn = card.querySelector(\".bookmark-btn\");\n            if (bookmarkBtn) {\n                bookmarkBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                    if (!isLoggedIn) {\n                        alert(\"ブックマークするにはログインが必要です。\");\n                        return;\n                    }\n                    bookmarkBtn.classList.toggle(\"bookmarked\");\n                    bookmarkBtn.innerHTML = bookmarkBtn.classList.contains(\"bookmarked\") ? '<i class=\"bi bi-bookmark-fill\"></i>' : '<i class=\"bi bi-bookmark\"></i>';\n                });\n                bookmarkBtn.dataset.bound = \"true\";\n            }\n            card.addEventListener(\"click\", function(e) {\n                var _authorSpan_textContent;\n                const target = e.target;\n                if ((target === null || target === void 0 ? void 0 : target.closest(\".prompt-action-btn\")) || (target === null || target === void 0 ? void 0 : target.closest(\".meatball-menu\"))) {\n                    return;\n                }\n                // 静的カードのデータを取得\n                const title = titleElem ? titleElem.dataset.fullTitle || titleElem.textContent || \"\" : \"\";\n                const content = contentElem ? contentElem.dataset.fullContent || contentElem.textContent || \"\" : \"\";\n                const category = card.getAttribute(\"data-category\") || \"\";\n                const authorSpan = card.querySelector(\".prompt-meta span:last-child\");\n                const author = authorSpan ? ((_authorSpan_textContent = authorSpan.textContent) === null || _authorSpan_textContent === void 0 ? void 0 : _authorSpan_textContent.replace(\"投稿者: \", \"\")) || \"不明\" : \"不明\";\n                // 模擬プロンプトデータを作成\n                const mockPrompt = {\n                    title: title,\n                    content: content,\n                    category: category,\n                    author: author,\n                    input_examples: title === \"告白のアドバイス\" ? \"好きな人に告白したいです。どのように気持ちを伝えればよいでしょうか？\" : \"\",\n                    output_examples: title === \"告白のアドバイス\" ? \"素直な気持ちで、相手のことを思いやりながら「あなたと一緒にいるととても幸せです。お付き合いしていただけませんか？」といった誠実な言葉で伝えることをお勧めします。\" : \"\"\n                };\n                closeAllDropdowns();\n                showPromptDetailModal(mockPrompt);\n            });\n            card.dataset.psBound = \"true\";\n        });\n    }\n    // 静的カードのイベントをセットアップ\n    setupStaticCardEvents();\n    // ------------------------------\n    // 検索機能（サーバー側検索）\n    // ------------------------------\n    const searchInput = document.getElementById(\"searchInput\");\n    const searchButton = document.getElementById(\"searchButton\");\n    const promptCardsSection = promptContainer;\n    const selectedCategoryTitle = document.getElementById(\"selected-category-title\");\n    function searchPromptsServer() {\n        if (!searchInput || !promptCardsSection || !selectedCategoryTitle) {\n            return;\n        }\n        const query = searchInput.value.trim();\n        // クエリが空の場合は、全プロンプトを再表示\n        if (!query) {\n            loadPrompts();\n            selectedCategoryTitle.textContent = \"全てのプロンプト\";\n            return;\n        }\n        // ヘッダーを検索結果用に更新\n        selectedCategoryTitle.textContent = \"検索結果: 「\".concat(query, \"」\");\n        fetch(\"/search/prompts?q=\".concat(encodeURIComponent(query))).then((response)=>{\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            return response.json();\n        }).then((data)=>{\n            promptCardsSection.innerHTML = \"\"; // 既存のカードをクリア\n            if (data.prompts && data.prompts.length > 0) {\n                data.prompts.forEach((prompt)=>{\n                    const card = createPromptCardElement(prompt);\n                    promptCardsSection.appendChild(card);\n                });\n            } else {\n                promptCardsSection.innerHTML = \"<p>該当するプロンプトが見つかりませんでした。</p>\";\n            }\n        }).catch((err)=>{\n            console.error(\"検索エラー:\", err);\n            promptCardsSection.innerHTML = \"<p>エラーが発生しました: \".concat(err.message, \"</p>\");\n        });\n    }\n    if (searchButton && searchInput) {\n        searchButton.addEventListener(\"click\", searchPromptsServer);\n        searchInput.addEventListener(\"keydown\", function(event) {\n            if (event.key === \"Enter\") {\n                event.preventDefault();\n                searchPromptsServer();\n            }\n        });\n    }\n    // ------------------------------\n    // カテゴリ選択と表示\n    // ------------------------------\n    const categoryCards = document.querySelectorAll(\".category-card\");\n    if (categoryCards.length > 0 && selectedCategoryTitle) {\n        categoryCards.forEach((card)=>{\n            card.addEventListener(\"click\", ()=>{\n                // 検索結果状態の場合は、検索入力をクリアし最新の全プロンプトを再取得\n                if (searchInput && searchInput.value.trim() !== \"\") {\n                    searchInput.value = \"\";\n                    loadPrompts().then(()=>{\n                        applyCategoryFilter(card);\n                    });\n                } else {\n                    applyCategoryFilter(card);\n                }\n            });\n        });\n    }\n    // カテゴリフィルタを適用する関数\n    function applyCategoryFilter(card) {\n        // 全カテゴリボタンの active クラスをリセット\n        categoryCards.forEach((c)=>c.classList.remove(\"active\"));\n        card.classList.add(\"active\");\n        const selectedCategory = card.getAttribute(\"data-category\");\n        selectedCategoryTitle.textContent = selectedCategory === \"all\" ? \"全てのプロンプト\" : \"\".concat(selectedCategory, \" のプロンプト\");\n        // 表示中のプロンプトカードにフィルタを適用\n        const promptCards = document.querySelectorAll(\".prompt-card\");\n        promptCards.forEach((prompt)=>{\n            const promptCategory = prompt.getAttribute(\"data-category\");\n            prompt.style.display = selectedCategory === \"all\" || promptCategory === selectedCategory ? \"block\" : \"none\";\n        });\n    }\n    // ------------------------------\n    // 投稿フォームの送信処理\n    // ------------------------------\n    const postForm = document.getElementById(\"postForm\");\n    if (postForm) {\n        postForm.addEventListener(\"submit\", function(e) {\n            e.preventDefault();\n            const titleInput = document.getElementById(\"prompt-title\");\n            const categoryInput = document.getElementById(\"prompt-category\");\n            const contentInput = document.getElementById(\"prompt-content\");\n            const authorInput = document.getElementById(\"prompt-author\");\n            if (!titleInput || !categoryInput || !contentInput || !authorInput) {\n                alert(\"フォーム要素が見つかりませんでした。ページを再読み込みしてください。\");\n                return;\n            }\n            const title = titleInput.value;\n            const category = categoryInput.value;\n            const content = contentInput.value;\n            const author = authorInput.value;\n            // ガードレール使用のチェックと値取得\n            const guardrailCheckbox = document.getElementById(\"guardrail-checkbox\");\n            const useGuardrail = guardrailCheckbox ? guardrailCheckbox.checked : false;\n            let input_examples = \"\";\n            let output_examples = \"\";\n            if (useGuardrail) {\n                const inputExample = document.getElementById(\"prompt-input-example\");\n                const outputExample = document.getElementById(\"prompt-output-example\");\n                input_examples = inputExample ? inputExample.value : \"\";\n                output_examples = outputExample ? outputExample.value : \"\";\n            }\n            // すべての投稿を公開するため、常に true に設定\n            const isPublic = true;\n            const postData = {\n                title: title,\n                category: category,\n                content: content,\n                author: author,\n                input_examples: input_examples,\n                output_examples: output_examples,\n                is_public: isPublic\n            };\n            fetch(\"/prompt_share/api/prompts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(postData)\n            }).then((response)=>response.json()).then((result)=>{\n                if (result.error) {\n                    alert(\"エラー: \" + result.error);\n                } else {\n                    alert(\"プロンプトが投稿されました！\");\n                    // フォームリセット＆モーダルを閉じる\n                    postForm.reset();\n                    const guardrailFields = document.getElementById(\"guardrail-fields\");\n                    if (guardrailFields) {\n                        guardrailFields.style.display = \"none\";\n                    }\n                    const postModal = document.getElementById(\"postModal\");\n                    if (postModal) {\n                        postModal.classList.remove(\"show\");\n                    }\n                    triggerNewPromptIconRotation();\n                    // 最新のプロンプト一覧を再読み込み\n                    loadPrompts();\n                }\n            }).catch((err)=>{\n                console.error(\"投稿エラー:\", err);\n                alert(\"プロンプト投稿中にエラーが発生しました。\");\n            });\n        });\n    }\n    // ------------------------------\n    // 投稿モーダルの表示・非表示\n    // ------------------------------\n    const openModalBtn = document.getElementById(\"openPostModal\");\n    const postModal = document.getElementById(\"postModal\");\n    const closeModalBtn = document.querySelector(\".close-btn\");\n    const newPromptIcon = openModalBtn ? openModalBtn.querySelector(\"i\") : null;\n    const triggerNewPromptIconRotation = ()=>{\n        if (!newPromptIcon) {\n            return;\n        }\n        newPromptIcon.classList.remove(\"rotating\");\n        void newPromptIcon.offsetWidth;\n        newPromptIcon.classList.add(\"rotating\");\n    };\n    if (newPromptIcon) {\n        newPromptIcon.addEventListener(\"animationend\", ()=>{\n            newPromptIcon.classList.remove(\"rotating\");\n        });\n    }\n    if (openModalBtn && postModal) {\n        openModalBtn.addEventListener(\"click\", function() {\n            if (!isLoggedIn) {\n                alert(\"プロンプトを投稿するにはログインが必要です。\");\n                return;\n            }\n            triggerNewPromptIconRotation();\n            postModal.classList.add(\"show\");\n        });\n    }\n    if (closeModalBtn && postModal) {\n        closeModalBtn.addEventListener(\"click\", function() {\n            postModal.classList.remove(\"show\");\n            triggerNewPromptIconRotation();\n        });\n    }\n    if (postModal && postModal.dataset.psWindowListener !== \"true\") {\n        postModal.dataset.psWindowListener = \"true\";\n        window.addEventListener(\"click\", function(event) {\n            if (event.target === postModal) {\n                postModal.classList.remove(\"show\");\n                triggerNewPromptIconRotation();\n            }\n        });\n    }\n    // ------------------------------\n    // ブックマーク機能（すでに存在するカードに対しても登録）\n    // ------------------------------\n    const promptCards = document.querySelectorAll(\".prompt-card\");\n    promptCards.forEach((card)=>{\n        const meta = card.querySelector(\".prompt-meta\");\n        if (!meta) {\n            return;\n        }\n        if (!meta.querySelector(\".prompt-meta-info\")) {\n            const spans = Array.from(meta.querySelectorAll(\"span\"));\n            const metaInfo = document.createElement(\"div\");\n            metaInfo.classList.add(\"prompt-meta-info\");\n            spans.forEach((span)=>metaInfo.appendChild(span));\n            meta.innerHTML = \"\";\n            meta.appendChild(metaInfo);\n        }\n        let bookmarkBtn = meta.querySelector(\".bookmark-btn\");\n        if (!bookmarkBtn) {\n            bookmarkBtn = document.createElement(\"button\");\n            bookmarkBtn.classList.add(\"bookmark-btn\");\n            bookmarkBtn.setAttribute(\"type\", \"button\");\n            bookmarkBtn.setAttribute(\"aria-label\", \"ブックマーク\");\n            bookmarkBtn.innerHTML = '<i class=\"bi bi-bookmark\"></i>';\n            meta.appendChild(bookmarkBtn);\n        }\n        if (bookmarkBtn.dataset.bound === \"true\") {\n            return;\n        }\n        bookmarkBtn.addEventListener(\"click\", function(e) {\n            e.stopPropagation();\n            if (!isLoggedIn) {\n                alert(\"ブックマークするにはログインが必要です。\");\n                return;\n            }\n            bookmarkBtn.classList.toggle(\"bookmarked\");\n            bookmarkBtn.innerHTML = bookmarkBtn.classList.contains(\"bookmarked\") ? '<i class=\"bi bi-bookmark-fill\"></i>' : '<i class=\"bi bi-bookmark\"></i>';\n        });\n        bookmarkBtn.dataset.bound = \"true\";\n    });\n    // ------------------------------\n    // ガードレールの表示切替処理\n    // ------------------------------\n    const guardrailCheckbox = document.getElementById(\"guardrail-checkbox\");\n    const guardrailFields = document.getElementById(\"guardrail-fields\");\n    if (guardrailCheckbox && guardrailFields) {\n        guardrailCheckbox.addEventListener(\"change\", function() {\n            guardrailFields.style.display = guardrailCheckbox.checked ? \"block\" : \"none\";\n        });\n    }\n    // ------------------------------\n    // プロンプト詳細モーダル機能\n    // ------------------------------\n    function showPromptDetailModal(prompt) {\n        const modal = document.getElementById(\"promptDetailModal\");\n        const modalTitle = document.getElementById(\"modalPromptTitle\");\n        const modalCategory = document.getElementById(\"modalPromptCategory\");\n        const modalContent = document.getElementById(\"modalPromptContent\");\n        const modalAuthor = document.getElementById(\"modalPromptAuthor\");\n        const modalInputExamples = document.getElementById(\"modalInputExamples\");\n        const modalOutputExamples = document.getElementById(\"modalOutputExamples\");\n        const modalInputExamplesGroup = document.getElementById(\"modalInputExamplesGroup\");\n        const modalOutputExamplesGroup = document.getElementById(\"modalOutputExamplesGroup\");\n        if (!modal || !modalTitle || !modalCategory || !modalContent || !modalAuthor) return;\n        // モーダルにデータを設定\n        modalTitle.textContent = prompt.title;\n        modalCategory.textContent = prompt.category || \"\";\n        modalContent.textContent = prompt.content;\n        modalAuthor.textContent = prompt.author || \"\";\n        // 入力例・出力例がある場合のみ表示\n        if (prompt.input_examples && modalInputExamples && modalInputExamplesGroup) {\n            modalInputExamples.textContent = prompt.input_examples;\n            modalInputExamplesGroup.style.display = \"block\";\n        } else if (modalInputExamplesGroup) {\n            modalInputExamplesGroup.style.display = \"none\";\n        }\n        if (prompt.output_examples && modalOutputExamples && modalOutputExamplesGroup) {\n            modalOutputExamples.textContent = prompt.output_examples;\n            modalOutputExamplesGroup.style.display = \"block\";\n        } else if (modalOutputExamplesGroup) {\n            modalOutputExamplesGroup.style.display = \"none\";\n        }\n        // モーダルを表示\n        modal.classList.add(\"show\");\n    }\n    // モーダルを閉じる機能\n    const promptDetailModal = document.getElementById(\"promptDetailModal\");\n    const closePromptDetailModalBtn = document.getElementById(\"closePromptDetailModal\");\n    // 閉じるボタンでモーダルを閉じる\n    if (closePromptDetailModalBtn && promptDetailModal) {\n        closePromptDetailModalBtn.addEventListener(\"click\", function() {\n            promptDetailModal.classList.remove(\"show\");\n        });\n    }\n    // モーダル背景クリックで閉じる\n    if (promptDetailModal) {\n        promptDetailModal.addEventListener(\"click\", function(e) {\n            if (e.target === promptDetailModal) {\n                promptDetailModal.classList.remove(\"show\");\n            }\n        });\n    }\n}\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", ()=>initPromptSharePage());\n} else {\n    initPromptSharePage();\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSyxDQUFDQyxPQUFPLEdBQUc7UUFDM0M7UUFFQSxVQUFVO1FBQ1YrSixNQUFNOUksU0FBUyxDQUFDb0QsR0FBRyxDQUFDO0lBQ3RCO0lBRUEsYUFBYTtJQUNiLE1BQU1tRyxvQkFBb0IxTCxTQUFTTSxjQUFjLENBQUM7SUFDbEQsTUFBTXFMLDRCQUE0QjNMLFNBQVNNLGNBQWMsQ0FBQztJQUUxRCxrQkFBa0I7SUFDbEIsSUFBSXFMLDZCQUE2QkQsbUJBQW1CO1FBQ2xEQywwQkFBMEIvSSxnQkFBZ0IsQ0FBQyxTQUFTO1lBQ2xEOEksa0JBQWtCdkosU0FBUyxDQUFDQyxNQUFNLENBQUM7UUFDckM7SUFDRjtJQUVBLGlCQUFpQjtJQUNqQixJQUFJc0osbUJBQW1CO1FBQ3JCQSxrQkFBa0I5SSxnQkFBZ0IsQ0FBQyxTQUFTLFNBQVV1RCxDQUFDO1lBQ3JELElBQUlBLEVBQUVvQixNQUFNLEtBQUttRSxtQkFBbUI7Z0JBQ2xDQSxrQkFBa0J2SixTQUFTLENBQUNDLE1BQU0sQ0FBQztZQUNyQztRQUNGO0lBQ0Y7QUFDRjtBQUVBLElBQUlwQyxTQUFTNEwsVUFBVSxLQUFLLFdBQVc7SUFDckM1TCxTQUFTNEMsZ0JBQWdCLENBQUMsb0JBQW9CLElBQU0vQztBQUN0RCxPQUFPO0lBQ0xBO0FBQ0Y7QUFFVSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zY3JpcHRzL3Byb21wdF9zaGFyZS9wcm9tcHRfc2hhcmUudHM/OGNhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFByb21wdERhdGEgPSB7XG4gIGlkPzogc3RyaW5nIHwgbnVtYmVyO1xuICB0aXRsZTogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGNhdGVnb3J5Pzogc3RyaW5nO1xuICBhdXRob3I/OiBzdHJpbmc7XG4gIGlucHV0X2V4YW1wbGVzPzogc3RyaW5nO1xuICBvdXRwdXRfZXhhbXBsZXM/OiBzdHJpbmc7XG4gIGJvb2ttYXJrZWQ/OiBib29sZWFuO1xuICBzYXZlZF90b19saXN0PzogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbn07XG5cbmZ1bmN0aW9uIGluaXRQcm9tcHRTaGFyZVBhZ2UoYXR0ZW1wdCA9IDApIHtcbiAgY29uc3QgcHJvbXB0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9tcHQtY2FyZHNcIikgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICBpZiAoIXByb21wdENvbnRhaW5lcikge1xuICAgIGlmIChhdHRlbXB0IDwgMTApIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBpbml0UHJvbXB0U2hhcmVQYWdlKGF0dGVtcHQgKyAxKSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvbXB0Q29udGFpbmVyLmRhdGFzZXQucHNJbml0aWFsaXplZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcHJvbXB0Q29udGFpbmVyLmRhdGFzZXQucHNJbml0aWFsaXplZCA9IFwidHJ1ZVwiO1xuXG4gIC8vIOODreOCsOOCpOODs+eKtuaFi+OBrueiuuiqjeOBqFVJ5YiH44KK5pu/44GIXG4gIGNvbnN0IHVzZXJJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VySWNvblwiKTtcbiAgY29uc3QgYXV0aEJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGgtYnV0dG9uc1wiKTtcbiAgbGV0IGlzTG9nZ2VkSW4gPSBmYWxzZTsgLy8g44Ot44Kw44Kk44Oz54q25oWL44KS5L+d5oyBXG5cbiAgZmV0Y2goXCIvYXBpL2N1cnJlbnRfdXNlclwiKVxuICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogeyBsb2dnZWRfaW46IGZhbHNlIH0pKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpc0xvZ2dlZEluID0gQm9vbGVhbihkYXRhLmxvZ2dlZF9pbik7XG4gICAgICBpZiAoZGF0YS5sb2dnZWRfaW4pIHtcbiAgICAgICAgaWYgKGF1dGhCdXR0b25zKSBhdXRoQnV0dG9ucy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGlmICh1c2VySWNvbikgdXNlckljb24uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXV0aEJ1dHRvbnMpIGF1dGhCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICBpZiAodXNlckljb24pIHVzZXJJY29uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgY29uc3QgbG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ2luLWJ0blwiKTtcbiAgICAgICAgaWYgKGxvZ2luQnRuKSBsb2dpbkJ0bi5vbmNsaWNrID0gKCkgPT4gKHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvbG9naW5cIik7XG4gICAgICB9XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIGxvZ2luIHN0YXR1czpcIiwgZXJyKTtcbiAgICAgIGlmIChhdXRoQnV0dG9ucykgYXV0aEJ1dHRvbnMuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICBpZiAodXNlckljb24pIHVzZXJJY29uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcblxuICBmdW5jdGlvbiBjbG9zZUFsbERyb3Bkb3ducyhleGNlcHRDYXJkPzogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4gICAgY29uc3Qgb3Blbk1lbnVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIucHJvbXB0LWFjdGlvbnMtZHJvcGRvd24uaXMtb3BlblwiKTtcbiAgICBvcGVuTWVudXMuZm9yRWFjaCgobWVudSkgPT4ge1xuICAgICAgaWYgKGV4Y2VwdENhcmQgJiYgZXhjZXB0Q2FyZC5jb250YWlucyhtZW51KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1vcGVuXCIpO1xuICAgICAgY29uc3QgdHJpZ2dlciA9IG1lbnUucGFyZW50RWxlbWVudD8ucXVlcnlTZWxlY3RvcihcIi5tZWF0YmFsbC1tZW51XCIpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICAgIGlmICh0cmlnZ2VyKSB7XG4gICAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFyZW50Q2FyZCA9IG1lbnUuY2xvc2VzdChcIi5wcm9tcHQtY2FyZFwiKTtcbiAgICAgIGlmIChwYXJlbnRDYXJkKSB7XG4gICAgICAgIHBhcmVudENhcmQuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtb3BlblwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuZGF0YXNldC5wc0Ryb3Bkb3duTGlzdGVuZXIgIT09IFwidHJ1ZVwiKSB7XG4gICAgZG9jdW1lbnQuYm9keS5kYXRhc2V0LnBzRHJvcGRvd25MaXN0ZW5lciA9IFwidHJ1ZVwiO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZUFsbERyb3Bkb3ducygpKTtcbiAgfVxuXG4gIGNvbnN0IFRJVExFX0NIQVJfTElNSVQgPSAxNztcbiAgY29uc3QgQ09OVEVOVF9DSEFSX0xJTUlUID0gMTYwO1xuXG4gIGZ1bmN0aW9uIHRydW5jYXRlVGV4dCh0ZXh0OiBzdHJpbmcsIGxpbWl0OiBudW1iZXIpIHtcbiAgICBjb25zdCBzYWZlVGV4dCA9IHRleHQgfHwgXCJcIjtcbiAgICBjb25zdCBjaGFycyA9IEFycmF5LmZyb20oc2FmZVRleHQpO1xuICAgIHJldHVybiBjaGFycy5sZW5ndGggPiBsaW1pdCA/IGNoYXJzLnNsaWNlKDAsIGxpbWl0KS5qb2luKFwiXCIpICsgXCIuLi5cIiA6IHNhZmVUZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ1bmNhdGVUaXRsZSh0aXRsZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRydW5jYXRlVGV4dCh0aXRsZSwgVElUTEVfQ0hBUl9MSU1JVCk7XG4gIH1cblxuICBmdW5jdGlvbiB0cnVuY2F0ZUNvbnRlbnQoY29udGVudDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRydW5jYXRlVGV4dChjb250ZW50LCBDT05URU5UX0NIQVJfTElNSVQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQm9va21hcmtCdXR0b25TdGF0ZShidXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCwgaXNCb29rbWFya2VkOiBib29sZWFuKSB7XG4gICAgaWYgKCFidXR0b24pIHJldHVybjtcbiAgICBidXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImJvb2ttYXJrZWRcIiwgaXNCb29rbWFya2VkKTtcbiAgICBidXR0b24uaW5uZXJIVE1MID0gaXNCb29rbWFya2VkXG4gICAgICA/IGA8aSBjbGFzcz1cImJpIGJpLWJvb2ttYXJrLWZpbGxcIj48L2k+YFxuICAgICAgOiBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFya1wiPjwvaT5gO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VuZEJvb2ttYXJrUmVxdWVzdChtZXRob2Q6IFwiUE9TVFwiIHwgXCJERUxFVEVcIiwgcGF5bG9hZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICByZXR1cm4gZmV0Y2goXCIvcHJvbXB0X3NoYXJlL2FwaS9ib29rbWFya1wiLCB7XG4gICAgICBtZXRob2QsXG4gICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcbiAgICB9KS50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgZGF0YS5lcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvciB8fCBcIuaTjeS9nOOBq+WkseaVl+OBl+OBvuOBl+OBn+OAglwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZVByb21wdEJvb2ttYXJrKHByb21wdDogUHJvbXB0RGF0YSkge1xuICAgIHJldHVybiBzZW5kQm9va21hcmtSZXF1ZXN0KFwiUE9TVFwiLCB7XG4gICAgICB0aXRsZTogcHJvbXB0LnRpdGxlLFxuICAgICAgY29udGVudDogcHJvbXB0LmNvbnRlbnQsXG4gICAgICBpbnB1dF9leGFtcGxlczogcHJvbXB0LmlucHV0X2V4YW1wbGVzIHx8IFwiXCIsXG4gICAgICBvdXRwdXRfZXhhbXBsZXM6IHByb21wdC5vdXRwdXRfZXhhbXBsZXMgfHwgXCJcIlxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlUHJvbXB0Qm9va21hcmsocHJvbXB0OiBQcm9tcHREYXRhKSB7XG4gICAgcmV0dXJuIHNlbmRCb29rbWFya1JlcXVlc3QoXCJERUxFVEVcIiwge1xuICAgICAgdGl0bGU6IHByb21wdC50aXRsZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZVByb21wdFRvTGlzdChwcm9tcHQ6IFByb21wdERhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goXCIvcHJvbXB0X3NoYXJlL2FwaS9wcm9tcHRfbGlzdFwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0X2lkOiBwcm9tcHQuaWQgPz8gbnVsbCxcbiAgICAgICAgdGl0bGU6IHByb21wdC50aXRsZSxcbiAgICAgICAgY2F0ZWdvcnk6IHByb21wdC5jYXRlZ29yeSB8fCBcIlwiLFxuICAgICAgICBjb250ZW50OiBwcm9tcHQuY29udGVudCxcbiAgICAgICAgaW5wdXRfZXhhbXBsZXM6IHByb21wdC5pbnB1dF9leGFtcGxlcyB8fCBcIlwiLFxuICAgICAgICBvdXRwdXRfZXhhbXBsZXM6IHByb21wdC5vdXRwdXRfZXhhbXBsZXMgfHwgXCJcIlxuICAgICAgfSlcbiAgICB9KS50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgZGF0YS5lcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvciB8fCBcIuaTjeS9nOOBq+WkseaVl+OBl+OBvuOBl+OBn+OAglwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJvbXB0Q2FyZEVsZW1lbnQocHJvbXB0OiBQcm9tcHREYXRhKSB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwicHJvbXB0LWNhcmRcIik7XG4gICAgaWYgKHByb21wdC5jYXRlZ29yeSkge1xuICAgICAgY2FyZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNhdGVnb3J5XCIsIHByb21wdC5jYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNCb29rbWFya2VkID0gQm9vbGVhbihwcm9tcHQuYm9va21hcmtlZCk7XG4gICAgY29uc3QgaXNTYXZlZFRvTGlzdCA9IEJvb2xlYW4ocHJvbXB0LnNhdmVkX3RvX2xpc3QpO1xuICAgIGNvbnN0IGJvb2ttYXJrSWNvbiA9IGlzQm9va21hcmtlZFxuICAgICAgPyBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFyay1maWxsXCI+PC9pPmBcbiAgICAgIDogYDxpIGNsYXNzPVwiYmkgYmktYm9va21hcmtcIj48L2k+YDtcblxuICAgIGNvbnN0IHRydW5jYXRlZENvbnRlbnQgPSB0cnVuY2F0ZUNvbnRlbnQocHJvbXB0LmNvbnRlbnQpO1xuXG4gICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICA8YnV0dG9uIGNsYXNzPVwibWVhdGJhbGwtbWVudVwiIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwi44Gd44Gu5LuW44Gu5pON5L2cXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS10aHJlZS1kb3RzXCI+PC9pPlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtYWN0aW9ucy1kcm9wZG93blwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgdHlwZT1cImJ1dHRvblwiIHJvbGU9XCJtZW51aXRlbVwiIGRhdGEtYWN0aW9uPVwic2F2ZS10by1saXN0XCI+44OX44Ot44Oz44OX44OI44Oq44K544OI44Gr5L+d5a2YPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgdHlwZT1cImJ1dHRvblwiIHJvbGU9XCJtZW51aXRlbVwiPuODn+ODpeODvOODiDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIHR5cGU9XCJidXR0b25cIiByb2xlPVwibWVudWl0ZW1cIj7loLHlkYrjgZnjgos8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8aDM+JHt0cnVuY2F0ZVRpdGxlKHByb21wdC50aXRsZSl9PC9oMz5cbiAgICAgIDxwIGNsYXNzPVwicHJvbXB0LWNhcmRfX2NvbnRlbnRcIj4ke3RydW5jYXRlZENvbnRlbnR9PC9wPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LW1ldGFcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb21wdC1tZXRhLWluZm9cIj5cbiAgICAgICAgICA8c3Bhbj7jgqvjg4bjgrTjg6o6ICR7cHJvbXB0LmNhdGVnb3J5fTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj7mipXnqL/ogIU6ICR7cHJvbXB0LmF1dGhvcn08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHJvbXB0LWFjdGlvbi1idG4gY29tbWVudC1idG5cIiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIuOCs+ODoeODs+ODiFwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1jaGF0LWRvdHNcIj48L2k+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInByb21wdC1hY3Rpb24tYnRuIGxpa2UtYnRuXCIgdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCLjgYTjgYTjga1cIj5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiYmkgYmktaGVhcnRcIj48L2k+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInByb21wdC1hY3Rpb24tYnRuIGJvb2ttYXJrLWJ0biAke2lzQm9va21hcmtlZCA/IFwiYm9va21hcmtlZFwiIDogXCJcIn1cIiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIuODluODg+OCr+ODnuODvOOCr1wiPlxuICAgICAgICAgICAgJHtib29rbWFya0ljb259XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIGNhcmQuZGF0YXNldC5mdWxsVGl0bGUgPSBwcm9tcHQudGl0bGUgfHwgXCJcIjtcbiAgICBjYXJkLmRhdGFzZXQuZnVsbENvbnRlbnQgPSBwcm9tcHQuY29udGVudCB8fCBcIlwiO1xuICAgIGNhcmQuZGF0YXNldC5zYXZlZFRvTGlzdCA9IGlzU2F2ZWRUb0xpc3QgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbiAgICBjYXJkLmRhdGFzZXQucHNCb3VuZCA9IFwidHJ1ZVwiO1xuXG4gICAgY29uc3QgYm9va21hcmtCdG4gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuYm9va21hcmstYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBpZiAoYm9va21hcmtCdG4pIHtcbiAgICAgIGJvb2ttYXJrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAoIWlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICBhbGVydChcIuODluODg+OCr+ODnuODvOOCr+OBmeOCi+OBq+OBr+ODreOCsOOCpOODs+OBjOW/heimgeOBp+OBmeOAglwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaG91bGRCb29rbWFyayA9ICFib29rbWFya0J0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJib29rbWFya2VkXCIpO1xuICAgICAgICBib29rbWFya0J0bi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHNob3VsZEJvb2ttYXJrID8gc2F2ZVByb21wdEJvb2ttYXJrKHByb21wdCkgOiByZW1vdmVQcm9tcHRCb29rbWFyayhwcm9tcHQpO1xuXG4gICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVCb29rbWFya0J1dHRvblN0YXRlKGJvb2ttYXJrQnRuLCBzaG91bGRCb29rbWFyayk7XG4gICAgICAgICAgICBwcm9tcHQuYm9va21hcmtlZCA9IHNob3VsZEJvb2ttYXJrO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQubWVzc2FnZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuODluODg+OCr+ODnuODvOOCr+aTjeS9nOOCqOODqeODvDpcIiwgZXJyKTtcbiAgICAgICAgICAgIGFsZXJ0KFwi44OW44OD44Kv44Oe44O844Kv44Gu5pu05paw5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44Gf44CCXCIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgYm9va21hcmtCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgYm9va21hcmtCdG4uZGF0YXNldC5ib3VuZCA9IFwidHJ1ZVwiO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbW1lbnRCdG4gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY29tbWVudC1idG5cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGlmIChjb21tZW50QnRuKSB7XG4gICAgICBjb21tZW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbGlrZUJ0biA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5saWtlLWJ0blwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKGxpa2VCdG4pIHtcbiAgICAgIGxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGxpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImxpa2VkXCIpO1xuICAgICAgICBjb25zdCBpY29uID0gbGlrZUJ0bi5xdWVyeVNlbGVjdG9yKFwiaVwiKTtcbiAgICAgICAgaWYgKGljb24pIHtcbiAgICAgICAgICBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJiaS1oZWFydFwiKTtcbiAgICAgICAgICBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJiaS1oZWFydC1maWxsXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBtZWF0YmFsbEJ0biA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5tZWF0YmFsbC1tZW51XCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBjb25zdCBkcm9wZG93bk1lbnUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0LWFjdGlvbnMtZHJvcGRvd25cIikgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGlmIChtZWF0YmFsbEJ0biAmJiBkcm9wZG93bk1lbnUpIHtcbiAgICAgIG1lYXRiYWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB3aWxsT3BlbiA9ICFkcm9wZG93bk1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtb3BlblwiKTtcbiAgICAgICAgY2xvc2VBbGxEcm9wZG93bnMoY2FyZCk7XG4gICAgICAgIGRyb3Bkb3duTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtb3BlblwiLCB3aWxsT3Blbik7XG4gICAgICAgIG1lYXRiYWxsQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgd2lsbE9wZW4gPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnRvZ2dsZShcIm1lbnUtb3BlblwiLCB3aWxsT3Blbik7XG4gICAgICB9KTtcblxuICAgICAgZHJvcGRvd25NZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgZHJvcGRvd25NZW51LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiLmRyb3Bkb3duLWl0ZW1cIikuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XG4gICAgICAgICAgbWVhdGJhbGxCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtb3BlblwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2F2ZU1lbnVJdGVtID0gZHJvcGRvd25NZW51LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCdbZGF0YS1hY3Rpb249XCJzYXZlLXRvLWxpc3RcIl0nKTtcbiAgICAgIGlmIChzYXZlTWVudUl0ZW0pIHtcbiAgICAgICAgc2F2ZU1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICBhbGVydChcIuODl+ODreODs+ODl+ODiOOCkuS/neWtmOOBmeOCi+OBq+OBr+ODreOCsOOCpOODs+OBjOW/heimgeOBp+OBmeOAglwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvbXB0LnNhdmVkX3RvX2xpc3QpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwi44GT44Gu44OX44Ot44Oz44OX44OI44Gv44GZ44Gn44Gr44OX44Ot44Oz44OX44OI44Oq44K544OI44Gr5L+d5a2Y44GV44KM44Gm44GE44G+44GZ44CCXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNhdmVNZW51SXRlbS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgc2F2ZVByb21wdFRvTGlzdChwcm9tcHQpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIHByb21wdC5zYXZlZF90b19saXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY2FyZC5kYXRhc2V0LnNhdmVkVG9MaXN0ID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi44OX44Ot44Oz44OX44OI5L+d5a2Y5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfOlwiLCBlcnIpO1xuICAgICAgICAgICAgICBhbGVydChcIuODl+ODreODs+ODl+ODiOODquOCueODiOOBuOOBruS/neWtmOS4reOBq+OCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBn+OAglwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgIHNhdmVNZW51SXRlbS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBFbGVtZW50IHwgbnVsbDtcbiAgICAgIGlmICh0YXJnZXQ/LmNsb3Nlc3QoXCIucHJvbXB0LWFjdGlvbi1idG5cIikgfHwgdGFyZ2V0Py5jbG9zZXN0KFwiLm1lYXRiYWxsLW1lbnVcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xvc2VBbGxEcm9wZG93bnMoKTtcbiAgICAgIHNob3dQcm9tcHREZXRhaWxNb2RhbChwcm9tcHQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8g44K144O844OQ44O844GL44KJ44OX44Ot44Oz44OX44OI5LiA6Kan44KS5Y+W5b6X44GX44Gm6KGo56S644GZ44KL6Zai5pWw77yIUHJvbWlzZSDjgpLov5TjgZnvvIlcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGZ1bmN0aW9uIGxvYWRQcm9tcHRzKCkge1xuICAgIHJldHVybiBmZXRjaChcIi9wcm9tcHRfc2hhcmUvYXBpL3Byb21wdHNcIilcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKCFwcm9tcHRDb250YWluZXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvbXB0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7IC8vIOaXouWtmOOBruOCq+ODvOODieOCkuOCr+ODquOColxuXG4gICAgICAgIGlmIChkYXRhLnByb21wdHMpIHtcbiAgICAgICAgICBkYXRhLnByb21wdHMuZm9yRWFjaCgocHJvbXB0OiBQcm9tcHREYXRhKSA9PiB7XG4gICAgICAgICAgICBwcm9tcHQuYm9va21hcmtlZCA9IEJvb2xlYW4ocHJvbXB0LmJvb2ttYXJrZWQpO1xuICAgICAgICAgICAgcHJvbXB0LnNhdmVkX3RvX2xpc3QgPSBCb29sZWFuKHByb21wdC5zYXZlZF90b19saXN0KTtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVQcm9tcHRDYXJkRWxlbWVudChwcm9tcHQpO1xuICAgICAgICAgICAgcHJvbXB0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21wdENvbnRhaW5lci5pbm5lckhUTUwgPSBcIjxwPuODl+ODreODs+ODl+ODiOOBjOimi+OBpOOBi+OCiuOBvuOBm+OCk+OBp+OBl+OBn+OAgjwvcD5cIjtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLjg5fjg63jg7Pjg5fjg4jlj5blvpfjgqjjg6njg7w6XCIsIGVycik7XG4gICAgICAgIGlmIChwcm9tcHRDb250YWluZXIpIHtcbiAgICAgICAgICBwcm9tcHRDb250YWluZXIuaW5uZXJIVE1MID0gYDxwPuOCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBnzogJHtlcnIubWVzc2FnZX08L3A+YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvLyDliJ3lm57jg63jg7zjg4nmmYLjgavjg5fjg63jg7Pjg5fjg4jkuIDopqfjgpLlj5blvpdcbiAgbG9hZFByb21wdHMoKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8g6Z2Z55qE44OX44Ot44Oz44OX44OI44Kr44O844OJ44Gu44Kk44OZ44Oz44OI44OP44Oz44OJ44Op44KS6L+95Yqg77yI44OG44K544OI55So77yJXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBmdW5jdGlvbiBzZXR1cFN0YXRpY0NhcmRFdmVudHMoKSB7XG4gICAgY29uc3Qgc3RhdGljQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PihcIi5wcm9tcHQtY2FyZFwiKTtcbiAgICBzdGF0aWNDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBpZiAoY2FyZC5kYXRhc2V0LnBzQm91bmQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRpdGxlRWxlbSA9IGNhcmQucXVlcnlTZWxlY3RvcihcImgzXCIpO1xuICAgICAgaWYgKHRpdGxlRWxlbSkge1xuICAgICAgICBjb25zdCBmdWxsVGl0bGUgPSB0aXRsZUVsZW0udGV4dENvbnRlbnQgfHwgXCJcIjtcbiAgICAgICAgdGl0bGVFbGVtLmRhdGFzZXQuZnVsbFRpdGxlID0gZnVsbFRpdGxlO1xuICAgICAgICB0aXRsZUVsZW0udGV4dENvbnRlbnQgPSB0cnVuY2F0ZVRpdGxlKGZ1bGxUaXRsZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbnRlbnRFbGVtID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwicFwiKTtcbiAgICAgIGlmIChjb250ZW50RWxlbSkge1xuICAgICAgICBjb25zdCBmdWxsQ29udGVudCA9IGNvbnRlbnRFbGVtLnRleHRDb250ZW50IHx8IFwiXCI7XG4gICAgICAgIGNvbnRlbnRFbGVtLmRhdGFzZXQuZnVsbENvbnRlbnQgPSBmdWxsQ29udGVudDtcbiAgICAgICAgY29udGVudEVsZW0udGV4dENvbnRlbnQgPSB0cnVuY2F0ZUNvbnRlbnQoZnVsbENvbnRlbnQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtZXRhID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1tZXRhXCIpO1xuICAgICAgaWYgKG1ldGEgJiYgIW1ldGEucXVlcnlTZWxlY3RvcihcIi5wcm9tcHQtbWV0YS1pbmZvXCIpKSB7XG4gICAgICAgIGNvbnN0IHNwYW5zID0gQXJyYXkuZnJvbShtZXRhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpKTtcbiAgICAgICAgY29uc3QgbWV0YUluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtZXRhSW5mby5jbGFzc0xpc3QuYWRkKFwicHJvbXB0LW1ldGEtaW5mb1wiKTtcbiAgICAgICAgc3BhbnMuZm9yRWFjaCgoc3BhbikgPT4gbWV0YUluZm8uYXBwZW5kQ2hpbGQoc3BhbikpO1xuICAgICAgICBtZXRhLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIG1ldGEuYXBwZW5kQ2hpbGQobWV0YUluZm8pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb21tZW50QnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNvbW1lbnQtYnRuXCIpO1xuICAgICAgaWYgKGNvbW1lbnRCdG4pIHtcbiAgICAgICAgY29tbWVudEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGlrZUJ0biA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5saWtlLWJ0blwiKTtcbiAgICAgIGlmIChsaWtlQnRuKSB7XG4gICAgICAgIGxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBsaWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJsaWtlZFwiKTtcbiAgICAgICAgICBjb25zdCBpY29uID0gbGlrZUJ0bi5xdWVyeVNlbGVjdG9yKFwiaVwiKTtcbiAgICAgICAgICBpZiAoaWNvbikge1xuICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QudG9nZ2xlKFwiYmktaGVhcnRcIik7XG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJiaS1oZWFydC1maWxsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1lYXRiYWxsQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLm1lYXRiYWxsLW1lbnVcIik7XG4gICAgICBjb25zdCBkcm9wZG93bk1lbnUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0LWFjdGlvbnMtZHJvcGRvd25cIik7XG4gICAgICBpZiAobWVhdGJhbGxCdG4gJiYgZHJvcGRvd25NZW51KSB7XG4gICAgICAgIG1lYXRiYWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgY29uc3Qgd2lsbE9wZW4gPSAhZHJvcGRvd25NZW51LmNsYXNzTGlzdC5jb250YWlucyhcImlzLW9wZW5cIik7XG4gICAgICAgICAgY2xvc2VBbGxEcm9wZG93bnMoY2FyZCk7XG4gICAgICAgICAgZHJvcGRvd25NZW51LmNsYXNzTGlzdC50b2dnbGUoXCJpcy1vcGVuXCIsIHdpbGxPcGVuKTtcbiAgICAgICAgICBtZWF0YmFsbEJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIHdpbGxPcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnRvZ2dsZShcIm1lbnUtb3BlblwiLCB3aWxsT3Blbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRyb3Bkb3duTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRyb3Bkb3duTWVudS5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyb3Bkb3duLWl0ZW1cIikuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XG4gICAgICAgICAgICBtZWF0YmFsbEJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51LW9wZW5cIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBib29rbWFya0J0biA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5ib29rbWFyay1idG5cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKGJvb2ttYXJrQnRuKSB7XG4gICAgICAgIGJvb2ttYXJrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgaWYgKCFpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICBhbGVydChcIuODluODg+OCr+ODnuODvOOCr+OBmeOCi+OBq+OBr+ODreOCsOOCpOODs+OBjOW/heimgeOBp+OBmeOAglwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9va21hcmtCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImJvb2ttYXJrZWRcIik7XG4gICAgICAgICAgYm9va21hcmtCdG4uaW5uZXJIVE1MID0gYm9va21hcmtCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYm9va21hcmtlZFwiKVxuICAgICAgICAgICAgPyBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFyay1maWxsXCI+PC9pPmBcbiAgICAgICAgICAgIDogYDxpIGNsYXNzPVwiYmkgYmktYm9va21hcmtcIj48L2k+YDtcbiAgICAgICAgfSk7XG4gICAgICAgIGJvb2ttYXJrQnRuLmRhdGFzZXQuYm91bmQgPSBcInRydWVcIjtcbiAgICAgIH1cblxuICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgRWxlbWVudCB8IG51bGw7XG4gICAgICAgIGlmICh0YXJnZXQ/LmNsb3Nlc3QoXCIucHJvbXB0LWFjdGlvbi1idG5cIikgfHwgdGFyZ2V0Py5jbG9zZXN0KFwiLm1lYXRiYWxsLW1lbnVcIikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyDpnZnnmoTjgqvjg7zjg4njga7jg4fjg7zjgr/jgpLlj5blvpdcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZUVsZW0gPyB0aXRsZUVsZW0uZGF0YXNldC5mdWxsVGl0bGUgfHwgdGl0bGVFbGVtLnRleHRDb250ZW50IHx8IFwiXCIgOiBcIlwiO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGVudEVsZW0gPyBjb250ZW50RWxlbS5kYXRhc2V0LmZ1bGxDb250ZW50IHx8IGNvbnRlbnRFbGVtLnRleHRDb250ZW50IHx8IFwiXCIgOiBcIlwiO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGNhcmQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXRlZ29yeVwiKSB8fCBcIlwiO1xuICAgICAgICBjb25zdCBhdXRob3JTcGFuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1tZXRhIHNwYW46bGFzdC1jaGlsZFwiKTtcbiAgICAgICAgY29uc3QgYXV0aG9yID0gYXV0aG9yU3BhbiA/IGF1dGhvclNwYW4udGV4dENvbnRlbnQ/LnJlcGxhY2UoXCLmipXnqL/ogIU6IFwiLCBcIlwiKSB8fCBcIuS4jeaYjlwiIDogXCLkuI3mmI5cIjtcblxuICAgICAgICAvLyDmqKHmk6zjg5fjg63jg7Pjg5fjg4jjg4fjg7zjgr/jgpLkvZzmiJBcbiAgICAgICAgY29uc3QgbW9ja1Byb21wdDogUHJvbXB0RGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgICAgYXV0aG9yOiBhdXRob3IsXG4gICAgICAgICAgaW5wdXRfZXhhbXBsZXM6XG4gICAgICAgICAgICB0aXRsZSA9PT0gXCLlkYrnmb3jga7jgqLjg4njg5DjgqTjgrlcIlxuICAgICAgICAgICAgICA/IFwi5aW944GN44Gq5Lq644Gr5ZGK55m944GX44Gf44GE44Gn44GZ44CC44Gp44Gu44KI44GG44Gr5rCX5oyB44Gh44KS5Lyd44GI44KM44Gw44KI44GE44Gn44GX44KH44GG44GL77yfXCJcbiAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIG91dHB1dF9leGFtcGxlczpcbiAgICAgICAgICAgIHRpdGxlID09PSBcIuWRiueZveOBruOCouODieODkOOCpOOCuVwiXG4gICAgICAgICAgICAgID8gXCLntKDnm7TjgarmsJfmjIHjgaHjgafjgIHnm7jmiYvjga7jgZPjgajjgpLmgJ3jgYTjgoTjgorjgarjgYzjgonjgIzjgYLjgarjgZ/jgajkuIDnt5LjgavjgYTjgovjgajjgajjgabjgoLlubjjgZvjgafjgZnjgILjgYrku5jjgY3lkIjjgYTjgZfjgabjgYTjgZ/jgaDjgZHjgb7jgZvjgpPjgYvvvJ/jgI3jgajjgYTjgaPjgZ/oqqDlrp/jgaroqIDokYnjgafkvJ3jgYjjgovjgZPjgajjgpLjgYrli6fjgoHjgZfjgb7jgZnjgIJcIlxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgfTtcblxuICAgICAgICBjbG9zZUFsbERyb3Bkb3ducygpO1xuICAgICAgICBzaG93UHJvbXB0RGV0YWlsTW9kYWwobW9ja1Byb21wdCk7XG4gICAgICB9KTtcbiAgICAgIGNhcmQuZGF0YXNldC5wc0JvdW5kID0gXCJ0cnVlXCI7XG4gICAgfSk7XG4gIH1cblxuICAvLyDpnZnnmoTjgqvjg7zjg4njga7jgqTjg5njg7Pjg4jjgpLjgrvjg4Pjg4jjgqLjg4Pjg5dcbiAgc2V0dXBTdGF0aWNDYXJkRXZlbnRzKCk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIOaknOe0ouapn+iDve+8iOOCteODvOODkOODvOWBtOaknOe0ou+8iVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaElucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICBjb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaEJ1dHRvblwiKTtcbiAgY29uc3QgcHJvbXB0Q2FyZHNTZWN0aW9uID0gcHJvbXB0Q29udGFpbmVyO1xuICBjb25zdCBzZWxlY3RlZENhdGVnb3J5VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdGVkLWNhdGVnb3J5LXRpdGxlXCIpO1xuXG4gIGZ1bmN0aW9uIHNlYXJjaFByb21wdHNTZXJ2ZXIoKSB7XG4gICAgaWYgKCFzZWFyY2hJbnB1dCB8fCAhcHJvbXB0Q2FyZHNTZWN0aW9uIHx8ICFzZWxlY3RlZENhdGVnb3J5VGl0bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSBzZWFyY2hJbnB1dC52YWx1ZS50cmltKCk7XG5cbiAgICAvLyDjgq/jgqjjg6rjgYznqbrjga7loLTlkIjjga/jgIHlhajjg5fjg63jg7Pjg5fjg4jjgpLlho3ooajnpLpcbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICBsb2FkUHJvbXB0cygpO1xuICAgICAgc2VsZWN0ZWRDYXRlZ29yeVRpdGxlLnRleHRDb250ZW50ID0gXCLlhajjgabjga7jg5fjg63jg7Pjg5fjg4hcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDjg5jjg4Pjg4Djg7zjgpLmpJzntKLntZDmnpznlKjjgavmm7TmlrBcbiAgICBzZWxlY3RlZENhdGVnb3J5VGl0bGUudGV4dENvbnRlbnQgPSBg5qSc57Si57WQ5p6cOiDjgIwke3F1ZXJ5feOAjWA7XG5cbiAgICBmZXRjaChgL3NlYXJjaC9wcm9tcHRzP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWApXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHByb21wdENhcmRzU2VjdGlvbi5pbm5lckhUTUwgPSBcIlwiOyAvLyDml6LlrZjjga7jgqvjg7zjg4njgpLjgq/jg6rjgqJcbiAgICAgICAgaWYgKGRhdGEucHJvbXB0cyAmJiBkYXRhLnByb21wdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGRhdGEucHJvbXB0cy5mb3JFYWNoKChwcm9tcHQ6IFByb21wdERhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVQcm9tcHRDYXJkRWxlbWVudChwcm9tcHQpO1xuICAgICAgICAgICAgcHJvbXB0Q2FyZHNTZWN0aW9uLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21wdENhcmRzU2VjdGlvbi5pbm5lckhUTUwgPSBcIjxwPuipsuW9k+OBmeOCi+ODl+ODreODs+ODl+ODiOOBjOimi+OBpOOBi+OCiuOBvuOBm+OCk+OBp+OBl+OBn+OAgjwvcD5cIjtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLmpJzntKLjgqjjg6njg7w6XCIsIGVycik7XG4gICAgICAgIHByb21wdENhcmRzU2VjdGlvbi5pbm5lckhUTUwgPSBgPHA+44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfOiAke2Vyci5tZXNzYWdlfTwvcD5gO1xuICAgICAgfSk7XG4gIH1cblxuICBpZiAoc2VhcmNoQnV0dG9uICYmIHNlYXJjaElucHV0KSB7XG4gICAgc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZWFyY2hQcm9tcHRzU2VydmVyKTtcbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZWFyY2hQcm9tcHRzU2VydmVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8g44Kr44OG44K044Oq6YG45oqe44Go6KGo56S6XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25zdCBjYXRlZ29yeUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIuY2F0ZWdvcnktY2FyZFwiKTtcbiAgaWYgKGNhdGVnb3J5Q2FyZHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZENhdGVnb3J5VGl0bGUpIHtcbiAgICBjYXRlZ29yeUNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgLy8g5qSc57Si57WQ5p6c54q25oWL44Gu5aC05ZCI44Gv44CB5qSc57Si5YWl5Yqb44KS44Kv44Oq44Ki44GX5pyA5paw44Gu5YWo44OX44Ot44Oz44OX44OI44KS5YaN5Y+W5b6XXG4gICAgICAgIGlmIChzZWFyY2hJbnB1dCAmJiBzZWFyY2hJbnB1dC52YWx1ZS50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICBzZWFyY2hJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgbG9hZFByb21wdHMoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGFwcGx5Q2F0ZWdvcnlGaWx0ZXIoY2FyZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwbHlDYXRlZ29yeUZpbHRlcihjYXJkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyDjgqvjg4bjgrTjg6rjg5XjgqPjg6vjgr/jgpLpgannlKjjgZnjgovplqLmlbBcbiAgZnVuY3Rpb24gYXBwbHlDYXRlZ29yeUZpbHRlcihjYXJkOiBIVE1MRWxlbWVudCkge1xuICAgIC8vIOWFqOOCq+ODhuOCtOODquODnOOCv+ODs+OBriBhY3RpdmUg44Kv44Op44K544KS44Oq44K744OD44OIXG4gICAgY2F0ZWdvcnlDYXJkcy5mb3JFYWNoKChjKSA9PiBjLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpO1xuICAgIGNhcmQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcblxuICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBjYXJkLmdldEF0dHJpYnV0ZShcImRhdGEtY2F0ZWdvcnlcIik7XG4gICAgc2VsZWN0ZWRDYXRlZ29yeVRpdGxlIS50ZXh0Q29udGVudCA9XG4gICAgICBzZWxlY3RlZENhdGVnb3J5ID09PSBcImFsbFwiID8gXCLlhajjgabjga7jg5fjg63jg7Pjg5fjg4hcIiA6IGAke3NlbGVjdGVkQ2F0ZWdvcnl9IOOBruODl+ODreODs+ODl+ODiGA7XG5cbiAgICAvLyDooajnpLrkuK3jga7jg5fjg63jg7Pjg5fjg4jjgqvjg7zjg4njgavjg5XjgqPjg6vjgr/jgpLpgannlKhcbiAgICBjb25zdCBwcm9tcHRDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KFwiLnByb21wdC1jYXJkXCIpO1xuICAgIHByb21wdENhcmRzLmZvckVhY2goKHByb21wdCkgPT4ge1xuICAgICAgY29uc3QgcHJvbXB0Q2F0ZWdvcnkgPSBwcm9tcHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXRlZ29yeVwiKTtcbiAgICAgIHByb21wdC5zdHlsZS5kaXNwbGF5ID1cbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeSA9PT0gXCJhbGxcIiB8fCBwcm9tcHRDYXRlZ29yeSA9PT0gc2VsZWN0ZWRDYXRlZ29yeSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIOaKleeov+ODleOCqeODvOODoOOBrumAgeS/oeWHpueQhlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29uc3QgcG9zdEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RGb3JtXCIpIGFzIEhUTUxGb3JtRWxlbWVudCB8IG51bGw7XG4gIGlmIChwb3N0Rm9ybSkge1xuICAgIHBvc3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvbXB0LXRpdGxlXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgY29uc3QgY2F0ZWdvcnlJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvbXB0LWNhdGVnb3J5XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgY29uc3QgY29udGVudElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHQtY29udGVudFwiKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50IHwgbnVsbDtcbiAgICAgIGNvbnN0IGF1dGhvcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHQtYXV0aG9yXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKCF0aXRsZUlucHV0IHx8ICFjYXRlZ29yeUlucHV0IHx8ICFjb250ZW50SW5wdXQgfHwgIWF1dGhvcklucHV0KSB7XG4gICAgICAgIGFsZXJ0KFwi44OV44Kp44O844Og6KaB57Sg44GM6KaL44Gk44GL44KK44G+44Gb44KT44Gn44GX44Gf44CC44Oa44O844K444KS5YaN6Kqt44G/6L6844G/44GX44Gm44GP44Gg44GV44GE44CCXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVJbnB1dC52YWx1ZTtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcnlJbnB1dC52YWx1ZTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50SW5wdXQudmFsdWU7XG4gICAgICBjb25zdCBhdXRob3IgPSBhdXRob3JJbnB1dC52YWx1ZTtcblxuICAgICAgLy8g44Ks44O844OJ44Os44O844Or5L2/55So44Gu44OB44Kn44OD44Kv44Go5YCk5Y+W5b6XXG4gICAgICBjb25zdCBndWFyZHJhaWxDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRyYWlsLWNoZWNrYm94XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgY29uc3QgdXNlR3VhcmRyYWlsID0gZ3VhcmRyYWlsQ2hlY2tib3ggPyBndWFyZHJhaWxDaGVja2JveC5jaGVja2VkIDogZmFsc2U7XG4gICAgICBsZXQgaW5wdXRfZXhhbXBsZXMgPSBcIlwiO1xuICAgICAgbGV0IG91dHB1dF9leGFtcGxlcyA9IFwiXCI7XG4gICAgICBpZiAodXNlR3VhcmRyYWlsKSB7XG4gICAgICAgIGNvbnN0IGlucHV0RXhhbXBsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvbXB0LWlucHV0LWV4YW1wbGVcIikgYXMgSFRNTFRleHRBcmVhRWxlbWVudCB8IG51bGw7XG4gICAgICAgIGNvbnN0IG91dHB1dEV4YW1wbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb21wdC1vdXRwdXQtZXhhbXBsZVwiKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgaW5wdXRfZXhhbXBsZXMgPSBpbnB1dEV4YW1wbGUgPyBpbnB1dEV4YW1wbGUudmFsdWUgOiBcIlwiO1xuICAgICAgICBvdXRwdXRfZXhhbXBsZXMgPSBvdXRwdXRFeGFtcGxlID8gb3V0cHV0RXhhbXBsZS52YWx1ZSA6IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIOOBmeOBueOBpuOBruaKleeov+OCkuWFrOmWi+OBmeOCi+OBn+OCgeOAgeW4uOOBqyB0cnVlIOOBq+ioreWumlxuICAgICAgY29uc3QgaXNQdWJsaWMgPSB0cnVlO1xuXG4gICAgICBjb25zdCBwb3N0RGF0YSA9IHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgIGF1dGhvcjogYXV0aG9yLFxuICAgICAgICBpbnB1dF9leGFtcGxlczogaW5wdXRfZXhhbXBsZXMsXG4gICAgICAgIG91dHB1dF9leGFtcGxlczogb3V0cHV0X2V4YW1wbGVzLFxuICAgICAgICBpc19wdWJsaWM6IGlzUHVibGljXG4gICAgICB9O1xuXG4gICAgICBmZXRjaChcIi9wcm9tcHRfc2hhcmUvYXBpL3Byb21wdHNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocG9zdERhdGEpXG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwi44Ko44Op44O8OiBcIiArIHJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwi44OX44Ot44Oz44OX44OI44GM5oqV56i/44GV44KM44G+44GX44Gf77yBXCIpO1xuICAgICAgICAgICAgLy8g44OV44Kp44O844Og44Oq44K744OD44OI77yG44Oi44O844OA44Or44KS6ZaJ44GY44KLXG4gICAgICAgICAgICBwb3N0Rm9ybS5yZXNldCgpO1xuICAgICAgICAgICAgY29uc3QgZ3VhcmRyYWlsRmllbGRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZHJhaWwtZmllbGRzXCIpO1xuICAgICAgICAgICAgaWYgKGd1YXJkcmFpbEZpZWxkcykge1xuICAgICAgICAgICAgICBndWFyZHJhaWxGaWVsZHMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0TW9kYWxcIik7XG4gICAgICAgICAgICBpZiAocG9zdE1vZGFsKSB7XG4gICAgICAgICAgICAgIHBvc3RNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyaWdnZXJOZXdQcm9tcHRJY29uUm90YXRpb24oKTtcbiAgICAgICAgICAgIC8vIOacgOaWsOOBruODl+ODreODs+ODl+ODiOS4gOimp+OCkuWGjeiqreOBv+i+vOOBv1xuICAgICAgICAgICAgbG9hZFByb21wdHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuaKleeov+OCqOODqeODvDpcIiwgZXJyKTtcbiAgICAgICAgICBhbGVydChcIuODl+ODreODs+ODl+ODiOaKleeov+S4reOBq+OCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBn+OAglwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8g5oqV56i/44Oi44O844OA44Or44Gu6KGo56S644O76Z2e6KGo56S6XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25zdCBvcGVuTW9kYWxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9wZW5Qb3N0TW9kYWxcIik7XG4gIGNvbnN0IHBvc3RNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdE1vZGFsXCIpO1xuICBjb25zdCBjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZS1idG5cIik7XG4gIGNvbnN0IG5ld1Byb21wdEljb24gPSBvcGVuTW9kYWxCdG4gPyBvcGVuTW9kYWxCdG4ucXVlcnlTZWxlY3RvcihcImlcIikgOiBudWxsO1xuXG4gIGNvbnN0IHRyaWdnZXJOZXdQcm9tcHRJY29uUm90YXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKCFuZXdQcm9tcHRJY29uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5ld1Byb21wdEljb24uY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0aW5nXCIpO1xuICAgIHZvaWQgKG5ld1Byb21wdEljb24gYXMgSFRNTEVsZW1lbnQpLm9mZnNldFdpZHRoO1xuICAgIG5ld1Byb21wdEljb24uY2xhc3NMaXN0LmFkZChcInJvdGF0aW5nXCIpO1xuICB9O1xuXG4gIGlmIChuZXdQcm9tcHRJY29uKSB7XG4gICAgbmV3UHJvbXB0SWNvbi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcbiAgICAgIG5ld1Byb21wdEljb24uY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0aW5nXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wZW5Nb2RhbEJ0biAmJiBwb3N0TW9kYWwpIHtcbiAgICBvcGVuTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXNMb2dnZWRJbikge1xuICAgICAgICBhbGVydChcIuODl+ODreODs+ODl+ODiOOCkuaKleeov+OBmeOCi+OBq+OBr+ODreOCsOOCpOODs+OBjOW/heimgeOBp+OBmeOAglwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cmlnZ2VyTmV3UHJvbXB0SWNvblJvdGF0aW9uKCk7XG5cbiAgICAgIHBvc3RNb2RhbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjbG9zZU1vZGFsQnRuICYmIHBvc3RNb2RhbCkge1xuICAgIGNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHBvc3RNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgIHRyaWdnZXJOZXdQcm9tcHRJY29uUm90YXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwb3N0TW9kYWwgJiYgcG9zdE1vZGFsLmRhdGFzZXQucHNXaW5kb3dMaXN0ZW5lciAhPT0gXCJ0cnVlXCIpIHtcbiAgICBwb3N0TW9kYWwuZGF0YXNldC5wc1dpbmRvd0xpc3RlbmVyID0gXCJ0cnVlXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHBvc3RNb2RhbCkge1xuICAgICAgICBwb3N0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgICAgIHRyaWdnZXJOZXdQcm9tcHRJY29uUm90YXRpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDjg5bjg4Pjgq/jg57jg7zjgq/mqZ/og73vvIjjgZnjgafjgavlrZjlnKjjgZnjgovjgqvjg7zjg4njgavlr77jgZfjgabjgoLnmbvpjLLvvIlcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbnN0IHByb21wdENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIucHJvbXB0LWNhcmRcIik7XG4gIHByb21wdENhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICBjb25zdCBtZXRhID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1tZXRhXCIpO1xuICAgIGlmICghbWV0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghbWV0YS5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1tZXRhLWluZm9cIikpIHtcbiAgICAgIGNvbnN0IHNwYW5zID0gQXJyYXkuZnJvbShtZXRhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpKTtcbiAgICAgIGNvbnN0IG1ldGFJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG1ldGFJbmZvLmNsYXNzTGlzdC5hZGQoXCJwcm9tcHQtbWV0YS1pbmZvXCIpO1xuICAgICAgc3BhbnMuZm9yRWFjaCgoc3BhbikgPT4gbWV0YUluZm8uYXBwZW5kQ2hpbGQoc3BhbikpO1xuICAgICAgbWV0YS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgbWV0YS5hcHBlbmRDaGlsZChtZXRhSW5mbyk7XG4gICAgfVxuXG4gICAgbGV0IGJvb2ttYXJrQnRuID0gbWV0YS5xdWVyeVNlbGVjdG9yKFwiLmJvb2ttYXJrLWJ0blwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKCFib29rbWFya0J0bikge1xuICAgICAgYm9va21hcmtCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYm9va21hcmtCdG4uY2xhc3NMaXN0LmFkZChcImJvb2ttYXJrLWJ0blwiKTtcbiAgICAgIGJvb2ttYXJrQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICBib29rbWFya0J0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwi44OW44OD44Kv44Oe44O844KvXCIpO1xuICAgICAgYm9va21hcmtCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiYmkgYmktYm9va21hcmtcIj48L2k+YDtcbiAgICAgIG1ldGEuYXBwZW5kQ2hpbGQoYm9va21hcmtCdG4pO1xuICAgIH1cblxuICAgIGlmIChib29rbWFya0J0bi5kYXRhc2V0LmJvdW5kID09PSBcInRydWVcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJvb2ttYXJrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmICghaXNMb2dnZWRJbikge1xuICAgICAgICBhbGVydChcIuODluODg+OCr+ODnuODvOOCr+OBmeOCi+OBq+OBr+ODreOCsOOCpOODs+OBjOW/heimgeOBp+OBmeOAglwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYm9va21hcmtCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImJvb2ttYXJrZWRcIik7XG4gICAgICBib29rbWFya0J0bi5pbm5lckhUTUwgPSBib29rbWFya0J0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJib29rbWFya2VkXCIpXG4gICAgICAgID8gYDxpIGNsYXNzPVwiYmkgYmktYm9va21hcmstZmlsbFwiPjwvaT5gXG4gICAgICAgIDogYDxpIGNsYXNzPVwiYmkgYmktYm9va21hcmtcIj48L2k+YDtcbiAgICB9KTtcbiAgICBib29rbWFya0J0bi5kYXRhc2V0LmJvdW5kID0gXCJ0cnVlXCI7XG4gIH0pO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDjgqzjg7zjg4njg6zjg7zjg6vjga7ooajnpLrliIfmm7/lh6bnkIZcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbnN0IGd1YXJkcmFpbENoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZHJhaWwtY2hlY2tib3hcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gIGNvbnN0IGd1YXJkcmFpbEZpZWxkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3VhcmRyYWlsLWZpZWxkc1wiKTtcblxuICBpZiAoZ3VhcmRyYWlsQ2hlY2tib3ggJiYgZ3VhcmRyYWlsRmllbGRzKSB7XG4gICAgZ3VhcmRyYWlsQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBndWFyZHJhaWxGaWVsZHMuc3R5bGUuZGlzcGxheSA9IGd1YXJkcmFpbENoZWNrYm94LmNoZWNrZWQgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDjg5fjg63jg7Pjg5fjg4joqbPntLDjg6Ljg7zjg4Djg6vmqZ/og71cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGZ1bmN0aW9uIHNob3dQcm9tcHREZXRhaWxNb2RhbChwcm9tcHQ6IFByb21wdERhdGEpIHtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvbXB0RGV0YWlsTW9kYWxcIik7XG4gICAgY29uc3QgbW9kYWxUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxQcm9tcHRUaXRsZVwiKTtcbiAgICBjb25zdCBtb2RhbENhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbFByb21wdENhdGVnb3J5XCIpO1xuICAgIGNvbnN0IG1vZGFsQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxQcm9tcHRDb250ZW50XCIpO1xuICAgIGNvbnN0IG1vZGFsQXV0aG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbFByb21wdEF1dGhvclwiKTtcbiAgICBjb25zdCBtb2RhbElucHV0RXhhbXBsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsSW5wdXRFeGFtcGxlc1wiKTtcbiAgICBjb25zdCBtb2RhbE91dHB1dEV4YW1wbGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbE91dHB1dEV4YW1wbGVzXCIpO1xuICAgIGNvbnN0IG1vZGFsSW5wdXRFeGFtcGxlc0dyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbElucHV0RXhhbXBsZXNHcm91cFwiKTtcbiAgICBjb25zdCBtb2RhbE91dHB1dEV4YW1wbGVzR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsT3V0cHV0RXhhbXBsZXNHcm91cFwiKTtcblxuICAgIGlmICghbW9kYWwgfHwgIW1vZGFsVGl0bGUgfHwgIW1vZGFsQ2F0ZWdvcnkgfHwgIW1vZGFsQ29udGVudCB8fCAhbW9kYWxBdXRob3IpIHJldHVybjtcblxuICAgIC8vIOODouODvOODgOODq+OBq+ODh+ODvOOCv+OCkuioreWumlxuICAgIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSBwcm9tcHQudGl0bGU7XG4gICAgbW9kYWxDYXRlZ29yeS50ZXh0Q29udGVudCA9IHByb21wdC5jYXRlZ29yeSB8fCBcIlwiO1xuICAgIG1vZGFsQ29udGVudC50ZXh0Q29udGVudCA9IHByb21wdC5jb250ZW50O1xuICAgIG1vZGFsQXV0aG9yLnRleHRDb250ZW50ID0gcHJvbXB0LmF1dGhvciB8fCBcIlwiO1xuXG4gICAgLy8g5YWl5Yqb5L6L44O75Ye65Yqb5L6L44GM44GC44KL5aC05ZCI44Gu44G/6KGo56S6XG4gICAgaWYgKHByb21wdC5pbnB1dF9leGFtcGxlcyAmJiBtb2RhbElucHV0RXhhbXBsZXMgJiYgbW9kYWxJbnB1dEV4YW1wbGVzR3JvdXApIHtcbiAgICAgIG1vZGFsSW5wdXRFeGFtcGxlcy50ZXh0Q29udGVudCA9IHByb21wdC5pbnB1dF9leGFtcGxlcztcbiAgICAgIG1vZGFsSW5wdXRFeGFtcGxlc0dyb3VwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSBlbHNlIGlmIChtb2RhbElucHV0RXhhbXBsZXNHcm91cCkge1xuICAgICAgbW9kYWxJbnB1dEV4YW1wbGVzR3JvdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIGlmIChwcm9tcHQub3V0cHV0X2V4YW1wbGVzICYmIG1vZGFsT3V0cHV0RXhhbXBsZXMgJiYgbW9kYWxPdXRwdXRFeGFtcGxlc0dyb3VwKSB7XG4gICAgICBtb2RhbE91dHB1dEV4YW1wbGVzLnRleHRDb250ZW50ID0gcHJvbXB0Lm91dHB1dF9leGFtcGxlcztcbiAgICAgIG1vZGFsT3V0cHV0RXhhbXBsZXNHcm91cC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSBpZiAobW9kYWxPdXRwdXRFeGFtcGxlc0dyb3VwKSB7XG4gICAgICBtb2RhbE91dHB1dEV4YW1wbGVzR3JvdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIC8vIOODouODvOODgOODq+OCkuihqOekulxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICB9XG5cbiAgLy8g44Oi44O844OA44Or44KS6ZaJ44GY44KL5qmf6IO9XG4gIGNvbnN0IHByb21wdERldGFpbE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHREZXRhaWxNb2RhbFwiKTtcbiAgY29uc3QgY2xvc2VQcm9tcHREZXRhaWxNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VQcm9tcHREZXRhaWxNb2RhbFwiKTtcblxuICAvLyDplonjgZjjgovjg5zjgr/jg7Pjgafjg6Ljg7zjg4Djg6vjgpLplonjgZjjgotcbiAgaWYgKGNsb3NlUHJvbXB0RGV0YWlsTW9kYWxCdG4gJiYgcHJvbXB0RGV0YWlsTW9kYWwpIHtcbiAgICBjbG9zZVByb21wdERldGFpbE1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9tcHREZXRhaWxNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOODouODvOODgOODq+iDjOaZr+OCr+ODquODg+OCr+OBp+mWieOBmOOCi1xuICBpZiAocHJvbXB0RGV0YWlsTW9kYWwpIHtcbiAgICBwcm9tcHREZXRhaWxNb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gcHJvbXB0RGV0YWlsTW9kYWwpIHtcbiAgICAgICAgcHJvbXB0RGV0YWlsTW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IGluaXRQcm9tcHRTaGFyZVBhZ2UoKSk7XG59IGVsc2Uge1xuICBpbml0UHJvbXB0U2hhcmVQYWdlKCk7XG59XG5cbmV4cG9ydCB7fTtcbiJdLCJuYW1lcyI6WyJpbml0UHJvbXB0U2hhcmVQYWdlIiwiYXR0ZW1wdCIsInByb21wdENvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRhdGFzZXQiLCJwc0luaXRpYWxpemVkIiwidXNlckljb24iLCJnZXRFbGVtZW50QnlJZCIsImF1dGhCdXR0b25zIiwiaXNMb2dnZWRJbiIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsImxvZ2dlZF9pbiIsImRhdGEiLCJCb29sZWFuIiwic3R5bGUiLCJkaXNwbGF5IiwibG9naW5CdG4iLCJvbmNsaWNrIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJjbG9zZUFsbERyb3Bkb3ducyIsImV4Y2VwdENhcmQiLCJvcGVuTWVudXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIm1lbnUiLCJjb250YWlucyIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRyaWdnZXIiLCJwYXJlbnRFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwicGFyZW50Q2FyZCIsImNsb3Nlc3QiLCJib2R5IiwicHNEcm9wZG93bkxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlRJVExFX0NIQVJfTElNSVQiLCJDT05URU5UX0NIQVJfTElNSVQiLCJ0cnVuY2F0ZVRleHQiLCJ0ZXh0IiwibGltaXQiLCJzYWZlVGV4dCIsImNoYXJzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwic2xpY2UiLCJqb2luIiwidHJ1bmNhdGVUaXRsZSIsInRpdGxlIiwidHJ1bmNhdGVDb250ZW50IiwiY29udGVudCIsInVwZGF0ZUJvb2ttYXJrQnV0dG9uU3RhdGUiLCJidXR0b24iLCJpc0Jvb2ttYXJrZWQiLCJ0b2dnbGUiLCJpbm5lckhUTUwiLCJzZW5kQm9va21hcmtSZXF1ZXN0IiwibWV0aG9kIiwicGF5bG9hZCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNwb25zZSIsIkVycm9yIiwic2F2ZVByb21wdEJvb2ttYXJrIiwicHJvbXB0IiwiaW5wdXRfZXhhbXBsZXMiLCJvdXRwdXRfZXhhbXBsZXMiLCJyZW1vdmVQcm9tcHRCb29rbWFyayIsInNhdmVQcm9tcHRUb0xpc3QiLCJwcm9tcHRfaWQiLCJpZCIsImNhdGVnb3J5IiwiY3JlYXRlUHJvbXB0Q2FyZEVsZW1lbnQiLCJjYXJkIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImJvb2ttYXJrZWQiLCJpc1NhdmVkVG9MaXN0Iiwic2F2ZWRfdG9fbGlzdCIsImJvb2ttYXJrSWNvbiIsInRydW5jYXRlZENvbnRlbnQiLCJhdXRob3IiLCJmdWxsVGl0bGUiLCJmdWxsQ29udGVudCIsInNhdmVkVG9MaXN0IiwicHNCb3VuZCIsImJvb2ttYXJrQnRuIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImFsZXJ0Iiwic2hvdWxkQm9va21hcmsiLCJkaXNhYmxlZCIsInJlcXVlc3QiLCJyZXN1bHQiLCJtZXNzYWdlIiwibG9nIiwiZmluYWxseSIsImJvdW5kIiwiY29tbWVudEJ0biIsImxpa2VCdG4iLCJpY29uIiwibWVhdGJhbGxCdG4iLCJkcm9wZG93bk1lbnUiLCJ3aWxsT3BlbiIsImV2ZW50IiwiaXRlbSIsInNhdmVNZW51SXRlbSIsInRhcmdldCIsInNob3dQcm9tcHREZXRhaWxNb2RhbCIsImxvYWRQcm9tcHRzIiwic3RhdHVzIiwicHJvbXB0cyIsImFwcGVuZENoaWxkIiwic2V0dXBTdGF0aWNDYXJkRXZlbnRzIiwic3RhdGljQ2FyZHMiLCJ0aXRsZUVsZW0iLCJ0ZXh0Q29udGVudCIsImNvbnRlbnRFbGVtIiwibWV0YSIsInNwYW5zIiwibWV0YUluZm8iLCJzcGFuIiwiYXV0aG9yU3BhbiIsImdldEF0dHJpYnV0ZSIsInJlcGxhY2UiLCJtb2NrUHJvbXB0Iiwic2VhcmNoSW5wdXQiLCJzZWFyY2hCdXR0b24iLCJwcm9tcHRDYXJkc1NlY3Rpb24iLCJzZWxlY3RlZENhdGVnb3J5VGl0bGUiLCJzZWFyY2hQcm9tcHRzU2VydmVyIiwicXVlcnkiLCJ2YWx1ZSIsInRyaW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImNhdGVnb3J5Q2FyZHMiLCJhcHBseUNhdGVnb3J5RmlsdGVyIiwiYyIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJwcm9tcHRDYXJkcyIsInByb21wdENhdGVnb3J5IiwicG9zdEZvcm0iLCJ0aXRsZUlucHV0IiwiY2F0ZWdvcnlJbnB1dCIsImNvbnRlbnRJbnB1dCIsImF1dGhvcklucHV0IiwiZ3VhcmRyYWlsQ2hlY2tib3giLCJ1c2VHdWFyZHJhaWwiLCJjaGVja2VkIiwiaW5wdXRFeGFtcGxlIiwib3V0cHV0RXhhbXBsZSIsImlzUHVibGljIiwicG9zdERhdGEiLCJpc19wdWJsaWMiLCJyZXNldCIsImd1YXJkcmFpbEZpZWxkcyIsInBvc3RNb2RhbCIsInRyaWdnZXJOZXdQcm9tcHRJY29uUm90YXRpb24iLCJvcGVuTW9kYWxCdG4iLCJjbG9zZU1vZGFsQnRuIiwibmV3UHJvbXB0SWNvbiIsIm9mZnNldFdpZHRoIiwicHNXaW5kb3dMaXN0ZW5lciIsIm1vZGFsIiwibW9kYWxUaXRsZSIsIm1vZGFsQ2F0ZWdvcnkiLCJtb2RhbENvbnRlbnQiLCJtb2RhbEF1dGhvciIsIm1vZGFsSW5wdXRFeGFtcGxlcyIsIm1vZGFsT3V0cHV0RXhhbXBsZXMiLCJtb2RhbElucHV0RXhhbXBsZXNHcm91cCIsIm1vZGFsT3V0cHV0RXhhbXBsZXNHcm91cCIsInByb21wdERldGFpbE1vZGFsIiwiY2xvc2VQcm9tcHREZXRhaWxNb2RhbEJ0biIsInJlYWR5U3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/prompt_share/prompt_share.ts\n"));

/***/ })

}]);