"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "scripts_entries_prompt_share_ts";
exports.ids = ["scripts_entries_prompt_share_ts"];
exports.modules = {

/***/ "./scripts/components/popup_menu.ts":
/*!******************************************!*\
  !*** ./scripts/components/popup_menu.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// components/popup_menu.ts\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = `\n  <style>\n    /* ============\n       Reset / Base\n       ============ */\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n\n    /* ============\n       Hidden Checkbox\n       ============ */\n    input[type=\"checkbox\"] {\n      display: none;\n    }\n\n    /* ============\n       Common Button Styles\n       ============ */\n    .btn {\n      border: none;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n      cursor: pointer;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: transform 0.3s ease, box-shadow 0.3s ease;\n      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);\n      position: relative;\n    }\n    .btn:hover {\n      transform: scale(1.1);\n      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);\n    }\n    .btn svg {\n      width: 24px;\n      height: 24px;\n      fill: #fff;\n      transition: transform 0.3s ease;\n    }\n\n    /* ============\n       Action Menu Wrapper\n       ============ */\n    .actions-menu {\n      position: fixed;\n      bottom: 40px;\n      right: 40px;\n      width: 60px;\n      height: 60px;\n      animation: popIn 0.6s ease;\n      z-index: 9999;\n    }\n\n    :host([data-context=\"chat\"]) .actions-menu {\n      display: none;\n    }\n\n    :host([data-context=\"non-chat\"]) .actions-menu {\n      bottom: 40px; /* Align with floating prompt button on desktop */\n    }\n\n    @keyframes popIn {\n      0% {\n        transform: scale(0.5) rotate(0deg);\n        opacity: 0;\n      }\n      80% {\n        transform: scale(1.05) rotate(360deg);\n        opacity: 1;\n      }\n      100% {\n        transform: scale(1) rotate(360deg);\n        opacity: 1;\n      }\n    }\n\n    /* ============\n       Menu Button (Large)\n       ============ */\n    .btn--menu {\n      width: 60px;\n      height: 60px;\n      background: linear-gradient(135deg, #56ab2f, #a8e063);\n      z-index: 1;\n    }\n    .btn--menu:after,\n    .btn--menu:before,\n    .btn--menu span {\n      content: \"\";\n      position: absolute;\n      width: 25px;\n      height: 3px;\n      background: #fff;\n      transition: transform 0.2s ease;\n    }\n    .btn--menu span {\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n    .btn--menu:after {\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, calc(-50% - 8px));\n    }\n    .btn--menu:before {\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, calc(-50% + 8px));\n    }\n\n    /* ============\n       Action Buttons\n       ============ */\n    .btn--share {\n      background: linear-gradient(135deg, #3498db, #2980b9);\n    }\n    .btn--star {\n      background: linear-gradient(135deg, #2ecc71, #27ae60);\n    }\n    .btn--comment {\n      background: linear-gradient(135deg, #f1c40f, #f39c12);\n    }\n\n    /* ============\n       ãƒœã‚¿ãƒ³ã®é…ç½®\n       ============ */\n    .actions-menu .btn {\n      position: absolute;\n      top: 8px;\n      left: 8px;\n      opacity: 0;\n      transform: scale(0) rotate(0deg);\n    }\n    .actions-menu .btn--menu {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 60px;\n      height: 60px;\n      opacity: 1;\n      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);\n      transform: none;\n    }\n\n    /* ============\n       ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ãŸã‚‰å„ã‚¢ã‚¤ã‚³ãƒ³ãŒå±•é–‹\n       ============ */\n    #actionMenuButton:checked + .actions-menu > .btn {\n      opacity: 1;\n      transform: scale(1) rotate(360deg);\n      transition: all 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);\n    }\n\n    /* å±•é–‹ä½ç½® */\n    #actionMenuButton:checked + .actions-menu > .btn--share {\n      top: -80px;\n      left: 0px;\n    }\n    #actionMenuButton:checked + .actions-menu > .btn--star {\n      top: -60px;\n      left: -60px;\n    }\n    #actionMenuButton:checked + .actions-menu > .btn--comment {\n      top: 0px;\n      left: -80px;\n    }\n\n    /* ============\n       ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼å¤‰å½¢\n       ============ */\n    #actionMenuButton:checked + .actions-menu .btn--menu:after {\n      transform: translate(-50%, -50%) rotate(45deg);\n    }\n    #actionMenuButton:checked + .actions-menu .btn--menu:before {\n      transform: translate(-50%, -50%) rotate(-45deg);\n    }\n    #actionMenuButton:checked + .actions-menu .btn--menu span {\n      transform: translate(-50%, -50%) scale(0);\n    }\n\n    /* ============\n       ãƒ›ãƒãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\n       ============ */\n    .btn--share:hover svg { transform: rotate(-20deg) scale(1.2); }\n    .btn--star:hover svg  { transform: rotate(20deg)  scale(1.2); }\n    .btn--comment:hover svg { transform: rotate(-20deg) scale(1.2); }\n  \n  \n  /* ã‚¹ãƒãƒ›è¡¨ç¤ºæ™‚ã®èª¿æ•´ï¼ˆç”»é¢å¹…768pxä»¥ä¸‹ï¼‰ - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜ã‚µã‚¤ã‚ºã« */\n    @media (max-width: 768px) {\n      /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼å…¨ä½“ã®ä½ç½®ã¨ã‚µã‚¤ã‚º */\n      .actions-menu {\n        right: 20px;    /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã®ä½ç½®ã«åˆã‚ã›ã¦èª¿æ•´ */\n        width: 56px;    /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜ã‚µã‚¤ã‚ºã« */\n        height: 56px;   /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜ã‚µã‚¤ã‚ºã« */\n      }\n\n      :host([data-context=\"chat\"]) .actions-menu {\n        bottom: 100px;  /* ãƒãƒ£ãƒƒãƒˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ååˆ†é›¢ã—ã¦é…ç½® */\n      }\n\n      :host([data-context=\"non-chat\"]) .actions-menu {\n        bottom: 20px;   /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜é«˜ã•ã«é…ç½® */\n      }\n      /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨å®Œå…¨ã«åŒã˜ã‚µã‚¤ã‚ºã« */\n      .actions-menu .btn--menu {\n        width: 56px !important;\n        height: 56px !important;\n      }\n      /* ä»–ã®ãƒœã‚¿ãƒ³ã®ã‚µã‚¤ã‚º */\n      .actions-menu .btn:not(.btn--menu) {\n        width: 45px;\n        height: 45px;\n      }\n      /* ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºèª¿æ•´ */\n      .btn svg {\n        width: 20px;\n        height: 20px;\n      }\n      \n    }\n\n    /* éå¸¸ã«å°ã•ãªç”»é¢ã§ã®èª¿æ•´ï¼ˆç”»é¢å¹…480pxä»¥ä¸‹ï¼‰ - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨å®Œå…¨ã«åŒã˜ã‚µã‚¤ã‚ºã« */\n    @media (max-width: 480px) {\n      /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼å…¨ä½“ã®ã‚µã‚¤ã‚ºã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã«å®Œå…¨ã«åˆã‚ã›ã¦èª¿æ•´ */\n      .actions-menu {\n        bottom: 90px;   /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ååˆ†é›¢ã—ã¦é…ç½® */\n        right: 15px;    /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã®ä½ç½®ã«åˆã‚ã›ã¦èª¿æ•´ */\n        width: 50px;    /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜ã‚µã‚¤ã‚ºã« */\n        height: 50px;   /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜ã‚µã‚¤ã‚ºã« */\n      }\n      /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨å®Œå…¨ã«åŒã˜ã‚µã‚¤ã‚ºã« */\n      .actions-menu .btn--menu {\n        width: 50px !important;\n        height: 50px !important;\n      }\n      /* ä»–ã®ãƒœã‚¿ãƒ³ã®ã‚µã‚¤ã‚ºã‚’ã‚ˆã‚Šå°ã•ã */\n      .actions-menu .btn:not(.btn--menu) {\n        width: 40px;\n        height: 40px;\n      }\n      /* ã‚¢ã‚¤ã‚³ãƒ³ã‚‚ã•ã‚‰ã«ç¸®å° */\n      .btn svg {\n        width: 18px;\n        height: 18px;\n      }\n\n      :host([data-context=\"chat\"]) .actions-menu {\n        bottom: 90px;   /* ãƒãƒ£ãƒƒãƒˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ååˆ†é›¢ã—ã¦é…ç½® */\n      }\n\n      :host([data-context=\"non-chat\"]) .actions-menu {\n        bottom: 15px;   /* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ãƒœã‚¿ãƒ³ã¨åŒã˜é«˜ã•ã«é…ç½® */\n      }\n\n    }\n\n    </style>\n\n  <!-- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰ç”¨ï¼‰ -->\n  <input type=\"checkbox\" id=\"actionMenuButton\" />\n\n  <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼æœ¬ä½“ -->\n  <div class=\"actions-menu\">\n    <button class=\"btn btn--share\" onclick=\"location.href='/prompt_share'\" title=\"ã‚·ã‚§ã‚¢\">\n      <svg viewBox=\"0 0 24 24\">\n        <path d=\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.048 3.048 0 0 0 0-1.39l7.13-4.17A3 3 0 1 0 14 5a3 3 0 0 0 .05.52l-7.14 4.18a3 3 0 1 0 0 4.6l7.14 4.18c-.03.17-.05.34-.05.52a3 3 0 1 0 3-2.92Z\" />\n      </svg>\n    </button>\n    <button class=\"btn btn--star\" onclick=\"location.href='/'\" title=\"ã‚¹ã‚¿ãƒ¼\">\n      <svg viewBox=\"0 0 24 24\">\n        <path d=\"M12,17.27L18.18,21L16.54,13.97 L22,9.24L14.81,8.62L12,2 L9.19,8.62L2,9.24L7.45,13.97 L5.82,21L12,17.27Z\" />\n      </svg>\n    </button>\n    <button class=\"btn btn--comment\" onclick=\"location.href='/memo'\" title=\"ãƒ¡ãƒ¢\">\n      <svg viewBox=\"0 0 24 24\">\n        <path d=\"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9l7-7V5a2 2 0 0 0-2-2Zm-5 14v-5h5l-5 5Z\" />\n      </svg>\n    </button>\n    <label for=\"actionMenuButton\" class=\"btn btn--menu\"><span></span></label>\n  </div>\n`;\nclass ActionMenu extends HTMLElement {\n    constructor(){\n        super();\n        const shadow = this.attachShadow({\n            mode: \"open\"\n        });\n        shadow.appendChild(template.content.cloneNode(true));\n        this.toggle = shadow.querySelector(\"#actionMenuButton\");\n        //  ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤–ã‚¯ãƒªãƒƒã‚¯ã§è‡ªå‹•ã‚¯ãƒ­ãƒ¼ã‚º\n        if (this.toggle) {\n            document.addEventListener(\"click\", (e)=>{\n                // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒé–‹ã„ã¦ã„ã¦ï¼Œã‚¯ãƒªãƒƒã‚¯å…ˆãŒã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤–ãªã‚‰é–‰ã˜ã‚‹\n                if (this.toggle?.checked && !e.composedPath().includes(this)) {\n                    this.toggle.checked = false;\n                }\n            });\n        }\n        // ãƒãƒ£ãƒƒãƒˆç”»é¢ã‹ã©ã†ã‹ã‚’æ¤œå‡ºã—ã¦é©åˆ‡ãªã‚µã‚¤ã‚ºã‚’é©ç”¨\n        this.updateMenuSize();\n        // ç”»é¢ã®å¤‰åŒ–ã‚’ç›£è¦–\n        this.observeScreenChanges();\n    }\n    updateMenuSize() {\n        const chatContainer = document.getElementById(\"chat-container\");\n        const isInChatMode = Boolean(chatContainer && chatContainer.style.display === \"flex\");\n        // CSSã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­å®š\n        if (isInChatMode) {\n            this.setAttribute(\"data-context\", \"chat\");\n        } else {\n            this.setAttribute(\"data-context\", \"non-chat\");\n        }\n    }\n    observeScreenChanges() {\n        const chatContainer = document.getElementById(\"chat-container\");\n        if (chatContainer) {\n            // MutationObserverã§chat-containerã®styleå¤‰åŒ–ã‚’ç›£è¦–\n            const observer = new MutationObserver(()=>{\n                this.updateMenuSize();\n            });\n            observer.observe(chatContainer, {\n                attributes: true,\n                attributeFilter: [\n                    \"style\"\n                ]\n            });\n        }\n        // å®šæœŸçš„ã«ã‚‚ãƒã‚§ãƒƒã‚¯ï¼ˆå¿µã®ãŸã‚ï¼‰\n        setInterval(()=>{\n            this.updateMenuSize();\n        }, 1000);\n    }\n}\nif (!customElements.get(\"action-menu\")) {\n    customElements.define(\"action-menu\", ActionMenu);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2NvbXBvbmVudHMvcG9wdXBfbWVudS50cyIsIm1hcHBpbmdzIjoiO0FBQUEsMkJBQTJCO0FBQzNCLE1BQU1BLFdBQVdDLFNBQVNDLGFBQWEsQ0FBQztBQUN4Q0YsU0FBU0csU0FBUyxHQUFHLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBK1J0QixDQUFDO0FBRUQsTUFBTUMsbUJBQW1CQztJQUd2QkMsYUFBYztRQUNaLEtBQUs7UUFDTCxNQUFNQyxTQUFTLElBQUksQ0FBQ0MsWUFBWSxDQUFDO1lBQUVDLE1BQU07UUFBTztRQUNoREYsT0FBT0csV0FBVyxDQUFDVixTQUFTVyxPQUFPLENBQUNDLFNBQVMsQ0FBQztRQUU5QyxJQUFJLENBQUNDLE1BQU0sR0FBR04sT0FBT08sYUFBYSxDQUFDO1FBRW5DLG9CQUFvQjtRQUNwQixJQUFJLElBQUksQ0FBQ0QsTUFBTSxFQUFFO1lBQ2ZaLFNBQVNjLGdCQUFnQixDQUFDLFNBQVMsQ0FBQ0M7Z0JBQ2xDLG1DQUFtQztnQkFDbkMsSUFBSSxJQUFJLENBQUNILE1BQU0sRUFBRUksV0FBVyxDQUFDRCxFQUFFRSxZQUFZLEdBQUdDLFFBQVEsQ0FBQyxJQUFJLEdBQUc7b0JBQzVELElBQUksQ0FBQ04sTUFBTSxDQUFDSSxPQUFPLEdBQUc7Z0JBQ3hCO1lBQ0Y7UUFDRjtRQUVBLDJCQUEyQjtRQUMzQixJQUFJLENBQUNHLGNBQWM7UUFDbkIsV0FBVztRQUNYLElBQUksQ0FBQ0Msb0JBQW9CO0lBQzNCO0lBRUFELGlCQUFpQjtRQUNmLE1BQU1FLGdCQUFnQnJCLFNBQVNzQixjQUFjLENBQUM7UUFDOUMsTUFBTUMsZUFBZUMsUUFBUUgsaUJBQWlCLGNBQStCSSxLQUFLLENBQUNDLE9BQU8sS0FBSztRQUUvRix5QkFBeUI7UUFDekIsSUFBSUgsY0FBYztZQUNoQixJQUFJLENBQUNJLFlBQVksQ0FBQyxnQkFBZ0I7UUFDcEMsT0FBTztZQUNMLElBQUksQ0FBQ0EsWUFBWSxDQUFDLGdCQUFnQjtRQUNwQztJQUNGO0lBRUFQLHVCQUF1QjtRQUNyQixNQUFNQyxnQkFBZ0JyQixTQUFTc0IsY0FBYyxDQUFDO1FBQzlDLElBQUlELGVBQWU7WUFDakIsNkNBQTZDO1lBQzdDLE1BQU1PLFdBQVcsSUFBSUMsaUJBQWlCO2dCQUNwQyxJQUFJLENBQUNWLGNBQWM7WUFDckI7WUFDQVMsU0FBU0UsT0FBTyxDQUFDVCxlQUFlO2dCQUM5QlUsWUFBWTtnQkFDWkMsaUJBQWlCO29CQUFDO2lCQUFRO1lBQzVCO1FBQ0Y7UUFFQSxrQkFBa0I7UUFDbEJDLFlBQVk7WUFDVixJQUFJLENBQUNkLGNBQWM7UUFDckIsR0FBRztJQUNMO0FBQ0Y7QUFFQSxJQUFJLENBQUNlLGVBQWVDLEdBQUcsQ0FBQyxnQkFBZ0I7SUFDdENELGVBQWVFLE1BQU0sQ0FBQyxlQUFlakM7QUFDdkM7QUFFVSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0cmlrZS1mcm9udGVuZC8uL3NjcmlwdHMvY29tcG9uZW50cy9wb3B1cF9tZW51LnRzPzE1YjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29tcG9uZW50cy9wb3B1cF9tZW51LnRzXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIFJlc2V0IC8gQmFzZVxuICAgICAgID09PT09PT09PT09PSAqL1xuICAgICoge1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAgSGlkZGVuIENoZWNrYm94XG4gICAgICAgPT09PT09PT09PT09ICovXG4gICAgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAgQ29tbW9uIEJ1dHRvbiBTdHlsZXNcbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICAuYnRuIHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2UsIGJveC1zaGFkb3cgMC4zcyBlYXNlO1xuICAgICAgYm94LXNoYWRvdzogMCA1cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAuYnRuOmhvdmVyIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbiAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgIH1cbiAgICAuYnRuIHN2ZyB7XG4gICAgICB3aWR0aDogMjRweDtcbiAgICAgIGhlaWdodDogMjRweDtcbiAgICAgIGZpbGw6ICNmZmY7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIEFjdGlvbiBNZW51IFdyYXBwZXJcbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICAuYWN0aW9ucy1tZW51IHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIGJvdHRvbTogNDBweDtcbiAgICAgIHJpZ2h0OiA0MHB4O1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICBhbmltYXRpb246IHBvcEluIDAuNnMgZWFzZTtcbiAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgfVxuXG4gICAgOmhvc3QoW2RhdGEtY29udGV4dD1cImNoYXRcIl0pIC5hY3Rpb25zLW1lbnUge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICA6aG9zdChbZGF0YS1jb250ZXh0PVwibm9uLWNoYXRcIl0pIC5hY3Rpb25zLW1lbnUge1xuICAgICAgYm90dG9tOiA0MHB4OyAvKiBBbGlnbiB3aXRoIGZsb2F0aW5nIHByb21wdCBidXR0b24gb24gZGVza3RvcCAqL1xuICAgIH1cblxuICAgIEBrZXlmcmFtZXMgcG9wSW4ge1xuICAgICAgMCUge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuNSkgcm90YXRlKDBkZWcpO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuICAgICAgODAlIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KSByb3RhdGUoMzYwZGVnKTtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgIH1cbiAgICAgIDEwMCUge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgzNjBkZWcpO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIE1lbnUgQnV0dG9uIChMYXJnZSlcbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICAuYnRuLS1tZW51IHtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzU2YWIyZiwgI2E4ZTA2Myk7XG4gICAgICB6LWluZGV4OiAxO1xuICAgIH1cbiAgICAuYnRuLS1tZW51OmFmdGVyLFxuICAgIC5idG4tLW1lbnU6YmVmb3JlLFxuICAgIC5idG4tLW1lbnUgc3BhbiB7XG4gICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6IDI1cHg7XG4gICAgICBoZWlnaHQ6IDNweDtcbiAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlO1xuICAgIH1cbiAgICAuYnRuLS1tZW51IHNwYW4ge1xuICAgICAgdG9wOiA1MCU7XG4gICAgICBsZWZ0OiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICB9XG4gICAgLmJ0bi0tbWVudTphZnRlciB7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIGNhbGMoLTUwJSAtIDhweCkpO1xuICAgIH1cbiAgICAuYnRuLS1tZW51OmJlZm9yZSB7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIGNhbGMoLTUwJSArIDhweCkpO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIEFjdGlvbiBCdXR0b25zXG4gICAgICAgPT09PT09PT09PT09ICovXG4gICAgLmJ0bi0tc2hhcmUge1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzM0OThkYiwgIzI5ODBiOSk7XG4gICAgfVxuICAgIC5idG4tLXN0YXIge1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzJlY2M3MSwgIzI3YWU2MCk7XG4gICAgfVxuICAgIC5idG4tLWNvbW1lbnQge1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2YxYzQwZiwgI2YzOWMxMik7XG4gICAgfVxuXG4gICAgLyogPT09PT09PT09PT09XG4gICAgICAg44Oc44K/44Oz44Gu6YWN572uXG4gICAgICAgPT09PT09PT09PT09ICovXG4gICAgLmFjdGlvbnMtbWVudSAuYnRuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogOHB4O1xuICAgICAgbGVmdDogOHB4O1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCkgcm90YXRlKDBkZWcpO1xuICAgIH1cbiAgICAuYWN0aW9ucy1tZW51IC5idG4tLW1lbnUge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICAgICAgdHJhbnNmb3JtOiBub25lO1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIOODgeOCp+ODg+OCr+OBjOWFpeOBo+OBn+OCieWQhOOCouOCpOOCs+ODs+OBjOWxlemWi1xuICAgICAgID09PT09PT09PT09PSAqL1xuICAgICNhY3Rpb25NZW51QnV0dG9uOmNoZWNrZWQgKyAuYWN0aW9ucy1tZW51ID4gLmJ0biB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoMzYwZGVnKTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjZzIGN1YmljLWJlemllcigwLjY0NSwgMC4wNDUsIDAuMzU1LCAxKTtcbiAgICB9XG5cbiAgICAvKiDlsZXplovkvY3nva4gKi9cbiAgICAjYWN0aW9uTWVudUJ1dHRvbjpjaGVja2VkICsgLmFjdGlvbnMtbWVudSA+IC5idG4tLXNoYXJlIHtcbiAgICAgIHRvcDogLTgwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgfVxuICAgICNhY3Rpb25NZW51QnV0dG9uOmNoZWNrZWQgKyAuYWN0aW9ucy1tZW51ID4gLmJ0bi0tc3RhciB7XG4gICAgICB0b3A6IC02MHB4O1xuICAgICAgbGVmdDogLTYwcHg7XG4gICAgfVxuICAgICNhY3Rpb25NZW51QnV0dG9uOmNoZWNrZWQgKyAuYWN0aW9ucy1tZW51ID4gLmJ0bi0tY29tbWVudCB7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIGxlZnQ6IC04MHB4O1xuICAgIH1cblxuICAgIC8qID09PT09PT09PT09PVxuICAgICAgIOODj+ODs+ODkOODvOOCrOODvOWkieW9olxuICAgICAgID09PT09PT09PT09PSAqL1xuICAgICNhY3Rpb25NZW51QnV0dG9uOmNoZWNrZWQgKyAuYWN0aW9ucy1tZW51IC5idG4tLW1lbnU6YWZ0ZXIge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKDQ1ZGVnKTtcbiAgICB9XG4gICAgI2FjdGlvbk1lbnVCdXR0b246Y2hlY2tlZCArIC5hY3Rpb25zLW1lbnUgLmJ0bi0tbWVudTpiZWZvcmUge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKC00NWRlZyk7XG4gICAgfVxuICAgICNhY3Rpb25NZW51QnV0dG9uOmNoZWNrZWQgKyAuYWN0aW9ucy1tZW51IC5idG4tLW1lbnUgc3BhbiB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgwKTtcbiAgICB9XG5cbiAgICAvKiA9PT09PT09PT09PT1cbiAgICAgICDjg5vjg5Djg7zjgqLjg4vjg6Hjg7zjgrfjg6fjg7NcbiAgICAgICA9PT09PT09PT09PT0gKi9cbiAgICAuYnRuLS1zaGFyZTpob3ZlciBzdmcgeyB0cmFuc2Zvcm06IHJvdGF0ZSgtMjBkZWcpIHNjYWxlKDEuMik7IH1cbiAgICAuYnRuLS1zdGFyOmhvdmVyIHN2ZyAgeyB0cmFuc2Zvcm06IHJvdGF0ZSgyMGRlZykgIHNjYWxlKDEuMik7IH1cbiAgICAuYnRuLS1jb21tZW50OmhvdmVyIHN2ZyB7IHRyYW5zZm9ybTogcm90YXRlKC0yMGRlZykgc2NhbGUoMS4yKTsgfVxuICBcbiAgXG4gIC8qIOOCueODnuODm+ihqOekuuaZguOBruiqv+aVtO+8iOeUu+mdouW5hTc2OHB45Lul5LiL77yJIC0g44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5ZCM44GY44K144Kk44K644GrICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAvKiDjg6Hjg4vjg6Xjg7zlhajkvZPjga7kvY3nva7jgajjgrXjgqTjgrogKi9cbiAgICAgIC5hY3Rpb25zLW1lbnUge1xuICAgICAgICByaWdodDogMjBweDsgICAgLyog44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Gu5L2N572u44Gr5ZCI44KP44Gb44Gm6Kq/5pW0ICovXG4gICAgICAgIHdpZHRoOiA1NnB4OyAgICAvKiDjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgajlkIzjgZjjgrXjgqTjgrrjgasgKi9cbiAgICAgICAgaGVpZ2h0OiA1NnB4OyAgIC8qIOODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBqOWQjOOBmOOCteOCpOOCuuOBqyAqL1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZGF0YS1jb250ZXh0PVwiY2hhdFwiXSkgLmFjdGlvbnMtbWVudSB7XG4gICAgICAgIGJvdHRvbTogMTAwcHg7ICAvKiDjg4Hjg6Pjg4Pjg4jlhaXlipvjg5Xjgqnjg7zjg6DjgYvjgonljYHliIbpm6LjgZfjgabphY3nva4gKi9cbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2RhdGEtY29udGV4dD1cIm5vbi1jaGF0XCJdKSAuYWN0aW9ucy1tZW51IHtcbiAgICAgICAgYm90dG9tOiAyMHB4OyAgIC8qIOODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBqOWQjOOBmOmrmOOBleOBq+mFjee9riAqL1xuICAgICAgfVxuICAgICAgLyog44OP44Oz44OQ44O844Ks44O844Oc44K/44Oz44KS44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5a6M5YWo44Gr5ZCM44GY44K144Kk44K644GrICovXG4gICAgICAuYWN0aW9ucy1tZW51IC5idG4tLW1lbnUge1xuICAgICAgICB3aWR0aDogNTZweCAhaW1wb3J0YW50O1xuICAgICAgICBoZWlnaHQ6IDU2cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC8qIOS7luOBruODnOOCv+ODs+OBruOCteOCpOOCuiAqL1xuICAgICAgLmFjdGlvbnMtbWVudSAuYnRuOm5vdCguYnRuLS1tZW51KSB7XG4gICAgICAgIHdpZHRoOiA0NXB4O1xuICAgICAgICBoZWlnaHQ6IDQ1cHg7XG4gICAgICB9XG4gICAgICAvKiDjgqLjgqTjgrPjg7PjgrXjgqTjgrroqr/mlbQgKi9cbiAgICAgIC5idG4gc3ZnIHtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIH1cbiAgICAgIFxuICAgIH1cblxuICAgIC8qIOmdnuW4uOOBq+Wwj+OBleOBqueUu+mdouOBp+OBruiqv+aVtO+8iOeUu+mdouW5hTQ4MHB45Lul5LiL77yJIC0g44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5a6M5YWo44Gr5ZCM44GY44K144Kk44K644GrICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gICAgICAvKiDjg6Hjg4vjg6Xjg7zlhajkvZPjga7jgrXjgqTjgrrjgpLjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgavlrozlhajjgavlkIjjgo/jgZvjgaboqr/mlbQgKi9cbiAgICAgIC5hY3Rpb25zLW1lbnUge1xuICAgICAgICBib3R0b206IDkwcHg7ICAgLyog5YWl5Yqb44OV44Kp44O844Og44GL44KJ5Y2B5YiG6Zui44GX44Gm6YWN572uICovXG4gICAgICAgIHJpZ2h0OiAxNXB4OyAgICAvKiDjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7Pjga7kvY3nva7jgavlkIjjgo/jgZvjgaboqr/mlbQgKi9cbiAgICAgICAgd2lkdGg6IDUwcHg7ICAgIC8qIOODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBqOWQjOOBmOOCteOCpOOCuuOBqyAqL1xuICAgICAgICBoZWlnaHQ6IDUwcHg7ICAgLyog44OX44Ot44Oz44OX44OI5oqV56i/44Oc44K/44Oz44Go5ZCM44GY44K144Kk44K644GrICovXG4gICAgICB9XG4gICAgICAvKiDjg4/jg7Pjg5Djg7zjgqzjg7zjg5zjgr/jg7PjgpLjg5fjg63jg7Pjg5fjg4jmipXnqL/jg5zjgr/jg7PjgajlrozlhajjgavlkIzjgZjjgrXjgqTjgrrjgasgKi9cbiAgICAgIC5hY3Rpb25zLW1lbnUgLmJ0bi0tbWVudSB7XG4gICAgICAgIHdpZHRoOiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogNTBweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLyog5LuW44Gu44Oc44K/44Oz44Gu44K144Kk44K644KS44KI44KK5bCP44GV44GPICovXG4gICAgICAuYWN0aW9ucy1tZW51IC5idG46bm90KC5idG4tLW1lbnUpIHtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgIH1cbiAgICAgIC8qIOOCouOCpOOCs+ODs+OCguOBleOCieOBq+e4ruWwjyAqL1xuICAgICAgLmJ0biBzdmcge1xuICAgICAgICB3aWR0aDogMThweDtcbiAgICAgICAgaGVpZ2h0OiAxOHB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZGF0YS1jb250ZXh0PVwiY2hhdFwiXSkgLmFjdGlvbnMtbWVudSB7XG4gICAgICAgIGJvdHRvbTogOTBweDsgICAvKiDjg4Hjg6Pjg4Pjg4jlhaXlipvjg5Xjgqnjg7zjg6DjgYvjgonljYHliIbpm6LjgZfjgabphY3nva4gKi9cbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2RhdGEtY29udGV4dD1cIm5vbi1jaGF0XCJdKSAuYWN0aW9ucy1tZW51IHtcbiAgICAgICAgYm90dG9tOiAxNXB4OyAgIC8qIOODl+ODreODs+ODl+ODiOaKleeov+ODnOOCv+ODs+OBqOWQjOOBmOmrmOOBleOBq+mFjee9riAqL1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgPC9zdHlsZT5cblxuICA8IS0tIOODgeOCp+ODg+OCr+ODnOODg+OCr+OCue+8iOODoeODi+ODpeODvOmWi+mWieeUqO+8iSAtLT5cbiAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYWN0aW9uTWVudUJ1dHRvblwiIC8+XG5cbiAgPCEtLSDjgqLjgq/jgrfjg6fjg7Pjg6Hjg4vjg6Xjg7zmnKzkvZMgLS0+XG4gIDxkaXYgY2xhc3M9XCJhY3Rpb25zLW1lbnVcIj5cbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0tc2hhcmVcIiBvbmNsaWNrPVwibG9jYXRpb24uaHJlZj0nL3Byb21wdF9zaGFyZSdcIiB0aXRsZT1cIuOCt+OCp+OColwiPlxuICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgIDxwYXRoIGQ9XCJNMTggMTYuMDhjLS43NiAwLTEuNDQuMy0xLjk2Ljc3TDguOTEgMTIuN2EzLjA0OCAzLjA0OCAwIDAgMCAwLTEuMzlsNy4xMy00LjE3QTMgMyAwIDEgMCAxNCA1YTMgMyAwIDAgMCAuMDUuNTJsLTcuMTQgNC4xOGEzIDMgMCAxIDAgMCA0LjZsNy4xNCA0LjE4Yy0uMDMuMTctLjA1LjM0LS4wNS41MmEzIDMgMCAxIDAgMy0yLjkyWlwiIC8+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0tc3RhclwiIG9uY2xpY2s9XCJsb2NhdGlvbi5ocmVmPScvJ1wiIHRpdGxlPVwi44K544K/44O8XCI+XG4gICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgPHBhdGggZD1cIk0xMiwxNy4yN0wxOC4xOCwyMUwxNi41NCwxMy45NyBMMjIsOS4yNEwxNC44MSw4LjYyTDEyLDIgTDkuMTksOC42MkwyLDkuMjRMNy40NSwxMy45NyBMNS44MiwyMUwxMiwxNy4yN1pcIiAvPlxuICAgICAgPC9zdmc+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tLWNvbW1lbnRcIiBvbmNsaWNrPVwibG9jYXRpb24uaHJlZj0nL21lbW8nXCIgdGl0bGU9XCLjg6Hjg6JcIj5cbiAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICA8cGF0aCBkPVwiTTE5IDNINWEyIDIgMCAwIDAtMiAydjE0YTIgMiAwIDAgMCAyIDJoOWw3LTdWNWEyIDIgMCAwIDAtMi0yWm0tNSAxNHYtNWg1bC01IDVaXCIgLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuICAgIDxsYWJlbCBmb3I9XCJhY3Rpb25NZW51QnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLS1tZW51XCI+PHNwYW4+PC9zcGFuPjwvbGFiZWw+XG4gIDwvZGl2PlxuYDtcblxuY2xhc3MgQWN0aW9uTWVudSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgcHJpdmF0ZSB0b2dnbGU6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcbiAgICBzaGFkb3cuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy50b2dnbGUgPSBzaGFkb3cucXVlcnlTZWxlY3RvcihcIiNhY3Rpb25NZW51QnV0dG9uXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuXG4gICAgLy8gIOODoeODi+ODpeODvOWkluOCr+ODquODg+OCr+OBp+iHquWLleOCr+ODreODvOOCulxuICAgIGlmICh0aGlzLnRvZ2dsZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIC8vIOODoeODi+ODpeODvOOBjOmWi+OBhOOBpuOBhOOBpu+8jOOCr+ODquODg+OCr+WFiOOBjOOBk+OBruOCs+ODs+ODneODvOODjeODs+ODiOWkluOBquOCiemWieOBmOOCi1xuICAgICAgICBpZiAodGhpcy50b2dnbGU/LmNoZWNrZWQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXModGhpcykpIHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIOODgeODo+ODg+ODiOeUu+mdouOBi+OBqeOBhuOBi+OCkuaknOWHuuOBl+OBpumBqeWIh+OBquOCteOCpOOCuuOCkumBqeeUqFxuICAgIHRoaXMudXBkYXRlTWVudVNpemUoKTtcbiAgICAvLyDnlLvpnaLjga7lpInljJbjgpLnm6PoppZcbiAgICB0aGlzLm9ic2VydmVTY3JlZW5DaGFuZ2VzKCk7XG4gIH1cblxuICB1cGRhdGVNZW51U2l6ZSgpIHtcbiAgICBjb25zdCBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGF0LWNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBpc0luQ2hhdE1vZGUgPSBCb29sZWFuKGNoYXRDb250YWluZXIgJiYgKGNoYXRDb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPT09IFwiZmxleFwiKTtcblxuICAgIC8vIENTU+OCq+OCueOCv+ODoOODl+ODreODkeODhuOCo+OBp+OCs+ODs+ODhuOCreOCueODiOOCkuioreWumlxuICAgIGlmIChpc0luQ2hhdE1vZGUpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiZGF0YS1jb250ZXh0XCIsIFwiY2hhdFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRleHRcIiwgXCJub24tY2hhdFwiKTtcbiAgICB9XG4gIH1cblxuICBvYnNlcnZlU2NyZWVuQ2hhbmdlcygpIHtcbiAgICBjb25zdCBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGF0LWNvbnRhaW5lclwiKTtcbiAgICBpZiAoY2hhdENvbnRhaW5lcikge1xuICAgICAgLy8gTXV0YXRpb25PYnNlcnZlcuOBp2NoYXQtY29udGFpbmVy44Guc3R5bGXlpInljJbjgpLnm6PoppZcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZU1lbnVTaXplKCk7XG4gICAgICB9KTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoY2hhdENvbnRhaW5lciwge1xuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtcInN0eWxlXCJdXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDlrprmnJ/nmoTjgavjgoLjg4Hjgqfjg4Pjgq/vvIjlv7Xjga7jgZ/jgoHvvIlcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZU1lbnVTaXplKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn1cblxuaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoXCJhY3Rpb24tbWVudVwiKSkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJhY3Rpb24tbWVudVwiLCBBY3Rpb25NZW51KTtcbn1cblxuZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbInRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiQWN0aW9uTWVudSIsIkhUTUxFbGVtZW50IiwiY29uc3RydWN0b3IiLCJzaGFkb3ciLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwidG9nZ2xlIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY2hlY2tlZCIsImNvbXBvc2VkUGF0aCIsImluY2x1ZGVzIiwidXBkYXRlTWVudVNpemUiLCJvYnNlcnZlU2NyZWVuQ2hhbmdlcyIsImNoYXRDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImlzSW5DaGF0TW9kZSIsIkJvb2xlYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJzZXRBdHRyaWJ1dGUiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZUZpbHRlciIsInNldEludGVydmFsIiwiY3VzdG9tRWxlbWVudHMiLCJnZXQiLCJkZWZpbmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/components/popup_menu.ts\n");

/***/ }),

/***/ "./scripts/components/user_icon.ts":
/*!*****************************************!*\
  !*** ./scripts/components/user_icon.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// components/user_icon.ts\n// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n// å³ä¸Šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³  +  ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼\n//  - /api/user/profile ã§ avatar_url / username ã‚’å–å¾—\n//  - å–å¾—å¤±æ•—æ™‚ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»åƒãƒ»ç©ºæ–‡å­—ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nconst tpl = document.createElement(\"template\");\ntpl.innerHTML = `\n  <style>\n    :host {\n      position: fixed;\n      top: 10px;\n      right: 10px;\n      z-index: 10000;\n      font-family: inherit;\n      user-select: none;\n    }\n    .btn {\n      background: transparent;\n      border: none;\n      cursor: pointer;\n      padding: .5rem;\n      border-radius: 50%;\n      transition: background-color .15s;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .btn:hover { background: rgba(0,0,0,.06); }\n    .avatar {\n      width: 2.2rem;\n      height: 2.2rem;\n      border-radius: 50%;\n      object-fit: cover;\n      display: block;\n    }\n    /* ãƒ›ãƒãƒ¼æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— */\n    .btn:hover::after {\n      content: attr(data-username);\n      position: absolute;\n      top: 105%;\n      right: 0;\n      padding: .25rem .6rem;\n      background: #333;\n      color: #fff;\n      font-size: .75rem;\n      border-radius: 4px;\n      white-space: nowrap;\n      pointer-events: none;\n    }\n    /* â–¼ dropdown */\n    .dropdown {\n      position: absolute;\n      top: 3rem;\n      right: 0;\n      background: #fff;\n      border: 1px solid #ddd;\n      border-radius: 6px;\n      box-shadow: 0 2px 8px rgba(0,0,0,.1);\n      min-width: 160px;\n      display: none;\n      flex-direction: column;\n      overflow: hidden;\n      animation: fade .15s ease-out;\n    }\n    @keyframes fade { from { opacity: 0; transform: translateY(-5px);}\n                      to   { opacity: 1; transform: translateY(0);} }\n    .item {\n      padding: .6rem 1rem;\n      font-size: .9rem;\n      text-decoration: none;\n      color: #333;\n      display: flex;\n      align-items: center;\n      gap: .5rem;\n      cursor: pointer;\n    }\n    .item:hover { background: #f5f5f5; }\n  </style>\n\n  <button class=\"btn\" title=\"ãƒ¦ãƒ¼ã‚¶ãƒ¼\">\n    <img class=\"avatar\" src=\"/static/user-icon.png\" alt=\"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³\">\n  </button>\n\n  <div class=\"dropdown\">\n    <a class=\"item\" href=\"/settings\">âš™ï¸ è¨­å®š</a>\n    <a class=\"item\" href=\"/logout\">ğŸšª ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>\n  </div>\n`;\nclass UserIcon extends HTMLElement {\n    constructor(){\n        super();\n        this._profileLoaded = false;\n        const root = this.attachShadow({\n            mode: \"open\"\n        });\n        root.append(tpl.content.cloneNode(true));\n        const btn = root.querySelector(\".btn\");\n        const dropdown = root.querySelector(\".dropdown\");\n        const avatarImg = root.querySelector(\".avatar\");\n        if (!btn || !dropdown || !avatarImg) {\n            throw new Error(\"user-icon template is missing required elements\");\n        }\n        this.btn = btn;\n        this.dropdown = dropdown;\n        this.avatarImg = avatarImg;\n        this._handleAuthState = this._handleAuthStateInternal.bind(this);\n        // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é–‹é–‰\n        this.btn.addEventListener(\"click\", (e)=>{\n            e.stopPropagation();\n            this.dropdown.style.display = this.dropdown.style.display === \"flex\" ? \"none\" : \"flex\";\n        });\n        // å¤–å´ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹\n        document.addEventListener(\"click\", ()=>{\n            this.dropdown.style.display = \"none\";\n        });\n    }\n    connectedCallback() {\n        document.addEventListener(\"authstatechange\", this._handleAuthState);\n        if (typeof window.loggedIn !== \"undefined\") {\n            this._handleAuthStateInternal({\n                detail: {\n                    loggedIn: window.loggedIn\n                }\n            });\n        }\n    }\n    disconnectedCallback() {\n        document.removeEventListener(\"authstatechange\", this._handleAuthState);\n    }\n    _handleAuthStateInternal(evt) {\n        const customEvent = evt;\n        const loggedIn = Boolean(customEvent?.detail?.loggedIn);\n        if (loggedIn) {\n            if (!this._profileLoaded) {\n                this.loadProfile();\n            }\n        } else {\n            this._profileLoaded = false;\n            this.dropdown.style.display = \"none\";\n            this.avatarImg.src = \"/static/user-icon.png\";\n            this.avatarImg.alt = \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³\";\n            this.btn.removeAttribute(\"data-username\");\n        }\n    }\n    async loadProfile() {\n        try {\n            const res = await fetch(\"/api/user/profile\", {\n                credentials: \"same-origin\"\n            });\n            if (res.status === 401) {\n                // æœªãƒ­ã‚°ã‚¤ãƒ³æ™‚ã¯é™ã‹ã«ä½•ã‚‚ã—ãªã„\n                this._profileLoaded = false;\n                return;\n            }\n            if (!res.ok) throw new Error(`status ${res.status}`);\n            const data = await res.json();\n            const avatar = data.avatar_url || \"/static/user-icon.png\";\n            const name = data.username || \"\";\n            this.avatarImg.src = avatar;\n            // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼å\n            this.btn.setAttribute(\"data-username\", name);\n            // alt å±æ€§ã«ã‚‚ã‚»ãƒƒãƒˆ\n            this.avatarImg.alt = name ? `${name}ã®ã‚¢ã‚¤ã‚³ãƒ³` : \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³\";\n            this._profileLoaded = true;\n        } catch (err) {\n            console.warn(\"user_icon: profile load failed\", err);\n            this._profileLoaded = false;\n        }\n    }\n}\nif (!customElements.get(\"user-icon\")) {\n    customElements.define(\"user-icon\", UserIcon);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlHLE1BQU0sS0FBSyxLQUFLO2dCQUN0QixrQkFBa0I7Z0JBQ2xCLElBQUksQ0FBQ3BDLGNBQWMsR0FBRztnQkFDdEI7WUFDRjtZQUNBLElBQUksQ0FBQ2lDLElBQUlJLEVBQUUsRUFBRSxNQUFNLElBQUkxQixNQUFNLENBQUMsT0FBTyxFQUFFc0IsSUFBSUcsTUFBTSxDQUFDLENBQUM7WUFDbkQsTUFBTUUsT0FBTyxNQUFNTCxJQUFJTSxJQUFJO1lBRTNCLE1BQU1DLFNBQVNGLEtBQUtHLFVBQVUsSUFBSTtZQUNsQyxNQUFNQyxPQUFPSixLQUFLSyxRQUFRLElBQUk7WUFFOUIsSUFBSSxDQUFDakMsU0FBUyxDQUFDb0IsR0FBRyxHQUFHVTtZQUNyQixlQUFlO1lBQ2YsSUFBSSxDQUFDakMsR0FBRyxDQUFDcUMsWUFBWSxDQUFDLGlCQUFpQkY7WUFDdkMsY0FBYztZQUNkLElBQUksQ0FBQ2hDLFNBQVMsQ0FBQ3FCLEdBQUcsR0FBR1csT0FBTyxDQUFDLEVBQUVBLEtBQUssS0FBSyxDQUFDLEdBQUc7WUFDN0MsSUFBSSxDQUFDMUMsY0FBYyxHQUFHO1FBQ3hCLEVBQUUsT0FBTzZDLEtBQUs7WUFDWkMsUUFBUUMsSUFBSSxDQUFDLGtDQUFrQ0Y7WUFDL0MsSUFBSSxDQUFDN0MsY0FBYyxHQUFHO1FBQ3hCO0lBQ0Y7QUFDRjtBQUVBLElBQUksQ0FBQ2dELGVBQWVDLEdBQUcsQ0FBQyxjQUFjO0lBQ3BDRCxlQUFlRSxNQUFNLENBQUMsYUFBYXJEO0FBQ3JDO0FBRVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHJpa2UtZnJvbnRlbmQvLi9zY3JpcHRzL2NvbXBvbmVudHMvdXNlcl9pY29uLnRzP2RkNmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29tcG9uZW50cy91c2VyX2ljb24udHNcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuLy8g5Y+z5LiK44Om44O844K244O844Ki44Kk44Kz44OzICArICDjg4njg63jg4Pjg5fjg4Djgqbjg7Pjg6Hjg4vjg6Xjg7xcbi8vICAtIC9hcGkvdXNlci9wcm9maWxlIOOBpyBhdmF0YXJfdXJsIC8gdXNlcm5hbWUg44KS5Y+W5b6XXG4vLyAgLSDlj5blvpflpLHmlZfmmYLjga/jg4fjg5Xjgqnjg6vjg4jnlLvlg4/jg7vnqbrmloflrZfjgavjg5Xjgqnjg7zjg6vjg5Djg4Pjgq9cbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuXG5jb25zdCB0cGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG50cGwuaW5uZXJIVE1MID0gYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAxMHB4O1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuICAgIC5idG4ge1xuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBwYWRkaW5nOiAuNXJlbTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjE1cztcbiAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cbiAgICAuYnRuOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMDYpOyB9XG4gICAgLmF2YXRhciB7XG4gICAgICB3aWR0aDogMi4ycmVtO1xuICAgICAgaGVpZ2h0OiAyLjJyZW07XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAvKiDjg5vjg5Djg7zmmYLjgavjg6bjg7zjgrbjg7zlkI3jg4Tjg7zjg6vjg4Hjg4Pjg5cgKi9cbiAgICAuYnRuOmhvdmVyOjphZnRlciB7XG4gICAgICBjb250ZW50OiBhdHRyKGRhdGEtdXNlcm5hbWUpO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxMDUlO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgICBwYWRkaW5nOiAuMjVyZW0gLjZyZW07XG4gICAgICBiYWNrZ3JvdW5kOiAjMzMzO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBmb250LXNpemU6IC43NXJlbTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB9XG4gICAgLyog4pa8IGRyb3Bkb3duICovXG4gICAgLmRyb3Bkb3duIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogM3JlbTtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLDAsMCwuMSk7XG4gICAgICBtaW4td2lkdGg6IDE2MHB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgYW5pbWF0aW9uOiBmYWRlIC4xNXMgZWFzZS1vdXQ7XG4gICAgfVxuICAgIEBrZXlmcmFtZXMgZmFkZSB7IGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7fVxuICAgICAgICAgICAgICAgICAgICAgIHRvICAgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7fSB9XG4gICAgLml0ZW0ge1xuICAgICAgcGFkZGluZzogLjZyZW0gMXJlbTtcbiAgICAgIGZvbnQtc2l6ZTogLjlyZW07XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgZ2FwOiAuNXJlbTtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgLml0ZW06aG92ZXIgeyBiYWNrZ3JvdW5kOiAjZjVmNWY1OyB9XG4gIDwvc3R5bGU+XG5cbiAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIHRpdGxlPVwi44Om44O844K244O8XCI+XG4gICAgPGltZyBjbGFzcz1cImF2YXRhclwiIHNyYz1cIi9zdGF0aWMvdXNlci1pY29uLnBuZ1wiIGFsdD1cIuODpuODvOOCtuODvOOCouOCpOOCs+ODs1wiPlxuICA8L2J1dHRvbj5cblxuICA8ZGl2IGNsYXNzPVwiZHJvcGRvd25cIj5cbiAgICA8YSBjbGFzcz1cIml0ZW1cIiBocmVmPVwiL3NldHRpbmdzXCI+4pqZ77iPIOioreWumjwvYT5cbiAgICA8YSBjbGFzcz1cIml0ZW1cIiBocmVmPVwiL2xvZ291dFwiPvCfmqog44Ot44Kw44Ki44Km44OIPC9hPlxuICA8L2Rpdj5cbmA7XG5cbmNsYXNzIFVzZXJJY29uIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBwcml2YXRlIGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHByaXZhdGUgZHJvcGRvd246IEhUTUxEaXZFbGVtZW50O1xuICBwcml2YXRlIGF2YXRhckltZzogSFRNTEltYWdlRWxlbWVudDtcbiAgcHJpdmF0ZSBfcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9oYW5kbGVBdXRoU3RhdGU6IChldnQ/OiBFdmVudCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIHJvb3QuYXBwZW5kKHRwbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICBjb25zdCBidG4gPSByb290LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBjb25zdCBkcm9wZG93biA9IHJvb3QucXVlcnlTZWxlY3RvcihcIi5kcm9wZG93blwiKSBhcyBIVE1MRGl2RWxlbWVudCB8IG51bGw7XG4gICAgY29uc3QgYXZhdGFySW1nID0gcm9vdC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhclwiKSBhcyBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbDtcblxuICAgIGlmICghYnRuIHx8ICFkcm9wZG93biB8fCAhYXZhdGFySW1nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VyLWljb24gdGVtcGxhdGUgaXMgbWlzc2luZyByZXF1aXJlZCBlbGVtZW50c1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLmJ0biA9IGJ0bjtcbiAgICB0aGlzLmRyb3Bkb3duID0gZHJvcGRvd247XG4gICAgdGhpcy5hdmF0YXJJbWcgPSBhdmF0YXJJbWc7XG4gICAgdGhpcy5faGFuZGxlQXV0aFN0YXRlID0gdGhpcy5faGFuZGxlQXV0aFN0YXRlSW50ZXJuYWwuYmluZCh0aGlzKTtcblxuICAgIC8vIOODieODreODg+ODl+ODgOOCpuODs+mWi+mWiVxuICAgIHRoaXMuYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9XG4gICAgICAgIHRoaXMuZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9PT0gXCJmbGV4XCIgPyBcIm5vbmVcIiA6IFwiZmxleFwiO1xuICAgIH0pO1xuICAgIC8vIOWkluWBtOOCr+ODquODg+OCr+OBp+mWieOBmOOCi1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmRyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJhdXRoc3RhdGVjaGFuZ2VcIiwgdGhpcy5faGFuZGxlQXV0aFN0YXRlKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5sb2dnZWRJbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5faGFuZGxlQXV0aFN0YXRlSW50ZXJuYWwoeyBkZXRhaWw6IHsgbG9nZ2VkSW46IHdpbmRvdy5sb2dnZWRJbiB9IH0gYXMgQ3VzdG9tRXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhdXRoc3RhdGVjaGFuZ2VcIiwgdGhpcy5faGFuZGxlQXV0aFN0YXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZUF1dGhTdGF0ZUludGVybmFsKGV2dD86IEV2ZW50KSB7XG4gICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldnQgYXMgQ3VzdG9tRXZlbnQ8eyBsb2dnZWRJbj86IGJvb2xlYW4gfT4gfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgbG9nZ2VkSW4gPSBCb29sZWFuKGN1c3RvbUV2ZW50Py5kZXRhaWw/LmxvZ2dlZEluKTtcblxuICAgIGlmIChsb2dnZWRJbikge1xuICAgICAgaWYgKCF0aGlzLl9wcm9maWxlTG9hZGVkKSB7XG4gICAgICAgIHRoaXMubG9hZFByb2ZpbGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB0aGlzLmF2YXRhckltZy5zcmMgPSBcIi9zdGF0aWMvdXNlci1pY29uLnBuZ1wiO1xuICAgICAgdGhpcy5hdmF0YXJJbWcuYWx0ID0gXCLjg6bjg7zjgrbjg7zjgqLjgqTjgrPjg7NcIjtcbiAgICAgIHRoaXMuYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdXNlcm5hbWVcIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFByb2ZpbGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS91c2VyL3Byb2ZpbGVcIiwgeyBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiIH0pO1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAvLyDmnKrjg63jgrDjgqTjg7PmmYLjga/pnZnjgYvjgavkvZXjgoLjgZfjgarjgYRcbiAgICAgICAgdGhpcy5fcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgIGNvbnN0IGF2YXRhciA9IGRhdGEuYXZhdGFyX3VybCB8fCBcIi9zdGF0aWMvdXNlci1pY29uLnBuZ1wiO1xuICAgICAgY29uc3QgbmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgXCJcIjtcblxuICAgICAgdGhpcy5hdmF0YXJJbWcuc3JjID0gYXZhdGFyO1xuICAgICAgLy8g44OE44O844Or44OB44OD44OX44Gr44Om44O844K244O85ZCNXG4gICAgICB0aGlzLmJ0bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXVzZXJuYW1lXCIsIG5hbWUpO1xuICAgICAgLy8gYWx0IOWxnuaAp+OBq+OCguOCu+ODg+ODiFxuICAgICAgdGhpcy5hdmF0YXJJbWcuYWx0ID0gbmFtZSA/IGAke25hbWV944Gu44Ki44Kk44Kz44OzYCA6IFwi44Om44O844K244O844Ki44Kk44Kz44OzXCI7XG4gICAgICB0aGlzLl9wcm9maWxlTG9hZGVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcInVzZXJfaWNvbjogcHJvZmlsZSBsb2FkIGZhaWxlZFwiLCBlcnIpO1xuICAgICAgdGhpcy5fcHJvZmlsZUxvYWRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5pZiAoIWN1c3RvbUVsZW1lbnRzLmdldChcInVzZXItaWNvblwiKSkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ1c2VyLWljb25cIiwgVXNlckljb24pO1xufVxuXG5leHBvcnQge307XG4iXSwibmFtZXMiOlsidHBsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiVXNlckljb24iLCJIVE1MRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiX3Byb2ZpbGVMb2FkZWQiLCJyb290IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImFwcGVuZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJidG4iLCJxdWVyeVNlbGVjdG9yIiwiZHJvcGRvd24iLCJhdmF0YXJJbWciLCJFcnJvciIsIl9oYW5kbGVBdXRoU3RhdGUiLCJfaGFuZGxlQXV0aFN0YXRlSW50ZXJuYWwiLCJiaW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJzdHlsZSIsImRpc3BsYXkiLCJjb25uZWN0ZWRDYWxsYmFjayIsIndpbmRvdyIsImxvZ2dlZEluIiwiZGV0YWlsIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY3VzdG9tRXZlbnQiLCJCb29sZWFuIiwibG9hZFByb2ZpbGUiLCJzcmMiLCJhbHQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXMiLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwic3RhdHVzIiwib2siLCJkYXRhIiwianNvbiIsImF2YXRhciIsImF2YXRhcl91cmwiLCJuYW1lIiwidXNlcm5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJlcnIiLCJjb25zb2xlIiwid2FybiIsImN1c3RvbUVsZW1lbnRzIiwiZ2V0IiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/components/user_icon.ts\n");

/***/ }),

/***/ "./scripts/entries/prompt_share.ts":
/*!*****************************************!*\
  !*** ./scripts/entries/prompt_share.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _prompt_share_prompt_share__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prompt_share/prompt_share */ \"./scripts/prompt_share/prompt_share.ts\");\n/* harmony import */ var _components_popup_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/popup_menu */ \"./scripts/components/popup_menu.ts\");\n/* harmony import */ var _components_user_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/user_icon */ \"./scripts/components/user_icon.ts\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2VudHJpZXMvcHJvbXB0X3NoYXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBc0M7QUFDSjtBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RyaWtlLWZyb250ZW5kLy4vc2NyaXB0cy9lbnRyaWVzL3Byb21wdF9zaGFyZS50cz9lNzE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4uL3Byb21wdF9zaGFyZS9wcm9tcHRfc2hhcmVcIjtcbmltcG9ydCBcIi4uL2NvbXBvbmVudHMvcG9wdXBfbWVudVwiO1xuaW1wb3J0IFwiLi4vY29tcG9uZW50cy91c2VyX2ljb25cIjtcblxuZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/entries/prompt_share.ts\n");

/***/ }),

/***/ "./scripts/prompt_share/prompt_share.ts":
/*!**********************************************!*\
  !*** ./scripts/prompt_share/prompt_share.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nfunction initPromptSharePage(attempt = 0) {\n    const promptContainer = document.querySelector(\".prompt-cards\");\n    if (!promptContainer) {\n        if (attempt < 10) {\n            requestAnimationFrame(()=>initPromptSharePage(attempt + 1));\n        }\n        return;\n    }\n    if (promptContainer.dataset.psInitialized === \"true\") {\n        return;\n    }\n    promptContainer.dataset.psInitialized = \"true\";\n    // ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã®ç¢ºèªã¨UIåˆ‡ã‚Šæ›¿ãˆ\n    const userIcon = document.getElementById(\"userIcon\");\n    const authButtons = document.getElementById(\"auth-buttons\");\n    let isLoggedIn = false; // ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒ\n    fetch(\"/api/current_user\").then((res)=>res.ok ? res.json() : {\n            logged_in: false\n        }).then((data)=>{\n        isLoggedIn = Boolean(data.logged_in);\n        if (data.logged_in) {\n            if (authButtons) authButtons.style.display = \"none\";\n            if (userIcon) userIcon.style.display = \"\";\n        } else {\n            if (authButtons) authButtons.style.display = \"\";\n            if (userIcon) userIcon.style.display = \"none\";\n            const loginBtn = document.getElementById(\"login-btn\");\n            if (loginBtn) loginBtn.onclick = ()=>window.location.href = \"/login\";\n        }\n    }).catch((err)=>{\n        console.error(\"Error checking login status:\", err);\n        if (authButtons) authButtons.style.display = \"\";\n        if (userIcon) userIcon.style.display = \"none\";\n    });\n    function closeAllDropdowns(exceptCard) {\n        const openMenus = document.querySelectorAll(\".prompt-actions-dropdown.is-open\");\n        openMenus.forEach((menu)=>{\n            if (exceptCard && exceptCard.contains(menu)) {\n                return;\n            }\n            menu.classList.remove(\"is-open\");\n            const trigger = menu.parentElement?.querySelector(\".meatball-menu\");\n            if (trigger) {\n                trigger.setAttribute(\"aria-expanded\", \"false\");\n            }\n            const parentCard = menu.closest(\".prompt-card\");\n            if (parentCard) {\n                parentCard.classList.remove(\"menu-open\");\n            }\n        });\n    }\n    if (document.body && document.body.dataset.psDropdownListener !== \"true\") {\n        document.body.dataset.psDropdownListener = \"true\";\n        document.addEventListener(\"click\", ()=>closeAllDropdowns());\n    }\n    const TITLE_CHAR_LIMIT = 17;\n    const CONTENT_CHAR_LIMIT = 160;\n    function truncateText(text, limit) {\n        const safeText = text || \"\";\n        const chars = Array.from(safeText);\n        return chars.length > limit ? chars.slice(0, limit).join(\"\") + \"...\" : safeText;\n    }\n    function truncateTitle(title) {\n        return truncateText(title, TITLE_CHAR_LIMIT);\n    }\n    function truncateContent(content) {\n        return truncateText(content, CONTENT_CHAR_LIMIT);\n    }\n    function updateBookmarkButtonState(button, isBookmarked) {\n        if (!button) return;\n        button.classList.toggle(\"bookmarked\", isBookmarked);\n        button.innerHTML = isBookmarked ? `<i class=\"bi bi-bookmark-fill\"></i>` : `<i class=\"bi bi-bookmark\"></i>`;\n    }\n    function sendBookmarkRequest(method, payload) {\n        return fetch(\"/prompt_share/api/bookmark\", {\n            method,\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        }).then(async (response)=>{\n            const data = await response.json().catch(()=>({}));\n            if (!response.ok || data.error) {\n                throw new Error(data.error || \"æ“ä½œã«å¤±æ•—ã—ã¾ã—ãŸã€‚\");\n            }\n            return data;\n        });\n    }\n    function savePromptBookmark(prompt) {\n        return sendBookmarkRequest(\"POST\", {\n            title: prompt.title,\n            content: prompt.content,\n            input_examples: prompt.input_examples || \"\",\n            output_examples: prompt.output_examples || \"\"\n        });\n    }\n    function removePromptBookmark(prompt) {\n        return sendBookmarkRequest(\"DELETE\", {\n            title: prompt.title\n        });\n    }\n    function savePromptToList(prompt) {\n        return fetch(\"/prompt_share/api/prompt_list\", {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                prompt_id: prompt.id ?? null,\n                title: prompt.title,\n                category: prompt.category || \"\",\n                content: prompt.content,\n                input_examples: prompt.input_examples || \"\",\n                output_examples: prompt.output_examples || \"\"\n            })\n        }).then(async (response)=>{\n            const data = await response.json().catch(()=>({}));\n            if (!response.ok || data.error) {\n                throw new Error(data.error || \"æ“ä½œã«å¤±æ•—ã—ã¾ã—ãŸã€‚\");\n            }\n            return data;\n        });\n    }\n    function createPromptCardElement(prompt) {\n        const card = document.createElement(\"div\");\n        card.classList.add(\"prompt-card\");\n        if (prompt.category) {\n            card.setAttribute(\"data-category\", prompt.category);\n        }\n        const isBookmarked = Boolean(prompt.bookmarked);\n        const isSavedToList = Boolean(prompt.saved_to_list);\n        const bookmarkIcon = isBookmarked ? `<i class=\"bi bi-bookmark-fill\"></i>` : `<i class=\"bi bi-bookmark\"></i>`;\n        const truncatedContent = truncateContent(prompt.content);\n        card.innerHTML = `\n      <button class=\"meatball-menu\" type=\"button\" aria-label=\"ãã®ä»–ã®æ“ä½œ\" aria-haspopup=\"true\" aria-expanded=\"false\">\n        <i class=\"bi bi-three-dots\"></i>\n      </button>\n\n      <div class=\"prompt-actions-dropdown\" role=\"menu\">\n        <button class=\"dropdown-item\" type=\"button\" role=\"menuitem\" data-action=\"save-to-list\">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒªã‚¹ãƒˆã«ä¿å­˜</button>\n        <button class=\"dropdown-item\" type=\"button\" role=\"menuitem\">ãƒŸãƒ¥ãƒ¼ãƒˆ</button>\n        <button class=\"dropdown-item\" type=\"button\" role=\"menuitem\">å ±å‘Šã™ã‚‹</button>\n      </div>\n\n      <h3>${truncateTitle(prompt.title)}</h3>\n      <p class=\"prompt-card__content\">${truncatedContent}</p>\n\n      <div class=\"prompt-meta\">\n        <div class=\"prompt-meta-info\">\n          <span>ã‚«ãƒ†ã‚´ãƒª: ${prompt.category}</span>\n          <span>æŠ•ç¨¿è€…: ${prompt.author}</span>\n        </div>\n        <div class=\"prompt-actions\">\n          <button class=\"prompt-action-btn comment-btn\" type=\"button\" aria-label=\"ã‚³ãƒ¡ãƒ³ãƒˆ\">\n            <i class=\"bi bi-chat-dots\"></i>\n          </button>\n          <button class=\"prompt-action-btn like-btn\" type=\"button\" aria-label=\"ã„ã„ã­\">\n            <i class=\"bi bi-heart\"></i>\n          </button>\n          <button class=\"prompt-action-btn bookmark-btn ${isBookmarked ? \"bookmarked\" : \"\"}\" type=\"button\" aria-label=\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯\">\n            ${bookmarkIcon}\n          </button>\n        </div>\n      </div>\n    `;\n        card.dataset.fullTitle = prompt.title || \"\";\n        card.dataset.fullContent = prompt.content || \"\";\n        card.dataset.savedToList = isSavedToList ? \"true\" : \"false\";\n        card.dataset.psBound = \"true\";\n        const bookmarkBtn = card.querySelector(\".bookmark-btn\");\n        if (bookmarkBtn) {\n            bookmarkBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n                if (!isLoggedIn) {\n                    alert(\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚\");\n                    return;\n                }\n                const shouldBookmark = !bookmarkBtn.classList.contains(\"bookmarked\");\n                bookmarkBtn.disabled = true;\n                const request = shouldBookmark ? savePromptBookmark(prompt) : removePromptBookmark(prompt);\n                request.then((result)=>{\n                    updateBookmarkButtonState(bookmarkBtn, shouldBookmark);\n                    prompt.bookmarked = shouldBookmark;\n                    if (result && result.message) {\n                        console.log(result.message);\n                    }\n                }).catch((err)=>{\n                    console.error(\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯æ“ä½œã‚¨ãƒ©ãƒ¼:\", err);\n                    alert(\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®æ›´æ–°ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n                }).finally(()=>{\n                    bookmarkBtn.disabled = false;\n                });\n            });\n            bookmarkBtn.dataset.bound = \"true\";\n        }\n        const commentBtn = card.querySelector(\".comment-btn\");\n        if (commentBtn) {\n            commentBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n            });\n        }\n        const likeBtn = card.querySelector(\".like-btn\");\n        if (likeBtn) {\n            likeBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n                likeBtn.classList.toggle(\"liked\");\n                const icon = likeBtn.querySelector(\"i\");\n                if (icon) {\n                    icon.classList.toggle(\"bi-heart\");\n                    icon.classList.toggle(\"bi-heart-fill\");\n                }\n            });\n        }\n        const meatballBtn = card.querySelector(\".meatball-menu\");\n        const dropdownMenu = card.querySelector(\".prompt-actions-dropdown\");\n        if (meatballBtn && dropdownMenu) {\n            meatballBtn.addEventListener(\"click\", function(e) {\n                e.stopPropagation();\n                const willOpen = !dropdownMenu.classList.contains(\"is-open\");\n                closeAllDropdowns(card);\n                dropdownMenu.classList.toggle(\"is-open\", willOpen);\n                meatballBtn.setAttribute(\"aria-expanded\", willOpen ? \"true\" : \"false\");\n                card.classList.toggle(\"menu-open\", willOpen);\n            });\n            dropdownMenu.addEventListener(\"click\", (event)=>{\n                event.stopPropagation();\n            });\n            dropdownMenu.querySelectorAll(\".dropdown-item\").forEach((item)=>{\n                item.addEventListener(\"click\", (event)=>{\n                    event.stopPropagation();\n                    dropdownMenu.classList.remove(\"is-open\");\n                    meatballBtn.setAttribute(\"aria-expanded\", \"false\");\n                    card.classList.remove(\"menu-open\");\n                });\n            });\n            const saveMenuItem = dropdownMenu.querySelector('[data-action=\"save-to-list\"]');\n            if (saveMenuItem) {\n                saveMenuItem.addEventListener(\"click\", ()=>{\n                    if (!isLoggedIn) {\n                        alert(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä¿å­˜ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚\");\n                        return;\n                    }\n                    if (prompt.saved_to_list) {\n                        alert(\"ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã™ã§ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒªã‚¹ãƒˆã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\");\n                        return;\n                    }\n                    saveMenuItem.disabled = true;\n                    savePromptToList(prompt).then((result)=>{\n                        prompt.saved_to_list = true;\n                        card.dataset.savedToList = \"true\";\n                        if (result && result.message) {\n                            console.log(result.message);\n                        }\n                    }).catch((err)=>{\n                        console.error(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿å­˜ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:\", err);\n                        alert(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒªã‚¹ãƒˆã¸ã®ä¿å­˜ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n                    }).finally(()=>{\n                        saveMenuItem.disabled = false;\n                    });\n                });\n            }\n        }\n        card.addEventListener(\"click\", function(e) {\n            const target = e.target;\n            if (target?.closest(\".prompt-action-btn\") || target?.closest(\".meatball-menu\")) {\n                return;\n            }\n            closeAllDropdowns();\n            showPromptDetailModal(prompt);\n        });\n        return card;\n    }\n    // ------------------------------\n    // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¸€è¦§ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°ï¼ˆPromise ã‚’è¿”ã™ï¼‰\n    // ------------------------------\n    function loadPrompts() {\n        return fetch(\"/prompt_share/api/prompts\").then((response)=>{\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return response.json();\n        }).then((data)=>{\n            if (!promptContainer) {\n                return;\n            }\n            promptContainer.innerHTML = \"\"; // æ—¢å­˜ã®ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªã‚¢\n            if (data.prompts) {\n                data.prompts.forEach((prompt)=>{\n                    prompt.bookmarked = Boolean(prompt.bookmarked);\n                    prompt.saved_to_list = Boolean(prompt.saved_to_list);\n                    const card = createPromptCardElement(prompt);\n                    promptContainer.appendChild(card);\n                });\n            } else {\n                promptContainer.innerHTML = \"<p>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>\";\n            }\n        }).catch((err)=>{\n            console.error(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå–å¾—ã‚¨ãƒ©ãƒ¼:\", err);\n            if (promptContainer) {\n                promptContainer.innerHTML = `<p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${err.message}</p>`;\n            }\n        });\n    }\n    // åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¸€è¦§ã‚’å–å¾—\n    loadPrompts();\n    // ------------------------------\n    // é™çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ãƒ¼ãƒ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¿½åŠ ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰\n    // ------------------------------\n    function setupStaticCardEvents() {\n        const staticCards = document.querySelectorAll(\".prompt-card\");\n        staticCards.forEach((card)=>{\n            if (card.dataset.psBound === \"true\") {\n                return;\n            }\n            const titleElem = card.querySelector(\"h3\");\n            if (titleElem) {\n                const fullTitle = titleElem.textContent || \"\";\n                titleElem.dataset.fullTitle = fullTitle;\n                titleElem.textContent = truncateTitle(fullTitle);\n            }\n            const contentElem = card.querySelector(\"p\");\n            if (contentElem) {\n                const fullContent = contentElem.textContent || \"\";\n                contentElem.dataset.fullContent = fullContent;\n                contentElem.textContent = truncateContent(fullContent);\n            }\n            const meta = card.querySelector(\".prompt-meta\");\n            if (meta && !meta.querySelector(\".prompt-meta-info\")) {\n                const spans = Array.from(meta.querySelectorAll(\"span\"));\n                const metaInfo = document.createElement(\"div\");\n                metaInfo.classList.add(\"prompt-meta-info\");\n                spans.forEach((span)=>metaInfo.appendChild(span));\n                meta.innerHTML = \"\";\n                meta.appendChild(metaInfo);\n            }\n            const commentBtn = card.querySelector(\".comment-btn\");\n            if (commentBtn) {\n                commentBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                });\n            }\n            const likeBtn = card.querySelector(\".like-btn\");\n            if (likeBtn) {\n                likeBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                    likeBtn.classList.toggle(\"liked\");\n                    const icon = likeBtn.querySelector(\"i\");\n                    if (icon) {\n                        icon.classList.toggle(\"bi-heart\");\n                        icon.classList.toggle(\"bi-heart-fill\");\n                    }\n                });\n            }\n            const meatballBtn = card.querySelector(\".meatball-menu\");\n            const dropdownMenu = card.querySelector(\".prompt-actions-dropdown\");\n            if (meatballBtn && dropdownMenu) {\n                meatballBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                    const willOpen = !dropdownMenu.classList.contains(\"is-open\");\n                    closeAllDropdowns(card);\n                    dropdownMenu.classList.toggle(\"is-open\", willOpen);\n                    meatballBtn.setAttribute(\"aria-expanded\", willOpen ? \"true\" : \"false\");\n                    card.classList.toggle(\"menu-open\", willOpen);\n                });\n                dropdownMenu.addEventListener(\"click\", (event)=>{\n                    event.stopPropagation();\n                });\n                dropdownMenu.querySelectorAll(\".dropdown-item\").forEach((item)=>{\n                    item.addEventListener(\"click\", (event)=>{\n                        event.stopPropagation();\n                        dropdownMenu.classList.remove(\"is-open\");\n                        meatballBtn.setAttribute(\"aria-expanded\", \"false\");\n                        card.classList.remove(\"menu-open\");\n                    });\n                });\n            }\n            const bookmarkBtn = card.querySelector(\".bookmark-btn\");\n            if (bookmarkBtn) {\n                bookmarkBtn.addEventListener(\"click\", function(e) {\n                    e.stopPropagation();\n                    if (!isLoggedIn) {\n                        alert(\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚\");\n                        return;\n                    }\n                    bookmarkBtn.classList.toggle(\"bookmarked\");\n                    bookmarkBtn.innerHTML = bookmarkBtn.classList.contains(\"bookmarked\") ? `<i class=\"bi bi-bookmark-fill\"></i>` : `<i class=\"bi bi-bookmark\"></i>`;\n                });\n                bookmarkBtn.dataset.bound = \"true\";\n            }\n            card.addEventListener(\"click\", function(e) {\n                const target = e.target;\n                if (target?.closest(\".prompt-action-btn\") || target?.closest(\".meatball-menu\")) {\n                    return;\n                }\n                // é™çš„ã‚«ãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n                const title = titleElem ? titleElem.dataset.fullTitle || titleElem.textContent || \"\" : \"\";\n                const content = contentElem ? contentElem.dataset.fullContent || contentElem.textContent || \"\" : \"\";\n                const category = card.getAttribute(\"data-category\") || \"\";\n                const authorSpan = card.querySelector(\".prompt-meta span:last-child\");\n                const author = authorSpan ? authorSpan.textContent?.replace(\"æŠ•ç¨¿è€…: \", \"\") || \"ä¸æ˜\" : \"ä¸æ˜\";\n                // æ¨¡æ“¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ\n                const mockPrompt = {\n                    title: title,\n                    content: content,\n                    category: category,\n                    author: author,\n                    input_examples: title === \"å‘Šç™½ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹\" ? \"å¥½ããªäººã«å‘Šç™½ã—ãŸã„ã§ã™ã€‚ã©ã®ã‚ˆã†ã«æ°—æŒã¡ã‚’ä¼ãˆã‚Œã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ\" : \"\",\n                    output_examples: title === \"å‘Šç™½ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹\" ? \"ç´ ç›´ãªæ°—æŒã¡ã§ã€ç›¸æ‰‹ã®ã“ã¨ã‚’æ€ã„ã‚„ã‚ŠãªãŒã‚‰ã€Œã‚ãªãŸã¨ä¸€ç·’ã«ã„ã‚‹ã¨ã¨ã¦ã‚‚å¹¸ã›ã§ã™ã€‚ãŠä»˜ãåˆã„ã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ï¼Ÿã€ã¨ã„ã£ãŸèª å®Ÿãªè¨€è‘‰ã§ä¼ãˆã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚\" : \"\"\n                };\n                closeAllDropdowns();\n                showPromptDetailModal(mockPrompt);\n            });\n            card.dataset.psBound = \"true\";\n        });\n    }\n    // é™çš„ã‚«ãƒ¼ãƒ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n    setupStaticCardEvents();\n    // ------------------------------\n    // æ¤œç´¢æ©Ÿèƒ½ï¼ˆã‚µãƒ¼ãƒãƒ¼å´æ¤œç´¢ï¼‰\n    // ------------------------------\n    const searchInput = document.getElementById(\"searchInput\");\n    const searchButton = document.getElementById(\"searchButton\");\n    const promptCardsSection = promptContainer;\n    const selectedCategoryTitle = document.getElementById(\"selected-category-title\");\n    function searchPromptsServer() {\n        if (!searchInput || !promptCardsSection || !selectedCategoryTitle) {\n            return;\n        }\n        const query = searchInput.value.trim();\n        // ã‚¯ã‚¨ãƒªãŒç©ºã®å ´åˆã¯ã€å…¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å†è¡¨ç¤º\n        if (!query) {\n            loadPrompts();\n            selectedCategoryTitle.textContent = \"å…¨ã¦ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\";\n            return;\n        }\n        // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’æ¤œç´¢çµæœç”¨ã«æ›´æ–°\n        selectedCategoryTitle.textContent = `æ¤œç´¢çµæœ: ã€Œ${query}ã€`;\n        fetch(`/search/prompts?q=${encodeURIComponent(query)}`).then((response)=>{\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return response.json();\n        }).then((data)=>{\n            promptCardsSection.innerHTML = \"\"; // æ—¢å­˜ã®ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªã‚¢\n            if (data.prompts && data.prompts.length > 0) {\n                data.prompts.forEach((prompt)=>{\n                    const card = createPromptCardElement(prompt);\n                    promptCardsSection.appendChild(card);\n                });\n            } else {\n                promptCardsSection.innerHTML = \"<p>è©²å½“ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>\";\n            }\n        }).catch((err)=>{\n            console.error(\"æ¤œç´¢ã‚¨ãƒ©ãƒ¼:\", err);\n            promptCardsSection.innerHTML = `<p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${err.message}</p>`;\n        });\n    }\n    if (searchButton && searchInput) {\n        searchButton.addEventListener(\"click\", searchPromptsServer);\n        searchInput.addEventListener(\"keydown\", function(event) {\n            if (event.key === \"Enter\") {\n                event.preventDefault();\n                searchPromptsServer();\n            }\n        });\n    }\n    // ------------------------------\n    // ã‚«ãƒ†ã‚´ãƒªé¸æŠã¨è¡¨ç¤º\n    // ------------------------------\n    const categoryCards = document.querySelectorAll(\".category-card\");\n    if (categoryCards.length > 0 && selectedCategoryTitle) {\n        categoryCards.forEach((card)=>{\n            card.addEventListener(\"click\", ()=>{\n                // æ¤œç´¢çµæœçŠ¶æ…‹ã®å ´åˆã¯ã€æ¤œç´¢å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢ã—æœ€æ–°ã®å…¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å†å–å¾—\n                if (searchInput && searchInput.value.trim() !== \"\") {\n                    searchInput.value = \"\";\n                    loadPrompts().then(()=>{\n                        applyCategoryFilter(card);\n                    });\n                } else {\n                    applyCategoryFilter(card);\n                }\n            });\n        });\n    }\n    // ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ã‚’é©ç”¨ã™ã‚‹é–¢æ•°\n    function applyCategoryFilter(card) {\n        // å…¨ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³ã® active ã‚¯ãƒ©ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ\n        categoryCards.forEach((c)=>c.classList.remove(\"active\"));\n        card.classList.add(\"active\");\n        const selectedCategory = card.getAttribute(\"data-category\");\n        selectedCategoryTitle.textContent = selectedCategory === \"all\" ? \"å…¨ã¦ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\" : `${selectedCategory} ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ`;\n        // è¡¨ç¤ºä¸­ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ãƒ¼ãƒ‰ã«ãƒ•ã‚£ãƒ«ã‚¿ã‚’é©ç”¨\n        const promptCards = document.querySelectorAll(\".prompt-card\");\n        promptCards.forEach((prompt)=>{\n            const promptCategory = prompt.getAttribute(\"data-category\");\n            prompt.style.display = selectedCategory === \"all\" || promptCategory === selectedCategory ? \"block\" : \"none\";\n        });\n    }\n    // ------------------------------\n    // æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å‡¦ç†\n    // ------------------------------\n    const postForm = document.getElementById(\"postForm\");\n    if (postForm) {\n        postForm.addEventListener(\"submit\", function(e) {\n            e.preventDefault();\n            const titleInput = document.getElementById(\"prompt-title\");\n            const categoryInput = document.getElementById(\"prompt-category\");\n            const contentInput = document.getElementById(\"prompt-content\");\n            const authorInput = document.getElementById(\"prompt-author\");\n            if (!titleInput || !categoryInput || !contentInput || !authorInput) {\n                alert(\"ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚\");\n                return;\n            }\n            const title = titleInput.value;\n            const category = categoryInput.value;\n            const content = contentInput.value;\n            const author = authorInput.value;\n            // ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«ä½¿ç”¨ã®ãƒã‚§ãƒƒã‚¯ã¨å€¤å–å¾—\n            const guardrailCheckbox = document.getElementById(\"guardrail-checkbox\");\n            const useGuardrail = guardrailCheckbox ? guardrailCheckbox.checked : false;\n            let input_examples = \"\";\n            let output_examples = \"\";\n            if (useGuardrail) {\n                const inputExample = document.getElementById(\"prompt-input-example\");\n                const outputExample = document.getElementById(\"prompt-output-example\");\n                input_examples = inputExample ? inputExample.value : \"\";\n                output_examples = outputExample ? outputExample.value : \"\";\n            }\n            // ã™ã¹ã¦ã®æŠ•ç¨¿ã‚’å…¬é–‹ã™ã‚‹ãŸã‚ã€å¸¸ã« true ã«è¨­å®š\n            const isPublic = true;\n            const postData = {\n                title: title,\n                category: category,\n                content: content,\n                author: author,\n                input_examples: input_examples,\n                output_examples: output_examples,\n                is_public: isPublic\n            };\n            fetch(\"/prompt_share/api/prompts\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(postData)\n            }).then((response)=>response.json()).then((result)=>{\n                if (result.error) {\n                    alert(\"ã‚¨ãƒ©ãƒ¼: \" + result.error);\n                } else {\n                    alert(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸï¼\");\n                    // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆï¼†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹\n                    postForm.reset();\n                    const guardrailFields = document.getElementById(\"guardrail-fields\");\n                    if (guardrailFields) {\n                        guardrailFields.style.display = \"none\";\n                    }\n                    const postModal = document.getElementById(\"postModal\");\n                    if (postModal) {\n                        postModal.classList.remove(\"show\");\n                    }\n                    triggerNewPromptIconRotation();\n                    // æœ€æ–°ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¸€è¦§ã‚’å†èª­ã¿è¾¼ã¿\n                    loadPrompts();\n                }\n            }).catch((err)=>{\n                console.error(\"æŠ•ç¨¿ã‚¨ãƒ©ãƒ¼:\", err);\n                alert(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŠ•ç¨¿ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n            });\n        });\n    }\n    // ------------------------------\n    // æŠ•ç¨¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤ºãƒ»éè¡¨ç¤º\n    // ------------------------------\n    const openModalBtn = document.getElementById(\"openPostModal\");\n    const postModal = document.getElementById(\"postModal\");\n    const closeModalBtn = document.querySelector(\".close-btn\");\n    const newPromptIcon = openModalBtn ? openModalBtn.querySelector(\"i\") : null;\n    const triggerNewPromptIconRotation = ()=>{\n        if (!newPromptIcon) {\n            return;\n        }\n        newPromptIcon.classList.remove(\"rotating\");\n        void newPromptIcon.offsetWidth;\n        newPromptIcon.classList.add(\"rotating\");\n    };\n    if (newPromptIcon) {\n        newPromptIcon.addEventListener(\"animationend\", ()=>{\n            newPromptIcon.classList.remove(\"rotating\");\n        });\n    }\n    if (openModalBtn && postModal) {\n        openModalBtn.addEventListener(\"click\", function() {\n            if (!isLoggedIn) {\n                alert(\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æŠ•ç¨¿ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚\");\n                return;\n            }\n            triggerNewPromptIconRotation();\n            postModal.classList.add(\"show\");\n        });\n    }\n    if (closeModalBtn && postModal) {\n        closeModalBtn.addEventListener(\"click\", function() {\n            postModal.classList.remove(\"show\");\n            triggerNewPromptIconRotation();\n        });\n    }\n    if (postModal && postModal.dataset.psWindowListener !== \"true\") {\n        postModal.dataset.psWindowListener = \"true\";\n        window.addEventListener(\"click\", function(event) {\n            if (event.target === postModal) {\n                postModal.classList.remove(\"show\");\n                triggerNewPromptIconRotation();\n            }\n        });\n    }\n    // ------------------------------\n    // ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯æ©Ÿèƒ½ï¼ˆã™ã§ã«å­˜åœ¨ã™ã‚‹ã‚«ãƒ¼ãƒ‰ã«å¯¾ã—ã¦ã‚‚ç™»éŒ²ï¼‰\n    // ------------------------------\n    const promptCards = document.querySelectorAll(\".prompt-card\");\n    promptCards.forEach((card)=>{\n        const meta = card.querySelector(\".prompt-meta\");\n        if (!meta) {\n            return;\n        }\n        if (!meta.querySelector(\".prompt-meta-info\")) {\n            const spans = Array.from(meta.querySelectorAll(\"span\"));\n            const metaInfo = document.createElement(\"div\");\n            metaInfo.classList.add(\"prompt-meta-info\");\n            spans.forEach((span)=>metaInfo.appendChild(span));\n            meta.innerHTML = \"\";\n            meta.appendChild(metaInfo);\n        }\n        let bookmarkBtn = meta.querySelector(\".bookmark-btn\");\n        if (!bookmarkBtn) {\n            bookmarkBtn = document.createElement(\"button\");\n            bookmarkBtn.classList.add(\"bookmark-btn\");\n            bookmarkBtn.setAttribute(\"type\", \"button\");\n            bookmarkBtn.setAttribute(\"aria-label\", \"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯\");\n            bookmarkBtn.innerHTML = `<i class=\"bi bi-bookmark\"></i>`;\n            meta.appendChild(bookmarkBtn);\n        }\n        if (bookmarkBtn.dataset.bound === \"true\") {\n            return;\n        }\n        bookmarkBtn.addEventListener(\"click\", function(e) {\n            e.stopPropagation();\n            if (!isLoggedIn) {\n                alert(\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚\");\n                return;\n            }\n            bookmarkBtn.classList.toggle(\"bookmarked\");\n            bookmarkBtn.innerHTML = bookmarkBtn.classList.contains(\"bookmarked\") ? `<i class=\"bi bi-bookmark-fill\"></i>` : `<i class=\"bi bi-bookmark\"></i>`;\n        });\n        bookmarkBtn.dataset.bound = \"true\";\n    });\n    // ------------------------------\n    // ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«ã®è¡¨ç¤ºåˆ‡æ›¿å‡¦ç†\n    // ------------------------------\n    const guardrailCheckbox = document.getElementById(\"guardrail-checkbox\");\n    const guardrailFields = document.getElementById(\"guardrail-fields\");\n    if (guardrailCheckbox && guardrailFields) {\n        guardrailCheckbox.addEventListener(\"change\", function() {\n            guardrailFields.style.display = guardrailCheckbox.checked ? \"block\" : \"none\";\n        });\n    }\n    // ------------------------------\n    // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½\n    // ------------------------------\n    function showPromptDetailModal(prompt) {\n        const modal = document.getElementById(\"promptDetailModal\");\n        const modalTitle = document.getElementById(\"modalPromptTitle\");\n        const modalCategory = document.getElementById(\"modalPromptCategory\");\n        const modalContent = document.getElementById(\"modalPromptContent\");\n        const modalAuthor = document.getElementById(\"modalPromptAuthor\");\n        const modalInputExamples = document.getElementById(\"modalInputExamples\");\n        const modalOutputExamples = document.getElementById(\"modalOutputExamples\");\n        const modalInputExamplesGroup = document.getElementById(\"modalInputExamplesGroup\");\n        const modalOutputExamplesGroup = document.getElementById(\"modalOutputExamplesGroup\");\n        if (!modal || !modalTitle || !modalCategory || !modalContent || !modalAuthor) return;\n        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®š\n        modalTitle.textContent = prompt.title;\n        modalCategory.textContent = prompt.category || \"\";\n        modalContent.textContent = prompt.content;\n        modalAuthor.textContent = prompt.author || \"\";\n        // å…¥åŠ›ä¾‹ãƒ»å‡ºåŠ›ä¾‹ãŒã‚ã‚‹å ´åˆã®ã¿è¡¨ç¤º\n        if (prompt.input_examples && modalInputExamples && modalInputExamplesGroup) {\n            modalInputExamples.textContent = prompt.input_examples;\n            modalInputExamplesGroup.style.display = \"block\";\n        } else if (modalInputExamplesGroup) {\n            modalInputExamplesGroup.style.display = \"none\";\n        }\n        if (prompt.output_examples && modalOutputExamples && modalOutputExamplesGroup) {\n            modalOutputExamples.textContent = prompt.output_examples;\n            modalOutputExamplesGroup.style.display = \"block\";\n        } else if (modalOutputExamplesGroup) {\n            modalOutputExamplesGroup.style.display = \"none\";\n        }\n        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º\n        modal.classList.add(\"show\");\n    }\n    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹æ©Ÿèƒ½\n    const promptDetailModal = document.getElementById(\"promptDetailModal\");\n    const closePromptDetailModalBtn = document.getElementById(\"closePromptDetailModal\");\n    // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹\n    if (closePromptDetailModalBtn && promptDetailModal) {\n        closePromptDetailModalBtn.addEventListener(\"click\", function() {\n            promptDetailModal.classList.remove(\"show\");\n        });\n    }\n    // ãƒ¢ãƒ¼ãƒ€ãƒ«èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹\n    if (promptDetailModal) {\n        promptDetailModal.addEventListener(\"click\", function(e) {\n            if (e.target === promptDetailModal) {\n                promptDetailModal.classList.remove(\"show\");\n            }\n        });\n    }\n}\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", ()=>initPromptSharePage());\n} else {\n    initPromptSharePage();\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHlCQUF5QnhLLEtBQUssQ0FBQ0MsT0FBTyxHQUFHO1FBQzNDLE9BQU8sSUFBSXVLLDBCQUEwQjtZQUNuQ0EseUJBQXlCeEssS0FBSyxDQUFDQyxPQUFPLEdBQUc7UUFDM0M7UUFFQSxVQUFVO1FBQ1YrSixNQUFNOUksU0FBUyxDQUFDb0QsR0FBRyxDQUFDO0lBQ3RCO0lBRUEsYUFBYTtJQUNiLE1BQU1tRyxvQkFBb0IxTCxTQUFTTSxjQUFjLENBQUM7SUFDbEQsTUFBTXFMLDRCQUE0QjNMLFNBQVNNLGNBQWMsQ0FBQztJQUUxRCxrQkFBa0I7SUFDbEIsSUFBSXFMLDZCQUE2QkQsbUJBQW1CO1FBQ2xEQywwQkFBMEIvSSxnQkFBZ0IsQ0FBQyxTQUFTO1lBQ2xEOEksa0JBQWtCdkosU0FBUyxDQUFDQyxNQUFNLENBQUM7UUFDckM7SUFDRjtJQUVBLGlCQUFpQjtJQUNqQixJQUFJc0osbUJBQW1CO1FBQ3JCQSxrQkFBa0I5SSxnQkFBZ0IsQ0FBQyxTQUFTLFNBQVV1RCxDQUFDO1lBQ3JELElBQUlBLEVBQUVvQixNQUFNLEtBQUttRSxtQkFBbUI7Z0JBQ2xDQSxrQkFBa0J2SixTQUFTLENBQUNDLE1BQU0sQ0FBQztZQUNyQztRQUNGO0lBQ0Y7QUFDRjtBQUVBLElBQUlwQyxTQUFTNEwsVUFBVSxLQUFLLFdBQVc7SUFDckM1TCxTQUFTNEMsZ0JBQWdCLENBQUMsb0JBQW9CLElBQU0vQztBQUN0RCxPQUFPO0lBQ0xBO0FBQ0Y7QUFFVSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0cmlrZS1mcm9udGVuZC8uL3NjcmlwdHMvcHJvbXB0X3NoYXJlL3Byb21wdF9zaGFyZS50cz84Y2E0Il0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgUHJvbXB0RGF0YSA9IHtcbiAgaWQ/OiBzdHJpbmcgfCBudW1iZXI7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIGF1dGhvcj86IHN0cmluZztcbiAgaW5wdXRfZXhhbXBsZXM/OiBzdHJpbmc7XG4gIG91dHB1dF9leGFtcGxlcz86IHN0cmluZztcbiAgYm9va21hcmtlZD86IGJvb2xlYW47XG4gIHNhdmVkX3RvX2xpc3Q/OiBib29sZWFuO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xufTtcblxuZnVuY3Rpb24gaW5pdFByb21wdFNoYXJlUGFnZShhdHRlbXB0ID0gMCkge1xuICBjb25zdCBwcm9tcHRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1jYXJkc1wiKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gIGlmICghcHJvbXB0Q29udGFpbmVyKSB7XG4gICAgaWYgKGF0dGVtcHQgPCAxMCkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGluaXRQcm9tcHRTaGFyZVBhZ2UoYXR0ZW1wdCArIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9tcHRDb250YWluZXIuZGF0YXNldC5wc0luaXRpYWxpemVkID09PSBcInRydWVcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBwcm9tcHRDb250YWluZXIuZGF0YXNldC5wc0luaXRpYWxpemVkID0gXCJ0cnVlXCI7XG5cbiAgLy8g44Ot44Kw44Kk44Oz54q25oWL44Gu56K66KqN44GoVUnliIfjgormm7/jgYhcbiAgY29uc3QgdXNlckljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJJY29uXCIpO1xuICBjb25zdCBhdXRoQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0aC1idXR0b25zXCIpO1xuICBsZXQgaXNMb2dnZWRJbiA9IGZhbHNlOyAvLyDjg63jgrDjgqTjg7PnirbmhYvjgpLkv53mjIFcblxuICBmZXRjaChcIi9hcGkvY3VycmVudF91c2VyXCIpXG4gICAgLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiB7IGxvZ2dlZF9pbjogZmFsc2UgfSkpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlzTG9nZ2VkSW4gPSBCb29sZWFuKGRhdGEubG9nZ2VkX2luKTtcbiAgICAgIGlmIChkYXRhLmxvZ2dlZF9pbikge1xuICAgICAgICBpZiAoYXV0aEJ1dHRvbnMpIGF1dGhCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgaWYgKHVzZXJJY29uKSB1c2VySWNvbi5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdXRoQnV0dG9ucykgYXV0aEJ1dHRvbnMuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIGlmICh1c2VySWNvbikgdXNlckljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBjb25zdCBsb2dpbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW4tYnRuXCIpO1xuICAgICAgICBpZiAobG9naW5CdG4pIGxvZ2luQnRuLm9uY2xpY2sgPSAoKSA9PiAod2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9sb2dpblwiKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2hlY2tpbmcgbG9naW4gc3RhdHVzOlwiLCBlcnIpO1xuICAgICAgaWYgKGF1dGhCdXR0b25zKSBhdXRoQnV0dG9ucy5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIGlmICh1c2VySWNvbikgdXNlckljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gIGZ1bmN0aW9uIGNsb3NlQWxsRHJvcGRvd25zKGV4Y2VwdENhcmQ/OiBIVE1MRWxlbWVudCB8IG51bGwpIHtcbiAgICBjb25zdCBvcGVuTWVudXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PihcIi5wcm9tcHQtYWN0aW9ucy1kcm9wZG93bi5pcy1vcGVuXCIpO1xuICAgIG9wZW5NZW51cy5mb3JFYWNoKChtZW51KSA9PiB7XG4gICAgICBpZiAoZXhjZXB0Q2FyZCAmJiBleGNlcHRDYXJkLmNvbnRhaW5zKG1lbnUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImlzLW9wZW5cIik7XG4gICAgICBjb25zdCB0cmlnZ2VyID0gbWVudS5wYXJlbnRFbGVtZW50Py5xdWVyeVNlbGVjdG9yKFwiLm1lYXRiYWxsLW1lbnVcIikgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJlbnRDYXJkID0gbWVudS5jbG9zZXN0KFwiLnByb21wdC1jYXJkXCIpO1xuICAgICAgaWYgKHBhcmVudENhcmQpIHtcbiAgICAgICAgcGFyZW50Q2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwibWVudS1vcGVuXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5kYXRhc2V0LnBzRHJvcGRvd25MaXN0ZW5lciAhPT0gXCJ0cnVlXCIpIHtcbiAgICBkb2N1bWVudC5ib2R5LmRhdGFzZXQucHNEcm9wZG93bkxpc3RlbmVyID0gXCJ0cnVlXCI7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlQWxsRHJvcGRvd25zKCkpO1xuICB9XG5cbiAgY29uc3QgVElUTEVfQ0hBUl9MSU1JVCA9IDE3O1xuICBjb25zdCBDT05URU5UX0NIQVJfTElNSVQgPSAxNjA7XG5cbiAgZnVuY3Rpb24gdHJ1bmNhdGVUZXh0KHRleHQ6IHN0cmluZywgbGltaXQ6IG51bWJlcikge1xuICAgIGNvbnN0IHNhZmVUZXh0ID0gdGV4dCB8fCBcIlwiO1xuICAgIGNvbnN0IGNoYXJzID0gQXJyYXkuZnJvbShzYWZlVGV4dCk7XG4gICAgcmV0dXJuIGNoYXJzLmxlbmd0aCA+IGxpbWl0ID8gY2hhcnMuc2xpY2UoMCwgbGltaXQpLmpvaW4oXCJcIikgKyBcIi4uLlwiIDogc2FmZVRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiB0cnVuY2F0ZVRpdGxlKHRpdGxlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdHJ1bmNhdGVUZXh0KHRpdGxlLCBUSVRMRV9DSEFSX0xJTUlUKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRydW5jYXRlQ29udGVudChjb250ZW50OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdHJ1bmNhdGVUZXh0KGNvbnRlbnQsIENPTlRFTlRfQ0hBUl9MSU1JVCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVCb29rbWFya0J1dHRvblN0YXRlKGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsLCBpc0Jvb2ttYXJrZWQ6IGJvb2xlYW4pIHtcbiAgICBpZiAoIWJ1dHRvbikgcmV0dXJuO1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiYm9va21hcmtlZFwiLCBpc0Jvb2ttYXJrZWQpO1xuICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBpc0Jvb2ttYXJrZWRcbiAgICAgID8gYDxpIGNsYXNzPVwiYmkgYmktYm9va21hcmstZmlsbFwiPjwvaT5gXG4gICAgICA6IGA8aSBjbGFzcz1cImJpIGJpLWJvb2ttYXJrXCI+PC9pPmA7XG4gIH1cblxuICBmdW5jdGlvbiBzZW5kQm9va21hcmtSZXF1ZXN0KG1ldGhvZDogXCJQT1NUXCIgfCBcIkRFTEVURVwiLCBwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICAgIHJldHVybiBmZXRjaChcIi9wcm9tcHRfc2hhcmUvYXBpL2Jvb2ttYXJrXCIsIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIGNyZWRlbnRpYWxzOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICAgIH0pLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBkYXRhLmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8IFwi5pON5L2c44Gr5aSx5pWX44GX44G+44GX44Gf44CCXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlUHJvbXB0Qm9va21hcmsocHJvbXB0OiBQcm9tcHREYXRhKSB7XG4gICAgcmV0dXJuIHNlbmRCb29rbWFya1JlcXVlc3QoXCJQT1NUXCIsIHtcbiAgICAgIHRpdGxlOiBwcm9tcHQudGl0bGUsXG4gICAgICBjb250ZW50OiBwcm9tcHQuY29udGVudCxcbiAgICAgIGlucHV0X2V4YW1wbGVzOiBwcm9tcHQuaW5wdXRfZXhhbXBsZXMgfHwgXCJcIixcbiAgICAgIG91dHB1dF9leGFtcGxlczogcHJvbXB0Lm91dHB1dF9leGFtcGxlcyB8fCBcIlwiXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVQcm9tcHRCb29rbWFyayhwcm9tcHQ6IFByb21wdERhdGEpIHtcbiAgICByZXR1cm4gc2VuZEJvb2ttYXJrUmVxdWVzdChcIkRFTEVURVwiLCB7XG4gICAgICB0aXRsZTogcHJvbXB0LnRpdGxlXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlUHJvbXB0VG9MaXN0KHByb21wdDogUHJvbXB0RGF0YSkge1xuICAgIHJldHVybiBmZXRjaChcIi9wcm9tcHRfc2hhcmUvYXBpL3Byb21wdF9saXN0XCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9tcHRfaWQ6IHByb21wdC5pZCA/PyBudWxsLFxuICAgICAgICB0aXRsZTogcHJvbXB0LnRpdGxlLFxuICAgICAgICBjYXRlZ29yeTogcHJvbXB0LmNhdGVnb3J5IHx8IFwiXCIsXG4gICAgICAgIGNvbnRlbnQ6IHByb21wdC5jb250ZW50LFxuICAgICAgICBpbnB1dF9leGFtcGxlczogcHJvbXB0LmlucHV0X2V4YW1wbGVzIHx8IFwiXCIsXG4gICAgICAgIG91dHB1dF9leGFtcGxlczogcHJvbXB0Lm91dHB1dF9leGFtcGxlcyB8fCBcIlwiXG4gICAgICB9KVxuICAgIH0pLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBkYXRhLmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8IFwi5pON5L2c44Gr5aSx5pWX44GX44G+44GX44Gf44CCXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcm9tcHRDYXJkRWxlbWVudChwcm9tcHQ6IFByb21wdERhdGEpIHtcbiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjYXJkLmNsYXNzTGlzdC5hZGQoXCJwcm9tcHQtY2FyZFwiKTtcbiAgICBpZiAocHJvbXB0LmNhdGVnb3J5KSB7XG4gICAgICBjYXJkLnNldEF0dHJpYnV0ZShcImRhdGEtY2F0ZWdvcnlcIiwgcHJvbXB0LmNhdGVnb3J5KTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Jvb2ttYXJrZWQgPSBCb29sZWFuKHByb21wdC5ib29rbWFya2VkKTtcbiAgICBjb25zdCBpc1NhdmVkVG9MaXN0ID0gQm9vbGVhbihwcm9tcHQuc2F2ZWRfdG9fbGlzdCk7XG4gICAgY29uc3QgYm9va21hcmtJY29uID0gaXNCb29rbWFya2VkXG4gICAgICA/IGA8aSBjbGFzcz1cImJpIGJpLWJvb2ttYXJrLWZpbGxcIj48L2k+YFxuICAgICAgOiBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFya1wiPjwvaT5gO1xuXG4gICAgY29uc3QgdHJ1bmNhdGVkQ29udGVudCA9IHRydW5jYXRlQ29udGVudChwcm9tcHQuY29udGVudCk7XG5cbiAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgIDxidXR0b24gY2xhc3M9XCJtZWF0YmFsbC1tZW51XCIgdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCLjgZ3jga7ku5bjga7mk43kvZxcIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuICAgICAgICA8aSBjbGFzcz1cImJpIGJpLXRocmVlLWRvdHNcIj48L2k+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgPGRpdiBjbGFzcz1cInByb21wdC1hY3Rpb25zLWRyb3Bkb3duXCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiB0eXBlPVwiYnV0dG9uXCIgcm9sZT1cIm1lbnVpdGVtXCIgZGF0YS1hY3Rpb249XCJzYXZlLXRvLWxpc3RcIj7jg5fjg63jg7Pjg5fjg4jjg6rjgrnjg4jjgavkv53lrZg8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiB0eXBlPVwiYnV0dG9uXCIgcm9sZT1cIm1lbnVpdGVtXCI+44Of44Ol44O844OIPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgdHlwZT1cImJ1dHRvblwiIHJvbGU9XCJtZW51aXRlbVwiPuWgseWRiuOBmeOCizwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxoMz4ke3RydW5jYXRlVGl0bGUocHJvbXB0LnRpdGxlKX08L2gzPlxuICAgICAgPHAgY2xhc3M9XCJwcm9tcHQtY2FyZF9fY29udGVudFwiPiR7dHJ1bmNhdGVkQ29udGVudH08L3A+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtbWV0YVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LW1ldGEtaW5mb1wiPlxuICAgICAgICAgIDxzcGFuPuOCq+ODhuOCtOODqjogJHtwcm9tcHQuY2F0ZWdvcnl9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPuaKleeov+iAhTogJHtwcm9tcHQuYXV0aG9yfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtYWN0aW9uc1wiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwcm9tcHQtYWN0aW9uLWJ0biBjb21tZW50LWJ0blwiIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwi44Kz44Oh44Oz44OIXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImJpIGJpLWNoYXQtZG90c1wiPjwvaT5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHJvbXB0LWFjdGlvbi1idG4gbGlrZS1idG5cIiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIuOBhOOBhOOBrVwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1oZWFydFwiPjwvaT5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHJvbXB0LWFjdGlvbi1idG4gYm9va21hcmstYnRuICR7aXNCb29rbWFya2VkID8gXCJib29rbWFya2VkXCIgOiBcIlwifVwiIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwi44OW44OD44Kv44Oe44O844KvXCI+XG4gICAgICAgICAgICAke2Jvb2ttYXJrSWNvbn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgY2FyZC5kYXRhc2V0LmZ1bGxUaXRsZSA9IHByb21wdC50aXRsZSB8fCBcIlwiO1xuICAgIGNhcmQuZGF0YXNldC5mdWxsQ29udGVudCA9IHByb21wdC5jb250ZW50IHx8IFwiXCI7XG4gICAgY2FyZC5kYXRhc2V0LnNhdmVkVG9MaXN0ID0gaXNTYXZlZFRvTGlzdCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgIGNhcmQuZGF0YXNldC5wc0JvdW5kID0gXCJ0cnVlXCI7XG5cbiAgICBjb25zdCBib29rbWFya0J0biA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5ib29rbWFyay1idG5cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGlmIChib29rbWFya0J0bikge1xuICAgICAgYm9va21hcmtCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmICghaXNMb2dnZWRJbikge1xuICAgICAgICAgIGFsZXJ0KFwi44OW44OD44Kv44Oe44O844Kv44GZ44KL44Gr44Gv44Ot44Kw44Kk44Oz44GM5b+F6KaB44Gn44GZ44CCXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNob3VsZEJvb2ttYXJrID0gIWJvb2ttYXJrQnRuLmNsYXNzTGlzdC5jb250YWlucyhcImJvb2ttYXJrZWRcIik7XG4gICAgICAgIGJvb2ttYXJrQnRuLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc2hvdWxkQm9va21hcmsgPyBzYXZlUHJvbXB0Qm9va21hcmsocHJvbXB0KSA6IHJlbW92ZVByb21wdEJvb2ttYXJrKHByb21wdCk7XG5cbiAgICAgICAgcmVxdWVzdFxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUJvb2ttYXJrQnV0dG9uU3RhdGUoYm9va21hcmtCdG4sIHNob3VsZEJvb2ttYXJrKTtcbiAgICAgICAgICAgIHByb21wdC5ib29rbWFya2VkID0gc2hvdWxkQm9va21hcms7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi44OW44OD44Kv44Oe44O844Kv5pON5L2c44Ko44Op44O8OlwiLCBlcnIpO1xuICAgICAgICAgICAgYWxlcnQoXCLjg5bjg4Pjgq/jg57jg7zjgq/jga7mm7TmlrDkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ/jgIJcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBib29rbWFya0J0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBib29rbWFya0J0bi5kYXRhc2V0LmJvdW5kID0gXCJ0cnVlXCI7XG4gICAgfVxuXG4gICAgY29uc3QgY29tbWVudEJ0biA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5jb21tZW50LWJ0blwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKGNvbW1lbnRCdG4pIHtcbiAgICAgIGNvbW1lbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBsaWtlQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmxpa2UtYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBpZiAobGlrZUJ0bikge1xuICAgICAgbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgbGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwibGlrZWRcIik7XG4gICAgICAgIGNvbnN0IGljb24gPSBsaWtlQnRuLnF1ZXJ5U2VsZWN0b3IoXCJpXCIpO1xuICAgICAgICBpZiAoaWNvbikge1xuICAgICAgICAgIGljb24uY2xhc3NMaXN0LnRvZ2dsZShcImJpLWhlYXJ0XCIpO1xuICAgICAgICAgIGljb24uY2xhc3NMaXN0LnRvZ2dsZShcImJpLWhlYXJ0LWZpbGxcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IG1lYXRiYWxsQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLm1lYXRiYWxsLW1lbnVcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGNvbnN0IGRyb3Bkb3duTWVudSA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5wcm9tcHQtYWN0aW9ucy1kcm9wZG93blwiKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKG1lYXRiYWxsQnRuICYmIGRyb3Bkb3duTWVudSkge1xuICAgICAgbWVhdGJhbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHdpbGxPcGVuID0gIWRyb3Bkb3duTWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1vcGVuXCIpO1xuICAgICAgICBjbG9zZUFsbERyb3Bkb3ducyhjYXJkKTtcbiAgICAgICAgZHJvcGRvd25NZW51LmNsYXNzTGlzdC50b2dnbGUoXCJpcy1vcGVuXCIsIHdpbGxPcGVuKTtcbiAgICAgICAgbWVhdGJhbGxCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCB3aWxsT3BlbiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwibWVudS1vcGVuXCIsIHdpbGxPcGVuKTtcbiAgICAgIH0pO1xuXG4gICAgICBkcm9wZG93bk1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgICBkcm9wZG93bk1lbnUucXVlcnlTZWxlY3RvckFsbDxIVE1MQnV0dG9uRWxlbWVudD4oXCIuZHJvcGRvd24taXRlbVwiKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGRyb3Bkb3duTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtb3BlblwiKTtcbiAgICAgICAgICBtZWF0YmFsbEJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwibWVudS1vcGVuXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzYXZlTWVudUl0ZW0gPSBkcm9wZG93bk1lbnUucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJ1tkYXRhLWFjdGlvbj1cInNhdmUtdG8tbGlzdFwiXScpO1xuICAgICAgaWYgKHNhdmVNZW51SXRlbSkge1xuICAgICAgICBzYXZlTWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICBpZiAoIWlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIGFsZXJ0KFwi44OX44Ot44Oz44OX44OI44KS5L+d5a2Y44GZ44KL44Gr44Gv44Ot44Kw44Kk44Oz44GM5b+F6KaB44Gn44GZ44CCXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9tcHQuc2F2ZWRfdG9fbGlzdCkge1xuICAgICAgICAgICAgYWxlcnQoXCLjgZPjga7jg5fjg63jg7Pjg5fjg4jjga/jgZnjgafjgavjg5fjg63jg7Pjg5fjg4jjg6rjgrnjg4jjgavkv53lrZjjgZXjgozjgabjgYTjgb7jgZnjgIJcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2F2ZU1lbnVJdGVtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBzYXZlUHJvbXB0VG9MaXN0KHByb21wdClcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgcHJvbXB0LnNhdmVkX3RvX2xpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICBjYXJkLmRhdGFzZXQuc2F2ZWRUb0xpc3QgPSBcInRydWVcIjtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLjg5fjg63jg7Pjg5fjg4jkv53lrZjkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ86XCIsIGVycik7XG4gICAgICAgICAgICAgIGFsZXJ0KFwi44OX44Ot44Oz44OX44OI44Oq44K544OI44G444Gu5L+d5a2Y5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44Gf44CCXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgc2F2ZU1lbnVJdGVtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKHRhcmdldD8uY2xvc2VzdChcIi5wcm9tcHQtYWN0aW9uLWJ0blwiKSB8fCB0YXJnZXQ/LmNsb3Nlc3QoXCIubWVhdGJhbGwtbWVudVwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbG9zZUFsbERyb3Bkb3ducygpO1xuICAgICAgc2hvd1Byb21wdERldGFpbE1vZGFsKHByb21wdCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2FyZDtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDjgrXjg7zjg5Djg7zjgYvjgonjg5fjg63jg7Pjg5fjg4jkuIDopqfjgpLlj5blvpfjgZfjgabooajnpLrjgZnjgovplqLmlbDvvIhQcm9taXNlIOOCkui/lOOBme+8iVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgZnVuY3Rpb24gbG9hZFByb21wdHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiL3Byb21wdF9zaGFyZS9hcGkvcHJvbXB0c1wiKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIXByb21wdENvbnRhaW5lcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9tcHRDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjsgLy8g5pei5a2Y44Gu44Kr44O844OJ44KS44Kv44Oq44KiXG5cbiAgICAgICAgaWYgKGRhdGEucHJvbXB0cykge1xuICAgICAgICAgIGRhdGEucHJvbXB0cy5mb3JFYWNoKChwcm9tcHQ6IFByb21wdERhdGEpID0+IHtcbiAgICAgICAgICAgIHByb21wdC5ib29rbWFya2VkID0gQm9vbGVhbihwcm9tcHQuYm9va21hcmtlZCk7XG4gICAgICAgICAgICBwcm9tcHQuc2F2ZWRfdG9fbGlzdCA9IEJvb2xlYW4ocHJvbXB0LnNhdmVkX3RvX2xpc3QpO1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZVByb21wdENhcmRFbGVtZW50KHByb21wdCk7XG4gICAgICAgICAgICBwcm9tcHRDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbXB0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiPHA+44OX44Ot44Oz44OX44OI44GM6KaL44Gk44GL44KK44G+44Gb44KT44Gn44GX44Gf44CCPC9wPlwiO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuODl+ODreODs+ODl+ODiOWPluW+l+OCqOODqeODvDpcIiwgZXJyKTtcbiAgICAgICAgaWYgKHByb21wdENvbnRhaW5lcikge1xuICAgICAgICAgIHByb21wdENvbnRhaW5lci5pbm5lckhUTUwgPSBgPHA+44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfOiAke2Vyci5tZXNzYWdlfTwvcD5gO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIOWIneWbnuODreODvOODieaZguOBq+ODl+ODreODs+ODl+ODiOS4gOimp+OCkuWPluW+l1xuICBsb2FkUHJvbXB0cygpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDpnZnnmoTjg5fjg63jg7Pjg5fjg4jjgqvjg7zjg4njga7jgqTjg5njg7Pjg4jjg4/jg7Pjg4njg6njgpLov73liqDvvIjjg4bjgrnjg4jnlKjvvIlcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGZ1bmN0aW9uIHNldHVwU3RhdGljQ2FyZEV2ZW50cygpIHtcbiAgICBjb25zdCBzdGF0aWNDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KFwiLnByb21wdC1jYXJkXCIpO1xuICAgIHN0YXRpY0NhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGlmIChjYXJkLmRhdGFzZXQucHNCb3VuZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdGl0bGVFbGVtID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiaDNcIik7XG4gICAgICBpZiAodGl0bGVFbGVtKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxUaXRsZSA9IHRpdGxlRWxlbS50ZXh0Q29udGVudCB8fCBcIlwiO1xuICAgICAgICB0aXRsZUVsZW0uZGF0YXNldC5mdWxsVGl0bGUgPSBmdWxsVGl0bGU7XG4gICAgICAgIHRpdGxlRWxlbS50ZXh0Q29udGVudCA9IHRydW5jYXRlVGl0bGUoZnVsbFRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29udGVudEVsZW0gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCJwXCIpO1xuICAgICAgaWYgKGNvbnRlbnRFbGVtKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxDb250ZW50ID0gY29udGVudEVsZW0udGV4dENvbnRlbnQgfHwgXCJcIjtcbiAgICAgICAgY29udGVudEVsZW0uZGF0YXNldC5mdWxsQ29udGVudCA9IGZ1bGxDb250ZW50O1xuICAgICAgICBjb250ZW50RWxlbS50ZXh0Q29udGVudCA9IHRydW5jYXRlQ29udGVudChmdWxsQ29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1ldGEgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0LW1ldGFcIik7XG4gICAgICBpZiAobWV0YSAmJiAhbWV0YS5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1tZXRhLWluZm9cIikpIHtcbiAgICAgICAgY29uc3Qgc3BhbnMgPSBBcnJheS5mcm9tKG1ldGEucXVlcnlTZWxlY3RvckFsbChcInNwYW5cIikpO1xuICAgICAgICBjb25zdCBtZXRhSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1ldGFJbmZvLmNsYXNzTGlzdC5hZGQoXCJwcm9tcHQtbWV0YS1pbmZvXCIpO1xuICAgICAgICBzcGFucy5mb3JFYWNoKChzcGFuKSA9PiBtZXRhSW5mby5hcHBlbmRDaGlsZChzcGFuKSk7XG4gICAgICAgIG1ldGEuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgbWV0YS5hcHBlbmRDaGlsZChtZXRhSW5mbyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbW1lbnRCdG4gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY29tbWVudC1idG5cIik7XG4gICAgICBpZiAoY29tbWVudEJ0bikge1xuICAgICAgICBjb21tZW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsaWtlQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmxpa2UtYnRuXCIpO1xuICAgICAgaWYgKGxpa2VCdG4pIHtcbiAgICAgICAgbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGxpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImxpa2VkXCIpO1xuICAgICAgICAgIGNvbnN0IGljb24gPSBsaWtlQnRuLnF1ZXJ5U2VsZWN0b3IoXCJpXCIpO1xuICAgICAgICAgIGlmIChpY29uKSB7XG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJiaS1oZWFydFwiKTtcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LnRvZ2dsZShcImJpLWhlYXJ0LWZpbGxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWVhdGJhbGxCdG4gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIubWVhdGJhbGwtbWVudVwiKTtcbiAgICAgIGNvbnN0IGRyb3Bkb3duTWVudSA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5wcm9tcHQtYWN0aW9ucy1kcm9wZG93blwiKTtcbiAgICAgIGlmIChtZWF0YmFsbEJ0biAmJiBkcm9wZG93bk1lbnUpIHtcbiAgICAgICAgbWVhdGJhbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBjb25zdCB3aWxsT3BlbiA9ICFkcm9wZG93bk1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtb3BlblwiKTtcbiAgICAgICAgICBjbG9zZUFsbERyb3Bkb3ducyhjYXJkKTtcbiAgICAgICAgICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImlzLW9wZW5cIiwgd2lsbE9wZW4pO1xuICAgICAgICAgIG1lYXRiYWxsQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgd2lsbE9wZW4gPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gICAgICAgICAgY2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwibWVudS1vcGVuXCIsIHdpbGxPcGVuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZHJvcGRvd25NZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZHJvcGRvd25NZW51LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJvcGRvd24taXRlbVwiKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGRyb3Bkb3duTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtb3BlblwiKTtcbiAgICAgICAgICAgIG1lYXRiYWxsQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtb3BlblwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJvb2ttYXJrQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmJvb2ttYXJrLWJ0blwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgICBpZiAoYm9va21hcmtCdG4pIHtcbiAgICAgICAgYm9va21hcmtCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBpZiAoIWlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIGFsZXJ0KFwi44OW44OD44Kv44Oe44O844Kv44GZ44KL44Gr44Gv44Ot44Kw44Kk44Oz44GM5b+F6KaB44Gn44GZ44CCXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib29rbWFya0J0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYm9va21hcmtlZFwiKTtcbiAgICAgICAgICBib29rbWFya0J0bi5pbm5lckhUTUwgPSBib29rbWFya0J0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJib29rbWFya2VkXCIpXG4gICAgICAgICAgICA/IGA8aSBjbGFzcz1cImJpIGJpLWJvb2ttYXJrLWZpbGxcIj48L2k+YFxuICAgICAgICAgICAgOiBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFya1wiPjwvaT5gO1xuICAgICAgICB9KTtcbiAgICAgICAgYm9va21hcmtCdG4uZGF0YXNldC5ib3VuZCA9IFwidHJ1ZVwiO1xuICAgICAgfVxuXG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgaWYgKHRhcmdldD8uY2xvc2VzdChcIi5wcm9tcHQtYWN0aW9uLWJ0blwiKSB8fCB0YXJnZXQ/LmNsb3Nlc3QoXCIubWVhdGJhbGwtbWVudVwiKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOmdmeeahOOCq+ODvOODieOBruODh+ODvOOCv+OCkuWPluW+l1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlRWxlbSA/IHRpdGxlRWxlbS5kYXRhc2V0LmZ1bGxUaXRsZSB8fCB0aXRsZUVsZW0udGV4dENvbnRlbnQgfHwgXCJcIiA6IFwiXCI7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50RWxlbSA/IGNvbnRlbnRFbGVtLmRhdGFzZXQuZnVsbENvbnRlbnQgfHwgY29udGVudEVsZW0udGV4dENvbnRlbnQgfHwgXCJcIiA6IFwiXCI7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2FyZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhdGVnb3J5XCIpIHx8IFwiXCI7XG4gICAgICAgIGNvbnN0IGF1dGhvclNwYW4gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0LW1ldGEgc3BhbjpsYXN0LWNoaWxkXCIpO1xuICAgICAgICBjb25zdCBhdXRob3IgPSBhdXRob3JTcGFuID8gYXV0aG9yU3Bhbi50ZXh0Q29udGVudD8ucmVwbGFjZShcIuaKleeov+iAhTogXCIsIFwiXCIpIHx8IFwi5LiN5piOXCIgOiBcIuS4jeaYjlwiO1xuXG4gICAgICAgIC8vIOaooeaTrOODl+ODreODs+ODl+ODiOODh+ODvOOCv+OCkuS9nOaIkFxuICAgICAgICBjb25zdCBtb2NrUHJvbXB0OiBQcm9tcHREYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgICBhdXRob3I6IGF1dGhvcixcbiAgICAgICAgICBpbnB1dF9leGFtcGxlczpcbiAgICAgICAgICAgIHRpdGxlID09PSBcIuWRiueZveOBruOCouODieODkOOCpOOCuVwiXG4gICAgICAgICAgICAgID8gXCLlpb3jgY3jgarkurrjgavlkYrnmb3jgZfjgZ/jgYTjgafjgZnjgILjganjga7jgojjgYbjgavmsJfmjIHjgaHjgpLkvJ3jgYjjgozjgbDjgojjgYTjgafjgZfjgofjgYbjgYvvvJ9cIlxuICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgb3V0cHV0X2V4YW1wbGVzOlxuICAgICAgICAgICAgdGl0bGUgPT09IFwi5ZGK55m944Gu44Ki44OJ44OQ44Kk44K5XCJcbiAgICAgICAgICAgICAgPyBcIue0oOebtOOBquawl+aMgeOBoeOBp+OAgeebuOaJi+OBruOBk+OBqOOCkuaAneOBhOOChOOCiuOBquOBjOOCieOAjOOBguOBquOBn+OBqOS4gOe3kuOBq+OBhOOCi+OBqOOBqOOBpuOCguW5uOOBm+OBp+OBmeOAguOBiuS7mOOBjeWQiOOBhOOBl+OBpuOBhOOBn+OBoOOBkeOBvuOBm+OCk+OBi++8n+OAjeOBqOOBhOOBo+OBn+iqoOWun+OBquiogOiRieOBp+S8neOBiOOCi+OBk+OBqOOCkuOBiuWLp+OCgeOBl+OBvuOBmeOAglwiXG4gICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIGNsb3NlQWxsRHJvcGRvd25zKCk7XG4gICAgICAgIHNob3dQcm9tcHREZXRhaWxNb2RhbChtb2NrUHJvbXB0KTtcbiAgICAgIH0pO1xuICAgICAgY2FyZC5kYXRhc2V0LnBzQm91bmQgPSBcInRydWVcIjtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOmdmeeahOOCq+ODvOODieOBruOCpOODmeODs+ODiOOCkuOCu+ODg+ODiOOCouODg+ODl1xuICBzZXR1cFN0YXRpY0NhcmRFdmVudHMoKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8g5qSc57Si5qmf6IO977yI44K144O844OQ44O85YG05qSc57Si77yJXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoSW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gIGNvbnN0IHNlYXJjaEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoQnV0dG9uXCIpO1xuICBjb25zdCBwcm9tcHRDYXJkc1NlY3Rpb24gPSBwcm9tcHRDb250YWluZXI7XG4gIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnlUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0ZWQtY2F0ZWdvcnktdGl0bGVcIik7XG5cbiAgZnVuY3Rpb24gc2VhcmNoUHJvbXB0c1NlcnZlcigpIHtcbiAgICBpZiAoIXNlYXJjaElucHV0IHx8ICFwcm9tcHRDYXJkc1NlY3Rpb24gfHwgIXNlbGVjdGVkQ2F0ZWdvcnlUaXRsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHNlYXJjaElucHV0LnZhbHVlLnRyaW0oKTtcblxuICAgIC8vIOOCr+OCqOODquOBjOepuuOBruWgtOWQiOOBr+OAgeWFqOODl+ODreODs+ODl+ODiOOCkuWGjeihqOekulxuICAgIGlmICghcXVlcnkpIHtcbiAgICAgIGxvYWRQcm9tcHRzKCk7XG4gICAgICBzZWxlY3RlZENhdGVnb3J5VGl0bGUudGV4dENvbnRlbnQgPSBcIuWFqOOBpuOBruODl+ODreODs+ODl+ODiFwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOODmOODg+ODgOODvOOCkuaknOe0oue1kOaenOeUqOOBq+abtOaWsFxuICAgIHNlbGVjdGVkQ2F0ZWdvcnlUaXRsZS50ZXh0Q29udGVudCA9IGDmpJzntKLntZDmnpw6IOOAjCR7cXVlcnl944CNYDtcblxuICAgIGZldGNoKGAvc2VhcmNoL3Byb21wdHM/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YClcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcHJvbXB0Q2FyZHNTZWN0aW9uLmlubmVySFRNTCA9IFwiXCI7IC8vIOaXouWtmOOBruOCq+ODvOODieOCkuOCr+ODquOColxuICAgICAgICBpZiAoZGF0YS5wcm9tcHRzICYmIGRhdGEucHJvbXB0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGF0YS5wcm9tcHRzLmZvckVhY2goKHByb21wdDogUHJvbXB0RGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZVByb21wdENhcmRFbGVtZW50KHByb21wdCk7XG4gICAgICAgICAgICBwcm9tcHRDYXJkc1NlY3Rpb24uYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbXB0Q2FyZHNTZWN0aW9uLmlubmVySFRNTCA9IFwiPHA+6Kmy5b2T44GZ44KL44OX44Ot44Oz44OX44OI44GM6KaL44Gk44GL44KK44G+44Gb44KT44Gn44GX44Gf44CCPC9wPlwiO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuaknOe0ouOCqOODqeODvDpcIiwgZXJyKTtcbiAgICAgICAgcHJvbXB0Q2FyZHNTZWN0aW9uLmlubmVySFRNTCA9IGA8cD7jgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ86ICR7ZXJyLm1lc3NhZ2V9PC9wPmA7XG4gICAgICB9KTtcbiAgfVxuXG4gIGlmIChzZWFyY2hCdXR0b24gJiYgc2VhcmNoSW5wdXQpIHtcbiAgICBzZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNlYXJjaFByb21wdHNTZXJ2ZXIpO1xuICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlYXJjaFByb21wdHNTZXJ2ZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDjgqvjg4bjgrTjg6rpgbjmip7jgajooajnpLpcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbnN0IGNhdGVnb3J5Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PihcIi5jYXRlZ29yeS1jYXJkXCIpO1xuICBpZiAoY2F0ZWdvcnlDYXJkcy5sZW5ndGggPiAwICYmIHNlbGVjdGVkQ2F0ZWdvcnlUaXRsZSkge1xuICAgIGNhdGVnb3J5Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAvLyDmpJzntKLntZDmnpznirbmhYvjga7loLTlkIjjga/jgIHmpJzntKLlhaXlipvjgpLjgq/jg6rjgqLjgZfmnIDmlrDjga7lhajjg5fjg63jg7Pjg5fjg4jjgpLlho3lj5blvpdcbiAgICAgICAgaWYgKHNlYXJjaElucHV0ICYmIHNlYXJjaElucHV0LnZhbHVlLnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgIHNlYXJjaElucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICBsb2FkUHJvbXB0cygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgYXBwbHlDYXRlZ29yeUZpbHRlcihjYXJkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcHBseUNhdGVnb3J5RmlsdGVyKGNhcmQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIOOCq+ODhuOCtOODquODleOCo+ODq+OCv+OCkumBqeeUqOOBmeOCi+mWouaVsFxuICBmdW5jdGlvbiBhcHBseUNhdGVnb3J5RmlsdGVyKGNhcmQ6IEhUTUxFbGVtZW50KSB7XG4gICAgLy8g5YWo44Kr44OG44K044Oq44Oc44K/44Oz44GuIGFjdGl2ZSDjgq/jg6njgrnjgpLjg6rjgrvjg4Pjg4hcbiAgICBjYXRlZ29yeUNhcmRzLmZvckVhY2goKGMpID0+IGMuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yeSA9IGNhcmQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jYXRlZ29yeVwiKTtcbiAgICBzZWxlY3RlZENhdGVnb3J5VGl0bGUhLnRleHRDb250ZW50ID1cbiAgICAgIHNlbGVjdGVkQ2F0ZWdvcnkgPT09IFwiYWxsXCIgPyBcIuWFqOOBpuOBruODl+ODreODs+ODl+ODiFwiIDogYCR7c2VsZWN0ZWRDYXRlZ29yeX0g44Gu44OX44Ot44Oz44OX44OIYDtcblxuICAgIC8vIOihqOekuuS4reOBruODl+ODreODs+ODl+ODiOOCq+ODvOODieOBq+ODleOCo+ODq+OCv+OCkumBqeeUqFxuICAgIGNvbnN0IHByb21wdENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIucHJvbXB0LWNhcmRcIik7XG4gICAgcHJvbXB0Q2FyZHMuZm9yRWFjaCgocHJvbXB0KSA9PiB7XG4gICAgICBjb25zdCBwcm9tcHRDYXRlZ29yeSA9IHByb21wdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNhdGVnb3J5XCIpO1xuICAgICAgcHJvbXB0LnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5ID09PSBcImFsbFwiIHx8IHByb21wdENhdGVnb3J5ID09PSBzZWxlY3RlZENhdGVnb3J5ID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgfSk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8g5oqV56i/44OV44Kp44O844Og44Gu6YCB5L+h5Yem55CGXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25zdCBwb3N0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdEZvcm1cIikgYXMgSFRNTEZvcm1FbGVtZW50IHwgbnVsbDtcbiAgaWYgKHBvc3RGb3JtKSB7XG4gICAgcG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHQtdGl0bGVcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICBjb25zdCBjYXRlZ29yeUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHQtY2F0ZWdvcnlcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICBjb25zdCBjb250ZW50SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb21wdC1jb250ZW50XCIpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBudWxsO1xuICAgICAgY29uc3QgYXV0aG9ySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb21wdC1hdXRob3JcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICBpZiAoIXRpdGxlSW5wdXQgfHwgIWNhdGVnb3J5SW5wdXQgfHwgIWNvbnRlbnRJbnB1dCB8fCAhYXV0aG9ySW5wdXQpIHtcbiAgICAgICAgYWxlcnQoXCLjg5Xjgqnjg7zjg6DopoHntKDjgYzopovjgaTjgYvjgorjgb7jgZvjgpPjgafjgZfjgZ/jgILjg5rjg7zjgrjjgpLlho3oqq3jgb/ovrzjgb/jgZfjgabjgY/jgaDjgZXjgYTjgIJcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZUlucHV0LnZhbHVlO1xuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yeUlucHV0LnZhbHVlO1xuICAgICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRJbnB1dC52YWx1ZTtcbiAgICAgIGNvbnN0IGF1dGhvciA9IGF1dGhvcklucHV0LnZhbHVlO1xuXG4gICAgICAvLyDjgqzjg7zjg4njg6zjg7zjg6vkvb/nlKjjga7jg4Hjgqfjg4Pjgq/jgajlgKTlj5blvpdcbiAgICAgIGNvbnN0IGd1YXJkcmFpbENoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZHJhaWwtY2hlY2tib3hcIikgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICBjb25zdCB1c2VHdWFyZHJhaWwgPSBndWFyZHJhaWxDaGVja2JveCA/IGd1YXJkcmFpbENoZWNrYm94LmNoZWNrZWQgOiBmYWxzZTtcbiAgICAgIGxldCBpbnB1dF9leGFtcGxlcyA9IFwiXCI7XG4gICAgICBsZXQgb3V0cHV0X2V4YW1wbGVzID0gXCJcIjtcbiAgICAgIGlmICh1c2VHdWFyZHJhaWwpIHtcbiAgICAgICAgY29uc3QgaW5wdXRFeGFtcGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHQtaW5wdXQtZXhhbXBsZVwiKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgY29uc3Qgb3V0cHV0RXhhbXBsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvbXB0LW91dHB1dC1leGFtcGxlXCIpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBudWxsO1xuICAgICAgICBpbnB1dF9leGFtcGxlcyA9IGlucHV0RXhhbXBsZSA/IGlucHV0RXhhbXBsZS52YWx1ZSA6IFwiXCI7XG4gICAgICAgIG91dHB1dF9leGFtcGxlcyA9IG91dHB1dEV4YW1wbGUgPyBvdXRwdXRFeGFtcGxlLnZhbHVlIDogXCJcIjtcbiAgICAgIH1cblxuICAgICAgLy8g44GZ44G544Gm44Gu5oqV56i/44KS5YWs6ZaL44GZ44KL44Gf44KB44CB5bi444GrIHRydWUg44Gr6Kit5a6aXG4gICAgICBjb25zdCBpc1B1YmxpYyA9IHRydWU7XG5cbiAgICAgIGNvbnN0IHBvc3REYXRhID0ge1xuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgYXV0aG9yOiBhdXRob3IsXG4gICAgICAgIGlucHV0X2V4YW1wbGVzOiBpbnB1dF9leGFtcGxlcyxcbiAgICAgICAgb3V0cHV0X2V4YW1wbGVzOiBvdXRwdXRfZXhhbXBsZXMsXG4gICAgICAgIGlzX3B1YmxpYzogaXNQdWJsaWNcbiAgICAgIH07XG5cbiAgICAgIGZldGNoKFwiL3Byb21wdF9zaGFyZS9hcGkvcHJvbXB0c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwb3N0RGF0YSlcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgYWxlcnQoXCLjgqjjg6njg7w6IFwiICsgcmVzdWx0LmVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoXCLjg5fjg63jg7Pjg5fjg4jjgYzmipXnqL/jgZXjgozjgb7jgZfjgZ/vvIFcIik7XG4gICAgICAgICAgICAvLyDjg5Xjgqnjg7zjg6Djg6rjgrvjg4Pjg4jvvIbjg6Ljg7zjg4Djg6vjgpLplonjgZjjgotcbiAgICAgICAgICAgIHBvc3RGb3JtLnJlc2V0KCk7XG4gICAgICAgICAgICBjb25zdCBndWFyZHJhaWxGaWVsZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1YXJkcmFpbC1maWVsZHNcIik7XG4gICAgICAgICAgICBpZiAoZ3VhcmRyYWlsRmllbGRzKSB7XG4gICAgICAgICAgICAgIGd1YXJkcmFpbEZpZWxkcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RNb2RhbFwiKTtcbiAgICAgICAgICAgIGlmIChwb3N0TW9kYWwpIHtcbiAgICAgICAgICAgICAgcG9zdE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJpZ2dlck5ld1Byb21wdEljb25Sb3RhdGlvbigpO1xuICAgICAgICAgICAgLy8g5pyA5paw44Gu44OX44Ot44Oz44OX44OI5LiA6Kan44KS5YaN6Kqt44G/6L6844G/XG4gICAgICAgICAgICBsb2FkUHJvbXB0cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5oqV56i/44Ko44Op44O8OlwiLCBlcnIpO1xuICAgICAgICAgIGFsZXJ0KFwi44OX44Ot44Oz44OX44OI5oqV56i/5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44Gf44CCXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyDmipXnqL/jg6Ljg7zjg4Djg6vjga7ooajnpLrjg7vpnZ7ooajnpLpcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbnN0IG9wZW5Nb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3BlblBvc3RNb2RhbFwiKTtcbiAgY29uc3QgcG9zdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0TW9kYWxcIik7XG4gIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLWJ0blwiKTtcbiAgY29uc3QgbmV3UHJvbXB0SWNvbiA9IG9wZW5Nb2RhbEJ0biA/IG9wZW5Nb2RhbEJ0bi5xdWVyeVNlbGVjdG9yKFwiaVwiKSA6IG51bGw7XG5cbiAgY29uc3QgdHJpZ2dlck5ld1Byb21wdEljb25Sb3RhdGlvbiA9ICgpID0+IHtcbiAgICBpZiAoIW5ld1Byb21wdEljb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV3UHJvbXB0SWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRpbmdcIik7XG4gICAgdm9pZCAobmV3UHJvbXB0SWNvbiBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGg7XG4gICAgbmV3UHJvbXB0SWNvbi5jbGFzc0xpc3QuYWRkKFwicm90YXRpbmdcIik7XG4gIH07XG5cbiAgaWYgKG5ld1Byb21wdEljb24pIHtcbiAgICBuZXdQcm9tcHRJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xuICAgICAgbmV3UHJvbXB0SWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRpbmdcIik7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3Blbk1vZGFsQnRuICYmIHBvc3RNb2RhbCkge1xuICAgIG9wZW5Nb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFpc0xvZ2dlZEluKSB7XG4gICAgICAgIGFsZXJ0KFwi44OX44Ot44Oz44OX44OI44KS5oqV56i/44GZ44KL44Gr44Gv44Ot44Kw44Kk44Oz44GM5b+F6KaB44Gn44GZ44CCXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyaWdnZXJOZXdQcm9tcHRJY29uUm90YXRpb24oKTtcblxuICAgICAgcG9zdE1vZGFsLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNsb3NlTW9kYWxCdG4gJiYgcG9zdE1vZGFsKSB7XG4gICAgY2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcG9zdE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgdHJpZ2dlck5ld1Byb21wdEljb25Sb3RhdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHBvc3RNb2RhbCAmJiBwb3N0TW9kYWwuZGF0YXNldC5wc1dpbmRvd0xpc3RlbmVyICE9PSBcInRydWVcIikge1xuICAgIHBvc3RNb2RhbC5kYXRhc2V0LnBzV2luZG93TGlzdGVuZXIgPSBcInRydWVcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gcG9zdE1vZGFsKSB7XG4gICAgICAgIHBvc3RNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgdHJpZ2dlck5ld1Byb21wdEljb25Sb3RhdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIOODluODg+OCr+ODnuODvOOCr+apn+iDve+8iOOBmeOBp+OBq+WtmOWcqOOBmeOCi+OCq+ODvOODieOBq+WvvuOBl+OBpuOCgueZu+mMsu+8iVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29uc3QgcHJvbXB0Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PihcIi5wcm9tcHQtY2FyZFwiKTtcbiAgcHJvbXB0Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgIGNvbnN0IG1ldGEgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0LW1ldGFcIik7XG4gICAgaWYgKCFtZXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFtZXRhLnF1ZXJ5U2VsZWN0b3IoXCIucHJvbXB0LW1ldGEtaW5mb1wiKSkge1xuICAgICAgY29uc3Qgc3BhbnMgPSBBcnJheS5mcm9tKG1ldGEucXVlcnlTZWxlY3RvckFsbChcInNwYW5cIikpO1xuICAgICAgY29uc3QgbWV0YUluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgbWV0YUluZm8uY2xhc3NMaXN0LmFkZChcInByb21wdC1tZXRhLWluZm9cIik7XG4gICAgICBzcGFucy5mb3JFYWNoKChzcGFuKSA9PiBtZXRhSW5mby5hcHBlbmRDaGlsZChzcGFuKSk7XG4gICAgICBtZXRhLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICBtZXRhLmFwcGVuZENoaWxkKG1ldGFJbmZvKTtcbiAgICB9XG5cbiAgICBsZXQgYm9va21hcmtCdG4gPSBtZXRhLnF1ZXJ5U2VsZWN0b3IoXCIuYm9va21hcmstYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBpZiAoIWJvb2ttYXJrQnRuKSB7XG4gICAgICBib29rbWFya0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBib29rbWFya0J0bi5jbGFzc0xpc3QuYWRkKFwiYm9va21hcmstYnRuXCIpO1xuICAgICAgYm9va21hcmtCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgIGJvb2ttYXJrQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCLjg5bjg4Pjgq/jg57jg7zjgq9cIik7XG4gICAgICBib29rbWFya0J0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFya1wiPjwvaT5gO1xuICAgICAgbWV0YS5hcHBlbmRDaGlsZChib29rbWFya0J0bik7XG4gICAgfVxuXG4gICAgaWYgKGJvb2ttYXJrQnRuLmRhdGFzZXQuYm91bmQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYm9va21hcmtCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKCFpc0xvZ2dlZEluKSB7XG4gICAgICAgIGFsZXJ0KFwi44OW44OD44Kv44Oe44O844Kv44GZ44KL44Gr44Gv44Ot44Kw44Kk44Oz44GM5b+F6KaB44Gn44GZ44CCXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBib29rbWFya0J0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYm9va21hcmtlZFwiKTtcbiAgICAgIGJvb2ttYXJrQnRuLmlubmVySFRNTCA9IGJvb2ttYXJrQnRuLmNsYXNzTGlzdC5jb250YWlucyhcImJvb2ttYXJrZWRcIilcbiAgICAgICAgPyBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFyay1maWxsXCI+PC9pPmBcbiAgICAgICAgOiBgPGkgY2xhc3M9XCJiaSBiaS1ib29rbWFya1wiPjwvaT5gO1xuICAgIH0pO1xuICAgIGJvb2ttYXJrQnRuLmRhdGFzZXQuYm91bmQgPSBcInRydWVcIjtcbiAgfSk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIOOCrOODvOODieODrOODvOODq+OBruihqOekuuWIh+abv+WHpueQhlxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29uc3QgZ3VhcmRyYWlsQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1YXJkcmFpbC1jaGVja2JveFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgY29uc3QgZ3VhcmRyYWlsRmllbGRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWFyZHJhaWwtZmllbGRzXCIpO1xuXG4gIGlmIChndWFyZHJhaWxDaGVja2JveCAmJiBndWFyZHJhaWxGaWVsZHMpIHtcbiAgICBndWFyZHJhaWxDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGd1YXJkcmFpbEZpZWxkcy5zdHlsZS5kaXNwbGF5ID0gZ3VhcmRyYWlsQ2hlY2tib3guY2hlY2tlZCA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIOODl+ODreODs+ODl+ODiOips+e0sOODouODvOODgOODq+apn+iDvVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgZnVuY3Rpb24gc2hvd1Byb21wdERldGFpbE1vZGFsKHByb21wdDogUHJvbXB0RGF0YSkge1xuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9tcHREZXRhaWxNb2RhbFwiKTtcbiAgICBjb25zdCBtb2RhbFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbFByb21wdFRpdGxlXCIpO1xuICAgIGNvbnN0IG1vZGFsQ2F0ZWdvcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsUHJvbXB0Q2F0ZWdvcnlcIik7XG4gICAgY29uc3QgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbFByb21wdENvbnRlbnRcIik7XG4gICAgY29uc3QgbW9kYWxBdXRob3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsUHJvbXB0QXV0aG9yXCIpO1xuICAgIGNvbnN0IG1vZGFsSW5wdXRFeGFtcGxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxJbnB1dEV4YW1wbGVzXCIpO1xuICAgIGNvbnN0IG1vZGFsT3V0cHV0RXhhbXBsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsT3V0cHV0RXhhbXBsZXNcIik7XG4gICAgY29uc3QgbW9kYWxJbnB1dEV4YW1wbGVzR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsSW5wdXRFeGFtcGxlc0dyb3VwXCIpO1xuICAgIGNvbnN0IG1vZGFsT3V0cHV0RXhhbXBsZXNHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWxPdXRwdXRFeGFtcGxlc0dyb3VwXCIpO1xuXG4gICAgaWYgKCFtb2RhbCB8fCAhbW9kYWxUaXRsZSB8fCAhbW9kYWxDYXRlZ29yeSB8fCAhbW9kYWxDb250ZW50IHx8ICFtb2RhbEF1dGhvcikgcmV0dXJuO1xuXG4gICAgLy8g44Oi44O844OA44Or44Gr44OH44O844K/44KS6Kit5a6aXG4gICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IHByb21wdC50aXRsZTtcbiAgICBtb2RhbENhdGVnb3J5LnRleHRDb250ZW50ID0gcHJvbXB0LmNhdGVnb3J5IHx8IFwiXCI7XG4gICAgbW9kYWxDb250ZW50LnRleHRDb250ZW50ID0gcHJvbXB0LmNvbnRlbnQ7XG4gICAgbW9kYWxBdXRob3IudGV4dENvbnRlbnQgPSBwcm9tcHQuYXV0aG9yIHx8IFwiXCI7XG5cbiAgICAvLyDlhaXlipvkvovjg7vlh7rlipvkvovjgYzjgYLjgovloLTlkIjjga7jgb/ooajnpLpcbiAgICBpZiAocHJvbXB0LmlucHV0X2V4YW1wbGVzICYmIG1vZGFsSW5wdXRFeGFtcGxlcyAmJiBtb2RhbElucHV0RXhhbXBsZXNHcm91cCkge1xuICAgICAgbW9kYWxJbnB1dEV4YW1wbGVzLnRleHRDb250ZW50ID0gcHJvbXB0LmlucHV0X2V4YW1wbGVzO1xuICAgICAgbW9kYWxJbnB1dEV4YW1wbGVzR3JvdXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9IGVsc2UgaWYgKG1vZGFsSW5wdXRFeGFtcGxlc0dyb3VwKSB7XG4gICAgICBtb2RhbElucHV0RXhhbXBsZXNHcm91cC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgaWYgKHByb21wdC5vdXRwdXRfZXhhbXBsZXMgJiYgbW9kYWxPdXRwdXRFeGFtcGxlcyAmJiBtb2RhbE91dHB1dEV4YW1wbGVzR3JvdXApIHtcbiAgICAgIG1vZGFsT3V0cHV0RXhhbXBsZXMudGV4dENvbnRlbnQgPSBwcm9tcHQub3V0cHV0X2V4YW1wbGVzO1xuICAgICAgbW9kYWxPdXRwdXRFeGFtcGxlc0dyb3VwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSBlbHNlIGlmIChtb2RhbE91dHB1dEV4YW1wbGVzR3JvdXApIHtcbiAgICAgIG1vZGFsT3V0cHV0RXhhbXBsZXNHcm91cC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgLy8g44Oi44O844OA44Or44KS6KGo56S6XG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gIH1cblxuICAvLyDjg6Ljg7zjg4Djg6vjgpLplonjgZjjgovmqZ/og71cbiAgY29uc3QgcHJvbXB0RGV0YWlsTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb21wdERldGFpbE1vZGFsXCIpO1xuICBjb25zdCBjbG9zZVByb21wdERldGFpbE1vZGFsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZVByb21wdERldGFpbE1vZGFsXCIpO1xuXG4gIC8vIOmWieOBmOOCi+ODnOOCv+ODs+OBp+ODouODvOODgOODq+OCkumWieOBmOOCi1xuICBpZiAoY2xvc2VQcm9tcHREZXRhaWxNb2RhbEJ0biAmJiBwcm9tcHREZXRhaWxNb2RhbCkge1xuICAgIGNsb3NlUHJvbXB0RGV0YWlsTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb21wdERldGFpbE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g44Oi44O844OA44Or6IOM5pmv44Kv44Oq44OD44Kv44Gn6ZaJ44GY44KLXG4gIGlmIChwcm9tcHREZXRhaWxNb2RhbCkge1xuICAgIHByb21wdERldGFpbE1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBwcm9tcHREZXRhaWxNb2RhbCkge1xuICAgICAgICBwcm9tcHREZXRhaWxNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gaW5pdFByb21wdFNoYXJlUGFnZSgpKTtcbn0gZWxzZSB7XG4gIGluaXRQcm9tcHRTaGFyZVBhZ2UoKTtcbn1cblxuZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbImluaXRQcm9tcHRTaGFyZVBhZ2UiLCJhdHRlbXB0IiwicHJvbXB0Q29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGF0YXNldCIsInBzSW5pdGlhbGl6ZWQiLCJ1c2VySWNvbiIsImdldEVsZW1lbnRCeUlkIiwiYXV0aEJ1dHRvbnMiLCJpc0xvZ2dlZEluIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwibG9nZ2VkX2luIiwiZGF0YSIsIkJvb2xlYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJsb2dpbkJ0biIsIm9uY2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImNsb3NlQWxsRHJvcGRvd25zIiwiZXhjZXB0Q2FyZCIsIm9wZW5NZW51cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibWVudSIsImNvbnRhaW5zIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidHJpZ2dlciIsInBhcmVudEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJwYXJlbnRDYXJkIiwiY2xvc2VzdCIsImJvZHkiLCJwc0Ryb3Bkb3duTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiVElUTEVfQ0hBUl9MSU1JVCIsIkNPTlRFTlRfQ0hBUl9MSU1JVCIsInRydW5jYXRlVGV4dCIsInRleHQiLCJsaW1pdCIsInNhZmVUZXh0IiwiY2hhcnMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJzbGljZSIsImpvaW4iLCJ0cnVuY2F0ZVRpdGxlIiwidGl0bGUiLCJ0cnVuY2F0ZUNvbnRlbnQiLCJjb250ZW50IiwidXBkYXRlQm9va21hcmtCdXR0b25TdGF0ZSIsImJ1dHRvbiIsImlzQm9va21hcmtlZCIsInRvZ2dsZSIsImlubmVySFRNTCIsInNlbmRCb29rbWFya1JlcXVlc3QiLCJtZXRob2QiLCJwYXlsb2FkIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiRXJyb3IiLCJzYXZlUHJvbXB0Qm9va21hcmsiLCJwcm9tcHQiLCJpbnB1dF9leGFtcGxlcyIsIm91dHB1dF9leGFtcGxlcyIsInJlbW92ZVByb21wdEJvb2ttYXJrIiwic2F2ZVByb21wdFRvTGlzdCIsInByb21wdF9pZCIsImlkIiwiY2F0ZWdvcnkiLCJjcmVhdGVQcm9tcHRDYXJkRWxlbWVudCIsImNhcmQiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwiYm9va21hcmtlZCIsImlzU2F2ZWRUb0xpc3QiLCJzYXZlZF90b19saXN0IiwiYm9va21hcmtJY29uIiwidHJ1bmNhdGVkQ29udGVudCIsImF1dGhvciIsImZ1bGxUaXRsZSIsImZ1bGxDb250ZW50Iiwic2F2ZWRUb0xpc3QiLCJwc0JvdW5kIiwiYm9va21hcmtCdG4iLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiYWxlcnQiLCJzaG91bGRCb29rbWFyayIsImRpc2FibGVkIiwicmVxdWVzdCIsInJlc3VsdCIsIm1lc3NhZ2UiLCJsb2ciLCJmaW5hbGx5IiwiYm91bmQiLCJjb21tZW50QnRuIiwibGlrZUJ0biIsImljb24iLCJtZWF0YmFsbEJ0biIsImRyb3Bkb3duTWVudSIsIndpbGxPcGVuIiwiZXZlbnQiLCJpdGVtIiwic2F2ZU1lbnVJdGVtIiwidGFyZ2V0Iiwic2hvd1Byb21wdERldGFpbE1vZGFsIiwibG9hZFByb21wdHMiLCJzdGF0dXMiLCJwcm9tcHRzIiwiYXBwZW5kQ2hpbGQiLCJzZXR1cFN0YXRpY0NhcmRFdmVudHMiLCJzdGF0aWNDYXJkcyIsInRpdGxlRWxlbSIsInRleHRDb250ZW50IiwiY29udGVudEVsZW0iLCJtZXRhIiwic3BhbnMiLCJtZXRhSW5mbyIsInNwYW4iLCJnZXRBdHRyaWJ1dGUiLCJhdXRob3JTcGFuIiwicmVwbGFjZSIsIm1vY2tQcm9tcHQiLCJzZWFyY2hJbnB1dCIsInNlYXJjaEJ1dHRvbiIsInByb21wdENhcmRzU2VjdGlvbiIsInNlbGVjdGVkQ2F0ZWdvcnlUaXRsZSIsInNlYXJjaFByb21wdHNTZXJ2ZXIiLCJxdWVyeSIsInZhbHVlIiwidHJpbSIsImVuY29kZVVSSUNvbXBvbmVudCIsImtleSIsInByZXZlbnREZWZhdWx0IiwiY2F0ZWdvcnlDYXJkcyIsImFwcGx5Q2F0ZWdvcnlGaWx0ZXIiLCJjIiwic2VsZWN0ZWRDYXRlZ29yeSIsInByb21wdENhcmRzIiwicHJvbXB0Q2F0ZWdvcnkiLCJwb3N0Rm9ybSIsInRpdGxlSW5wdXQiLCJjYXRlZ29yeUlucHV0IiwiY29udGVudElucHV0IiwiYXV0aG9ySW5wdXQiLCJndWFyZHJhaWxDaGVja2JveCIsInVzZUd1YXJkcmFpbCIsImNoZWNrZWQiLCJpbnB1dEV4YW1wbGUiLCJvdXRwdXRFeGFtcGxlIiwiaXNQdWJsaWMiLCJwb3N0RGF0YSIsImlzX3B1YmxpYyIsInJlc2V0IiwiZ3VhcmRyYWlsRmllbGRzIiwicG9zdE1vZGFsIiwidHJpZ2dlck5ld1Byb21wdEljb25Sb3RhdGlvbiIsIm9wZW5Nb2RhbEJ0biIsImNsb3NlTW9kYWxCdG4iLCJuZXdQcm9tcHRJY29uIiwib2Zmc2V0V2lkdGgiLCJwc1dpbmRvd0xpc3RlbmVyIiwibW9kYWwiLCJtb2RhbFRpdGxlIiwibW9kYWxDYXRlZ29yeSIsIm1vZGFsQ29udGVudCIsIm1vZGFsQXV0aG9yIiwibW9kYWxJbnB1dEV4YW1wbGVzIiwibW9kYWxPdXRwdXRFeGFtcGxlcyIsIm1vZGFsSW5wdXRFeGFtcGxlc0dyb3VwIiwibW9kYWxPdXRwdXRFeGFtcGxlc0dyb3VwIiwicHJvbXB0RGV0YWlsTW9kYWwiLCJjbG9zZVByb21wdERldGFpbE1vZGFsQnRuIiwicmVhZHlTdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/prompt_share/prompt_share.ts\n");

/***/ })

};
;